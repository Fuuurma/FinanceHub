{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sergi/Desktop/Projects/FinanceHub/apps/frontend/src/components/attribution/SectorAttributionChart.tsx"],"sourcesContent":["'use client'\n\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  Legend,\n  PieChart,\n  Pie,\n  Cell,\n  ReferenceLine,\n} from 'recharts'\nimport type { SectorAttribution } from '@/lib/types/attribution'\nimport { SECTOR_COLORS } from '@/lib/types/attribution'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { cn } from '@/lib/utils'\n\ninterface SectorAttributionChartProps {\n  data: SectorAttribution[]\n  type?: 'bar' | 'pie'\n  loading?: boolean\n  showBenchmark?: boolean\n  benchmarkReturn?: number\n}\n\nexport function SectorAttributionChart({\n  data,\n  type = 'bar',\n  loading = false,\n  showBenchmark = false,\n  benchmarkReturn,\n}: SectorAttributionChartProps) {\n  if (loading) {\n    return (\n      <div className=\"h-[400px] w-full bg-muted animate-pulse rounded-lg\" />\n    )\n  }\n\n  if (data.length === 0) {\n    return (\n      <div className=\"h-[400px] w-full flex items-center justify-center bg-muted/50 rounded-lg\">\n        <p className=\"text-muted-foreground\">No attribution data available</p>\n      </div>\n    )\n  }\n\n  const formatPercent = (value: number) =>\n    `${value >= 0 ? '+' : ''}${value.toFixed(2)}%`\n\n  interface TooltipPayloadItem {\n    payload: {\n      sector?: string\n      name?: string\n      weight: number\n      return: number\n      contribution?: number\n      holdings_count?: number\n    }\n  }\n\n  interface TooltipProps {\n    active?: boolean\n    payload?: TooltipPayloadItem[]\n  }\n\n  const CustomTooltip = ({ active, payload }: TooltipProps) => {\n    if (active && payload && payload.length) {\n      const item = payload[0].payload\n      const outperformance = benchmarkReturn !== undefined\n        ? item.return - benchmarkReturn\n        : undefined\n\n      return (\n        <div className=\"bg-background border rounded-lg shadow-lg p-3\">\n          <p className=\"font-medium capitalize mb-2\">\n            {item.sector || item.name}\n          </p>\n          <div className=\"space-y-1 text-sm\">\n            <div className=\"flex justify-between gap-8\">\n              <span className=\"text-muted-foreground\">Weight:</span>\n              <span className=\"font-medium\">{item.weight.toFixed(1)}%</span>\n            </div>\n            {item.holdings_count !== undefined && (\n              <div className=\"flex justify-between gap-8\">\n                <span className=\"text-muted-foreground\">Holdings:</span>\n                <span className=\"font-medium\">{item.holdings_count}</span>\n              </div>\n            )}\n            {item.contribution !== undefined && (\n              <div className=\"flex justify-between gap-8\">\n                <span className=\"text-muted-foreground\">Contribution:</span>\n                <span className={cn(\n                  'font-medium',\n                  item.contribution >= 0 ? 'text-green-600' : 'text-red-600'\n                )}>\n                  {formatPercent(item.contribution)}\n                </span>\n              </div>\n            )}\n            {outperformance !== undefined && (\n              <div className=\"flex justify-between gap-8\">\n                <span className=\"text-muted-foreground\">vs Benchmark:</span>\n                <span className={cn(\n                  'font-medium',\n                  outperformance >= 0 ? 'text-green-600' : 'text-red-600'\n                )}>\n                  {formatPercent(outperformance)}\n                </span>\n              </div>\n            )}\n            <div className=\"flex justify-between gap-8\">\n              <span className=\"text-muted-foreground\">Holdings:</span>\n              <span className=\"font-medium\">{item.holdings_count}</span>\n            </div>\n          </div>\n        </div>\n      )\n    }\n    return null\n  }\n\n  interface LegendProps {\n    payload: Array<{\n      color: string\n      value: string\n    }>\n  }\n\n  const renderLegend = (props: LegendProps) => {\n    const { payload } = props\n    return (\n      <ul className=\"flex flex-wrap justify-center gap-3 mt-4\">\n        {payload.map((entry, index) => (\n          <li key={`legend-${index}`} className=\"flex items-center gap-1.5 text-sm\">\n            <div\n              className=\"w-3 h-3 rounded-full\"\n              style={{ backgroundColor: entry.color }}\n            />\n            <span className=\"capitalize\">{entry.value}</span>\n          </li>\n        ))}\n      </ul>\n    )\n  }\n\n  if (type === 'pie') {\n    return (\n      <div className=\"h-[400px] w-full\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <PieChart>\n            <Pie\n              data={data}\n              cx=\"50%\"\n              cy=\"45%\"\n              outerRadius={140}\n              fill=\"#8884d8\"\n              dataKey=\"contribution\"\n              nameKey=\"sector\"\n              label={({ sector, percent }) =>\n                `${sector} (${(percent * 100).toFixed(0)}%)`\n              }\n              labelLine={false}\n            >\n              {data.map((entry, index) => (\n                <Cell\n                  key={`cell-${index}`}\n                  fill={SECTOR_COLORS[entry.sector] || SECTOR_COLORS['Other']}\n                />\n            ))}\n          </Pie>\n          <Tooltip content={CustomTooltip as any} />\n          <Legend content={renderLegend as any} />\n          </PieChart>\n        </ResponsiveContainer>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"h-[400px] w-full\">\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <BarChart\n          data={data}\n          layout=\"vertical\"\n          margin={{ top: 20, right: 30, left: 100, bottom: 5 }}\n        >\n          <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-muted\" />\n          <XAxis\n            type=\"number\"\n            tickFormatter={(value) => `${value >= 0 ? '+' : ''}${value.toFixed(1)}%`}\n            tick={{ fontSize: 12, fill: '#6B7280' }}\n            axisLine={{ stroke: '#E5E7EB' }}\n          />\n          <YAxis\n            type=\"category\"\n            dataKey=\"sector\"\n            tick={{ fontSize: 12, fill: '#6B7280' }}\n            axisLine={false}\n            tickLine={false}\n            width={90}\n          />\n          <Tooltip content={<CustomTooltip />} />\n          <Legend />\n          {showBenchmark && benchmarkReturn !== undefined && (\n            <ReferenceLine\n              x={benchmarkReturn}\n              stroke=\"#F59E0B\"\n              strokeDasharray=\"5 5\"\n              label={{\n                value: `Benchmark: ${formatPercent(benchmarkReturn)}`,\n                position: 'top',\n                fill: '#F59E0B',\n                fontSize: 11,\n              }}\n            />\n          )}\n          <Bar\n            dataKey=\"allocation_effect\"\n            name=\"Allocation Effect\"\n            stackId=\"a\"\n            fill=\"#3B82F6\"\n            radius={[0, 0, 0, 0]}\n          />\n          <Bar\n            dataKey=\"selection_effect\"\n            name=\"Selection Effect\"\n            stackId=\"a\"\n            fill=\"#10B981\"\n            radius={[0, 4, 4, 0]}\n          />\n        </BarChart>\n      </ResponsiveContainer>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 452, "column": 0}, "map": {"version":3,"sources":["file:///Users/sergi/Desktop/Projects/FinanceHub/apps/frontend/src/components/attribution/HoldingAttributionTable.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useMemo } from 'react'\nimport {\n  ColumnDef,\n  flexRender,\n  getCoreRowModel,\n  getSortedRowModel,\n  useReactTable,\n  SortingState,\n} from '@tanstack/react-table'\nimport { ArrowUpDown, ArrowUp, ArrowDown } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport type { HoldingAttribution } from '@/lib/types/attribution'\nimport { SECTOR_COLORS } from '@/lib/types/attribution'\nimport { cn } from '@/lib/utils'\n\ninterface HoldingAttributionTableProps {\n  attribution: HoldingAttribution[]\n  formatCurrency: (value: number) => string\n  formatPercent: (value: number) => string\n}\n\nexport function HoldingAttributionTable({\n  attribution,\n  formatCurrency,\n  formatPercent,\n}: HoldingAttributionTableProps) {\n  const [sorting, setSorting] = useState<SortingState>([\n    { id: 'contribution', desc: true },\n  ])\n  const [selectedRows, setSelectedRows] = useState<Set<string>>(new Set())\n\n  const columns = useMemo<ColumnDef<HoldingAttribution>[]>(\n    () => [\n      {\n        id: 'select',\n        header: ({ table }) => (\n          <Checkbox\n            checked={table.getIsAllPageRowsSelected()}\n            onCheckedChange={(value) => table.toggleAllPageRowsSelected(!!value)}\n            aria-label=\"Select all\"\n          />\n        ),\n        cell: ({ row }) => (\n          <Checkbox\n            checked={row.getIsSelected()}\n            onCheckedChange={(value) => row.toggleSelected(!!value)}\n            aria-label=\"Select row\"\n          />\n        ),\n        enableSorting: false,\n        size: 40,\n      },\n      {\n        accessorKey: 'symbol',\n        header: ({ column }) => (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n            className=\"p-0 hover:bg-transparent\"\n          >\n            Symbol\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        ),\n        cell: ({ row }) => (\n          <div className=\"flex flex-col\">\n            <span className=\"font-semibold\">{row.getValue('symbol')}</span>\n            <span className=\"text-xs text-muted-foreground truncate max-w-[120px]\">\n              {row.original.name}\n            </span>\n          </div>\n        ),\n        size: 120,\n      },\n      {\n        accessorKey: 'sector',\n        header: 'Sector',\n        cell: ({ row }) => {\n          const sector = row.getValue('sector') as string\n          return (\n            <Badge\n              variant=\"outline\"\n              style={{\n                borderColor: SECTOR_COLORS[sector] || SECTOR_COLORS['Other'],\n                color: SECTOR_COLORS[sector] || SECTOR_COLORS['Other'],\n              }}\n            >\n              {sector}\n            </Badge>\n          )\n        },\n        size: 120,\n      },\n      {\n        accessorKey: 'weight',\n        header: ({ column }) => (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n            className=\"p-0 hover:bg-transparent\"\n          >\n            Weight\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        ),\n        cell: ({ row }) => {\n          const weight = row.getValue('weight') as number\n          return (\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-16 h-2 bg-gray-200 rounded-full overflow-hidden\">\n                <div\n                  className=\"h-full bg-primary rounded-full\"\n                  style={{ width: `${Math.min(weight * 4, 100)}%` }}\n                />\n              </div>\n              <span className=\"text-sm\">{weight.toFixed(1)}%</span>\n            </div>\n          )\n        },\n        size: 140,\n      },\n      {\n        accessorKey: 'return',\n        header: ({ column }) => (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n            className=\"p-0 hover:bg-transparent\"\n          >\n            Return\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        ),\n        cell: ({ row }) => {\n          const returnValue = row.getValue('return') as number\n          return (\n            <span className={cn(\n              'font-medium',\n              returnValue >= 0 ? 'text-green-600' : 'text-red-600'\n            )}>\n              {formatPercent(returnValue)}\n            </span>\n          )\n        },\n        size: 100,\n      },\n      {\n        accessorKey: 'contribution',\n        header: ({ column }) => (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n            className=\"p-0 hover:bg-transparent\"\n          >\n            Contribution\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        ),\n        cell: ({ row }) => {\n          const contribution = row.getValue('contribution') as number\n          return (\n            <div className=\"flex flex-col items-end\">\n              <span className={cn(\n                'font-semibold',\n                contribution >= 0 ? 'text-green-600' : 'text-red-600'\n              )}>\n                {formatPercent(contribution)}\n              </span>\n              <span className=\"text-xs text-muted-foreground\">\n                {formatCurrency(row.original.contribution * 1000)}\n              </span>\n            </div>\n          )\n        },\n        size: 140,\n      },\n      {\n        accessorKey: 'value_change',\n        header: 'Value Change',\n        cell: ({ row }) => {\n          const valueChange = row.getValue('value_change') as number\n          return (\n            <span className={cn(\n              'font-medium',\n              valueChange >= 0 ? 'text-green-600' : 'text-red-600'\n            )}>\n              {formatCurrency(valueChange)}\n            </span>\n          )\n        },\n        size: 120,\n      },\n    ],\n    [formatCurrency, formatPercent]\n  )\n\n  const table = useReactTable({\n    data: attribution,\n    columns,\n    getCoreRowModel: getCoreRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    onSortingChange: setSorting,\n    state: {\n      sorting,\n    },\n    initialState: {\n      pagination: {\n        pageSize: 10,\n      },\n    },\n  })\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <p className=\"text-sm text-muted-foreground\">\n          {attribution.length} holdings â€¢ Click column headers to sort\n        </p>\n      </div>\n\n      <div className=\"border rounded-lg\">\n        <Table>\n          <TableHeader>\n            {table.getHeaderGroups().map((headerGroup) => (\n              <TableRow key={headerGroup.id}>\n                {headerGroup.headers.map((header) => (\n                  <TableHead key={header.id} style={{ width: header.getSize() }}>\n                    {header.isPlaceholder\n                      ? null\n                      : flexRender(header.column.columnDef.header, header.getContext())}\n                  </TableHead>\n                ))}\n              </TableRow>\n            ))}\n          </TableHeader>\n          <TableBody>\n            {table.getRowModel().rows?.length ? (\n              table.getRowModel().rows.map((row) => (\n                <TableRow\n                  key={row.id}\n                  data-state={row.getIsSelected() && 'selected'}\n                  className=\"cursor-pointer\"\n                  onClick={() => row.toggleSelected()}\n                >\n                  {row.getVisibleCells().map((cell) => (\n                    <TableCell key={cell.id}>\n                      {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                    </TableCell>\n                  ))}\n                </TableRow>\n              ))\n            ) : (\n              <TableRow>\n                <TableCell colSpan={columns.length} className=\"h-24 text-center\">\n                  No attribution data available\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </div>\n\n      {/* Pagination */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"text-sm text-muted-foreground\">\n          Showing {table.getState().pagination.pageIndex * table.getState().pagination.pageSize + 1} to{' '}\n          {Math.min(\n            (table.getState().pagination.pageIndex + 1) * table.getState().pagination.pageSize,\n            attribution.length\n          )}{' '}\n          of {attribution.length} holdings\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => table.previousPage()}\n            disabled={!table.getCanPreviousPage()}\n          >\n            Previous\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => table.nextPage()}\n            disabled={!table.getCanNextPage()}\n          >\n            Next\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 924, "column": 0}, "map": {"version":3,"sources":["file:///Users/sergi/Desktop/Projects/FinanceHub/apps/frontend/src/components/attribution/AttributionSummary.tsx"],"sourcesContent":["'use client'\n\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport {\n  ArrowUpRight,\n  ArrowDownRight,\n  TrendingUp,\n  TrendingDown,\n  PieChart,\n  Layers,\n} from 'lucide-react'\nimport type {\n  AttributionSummary,\n  SectorAttribution,\n  AssetClassAttribution,\n} from '@/lib/types/attribution'\nimport { SECTOR_COLORS } from '@/lib/types/attribution'\nimport { cn } from '@/lib/utils'\n\ninterface AttributionSummaryProps {\n  summary: AttributionSummary\n  sectorAttribution: SectorAttribution[]\n  assetClassAttribution: AssetClassAttribution[]\n}\n\nexport function AttributionSummary({\n  summary,\n  sectorAttribution,\n  assetClassAttribution,\n}: AttributionSummaryProps) {\n  const formatPercent = (value: number) =>\n    `${value >= 0 ? '+' : ''}${value.toFixed(2)}%`\n\n  const formatCurrency = (value: number) =>\n    new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(value)\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Top/Bottom Contributors */}\n      <div className=\"grid gap-4 md:grid-cols-2\">\n        <Card className=\"border-green-200 bg-green-50/50 dark:bg-green-900/20 dark:border-green-800\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\n              <ArrowUpRight className=\"h-4 w-4 text-green-600\" />\n              Top Contributors\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {summary.top_contributor ? (\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"font-semibold text-lg\">{summary.top_contributor.symbol}</p>\n                    <p className=\"text-sm text-muted-foreground\">{summary.top_contributor.name}</p>\n                  </div>\n                  <Badge className=\"bg-green-100 text-green-700\">\n                    {formatPercent(summary.top_contributor.contribution)}\n                  </Badge>\n                </div>\n                <div className=\"grid grid-cols-3 gap-2 text-sm\">\n                  <div>\n                    <p className=\"text-muted-foreground\">Weight</p>\n                    <p className=\"font-medium\">{summary.top_contributor.weight.toFixed(1)}%</p>\n                  </div>\n                  <div>\n                    <p className=\"text-muted-foreground\">Return</p>\n                    <p className=\"font-medium text-green-600\">\n                      {formatPercent(summary.top_contributor.return)}\n                    </p>\n                  </div>\n                  <div>\n                    <p className=\"text-muted-foreground\">Value</p>\n                    <p className=\"font-medium\">{formatCurrency(summary.top_contributor.value_end)}</p>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <p className=\"text-muted-foreground\">No data available</p>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-red-200 bg-red-50/50 dark:bg-red-900/20 dark:border-red-800\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\n              <ArrowDownRight className=\"h-4 w-4 text-red-600\" />\n              Bottom Contributors\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {summary.bottom_contributor ? (\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"font-semibold text-lg\">{summary.bottom_contributor.symbol}</p>\n                    <p className=\"text-sm text-muted-foreground\">{summary.bottom_contributor.name}</p>\n                  </div>\n                  <Badge className=\"bg-red-100 text-red-700\">\n                    {formatPercent(summary.bottom_contributor.contribution)}\n                  </Badge>\n                </div>\n                <div className=\"grid grid-cols-3 gap-2 text-sm\">\n                  <div>\n                    <p className=\"text-muted-foreground\">Weight</p>\n                    <p className=\"font-medium\">{summary.bottom_contributor.weight.toFixed(1)}%</p>\n                  </div>\n                  <div>\n                    <p className=\"text-muted-foreground\">Return</p>\n                    <p className=\"font-medium text-red-600\">\n                      {formatPercent(summary.bottom_contributor.return)}\n                    </p>\n                  </div>\n                  <div>\n                    <p className=\"text-muted-foreground\">Value</p>\n                    <p className=\"font-medium\">{formatCurrency(summary.bottom_contributor.value_end)}</p>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <p className=\"text-muted-foreground\">No data available</p>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Sector Performance */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <PieChart className=\"h-5 w-5\" />\n            Sector Performance\n          </CardTitle>\n          <CardDescription>\n            How each sector contributed to overall returns\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-3\">\n            {sectorAttribution.slice(0, 6).map((sector) => (\n              <div\n                key={sector.sector}\n                className=\"flex items-center justify-between p-3 rounded-lg bg-muted/50\"\n              >\n                <div className=\"flex items-center gap-3\">\n                  <div\n                    className=\"w-3 h-3 rounded-full\"\n                    style={{ backgroundColor: SECTOR_COLORS[sector.sector] || '#6B7280' }}\n                  />\n                  <div>\n                    <p className=\"font-medium\">{sector.sector}</p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      {sector.holdings_count} holding{sector.holdings_count !== 1 ? 's' : ''}\n                    </p>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-6\">\n                  <div className=\"text-right\">\n                    <p className=\"text-sm text-muted-foreground\">Weight</p>\n                    <p className=\"font-medium\">{sector.weight.toFixed(1)}%</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-sm text-muted-foreground\">Return</p>\n                    <p className={cn(\n                      'font-medium',\n                      sector.return >= 0 ? 'text-green-600' : 'text-red-600'\n                    )}>\n                      {formatPercent(sector.return)}\n                    </p>\n                  </div>\n                  <div className=\"text-right w-20\">\n                    <p className=\"text-sm text-muted-foreground\">Contribution</p>\n                    <p className={cn(\n                      'font-semibold',\n                      sector.contribution >= 0 ? 'text-green-600' : 'text-red-600'\n                    )}>\n                      {formatPercent(sector.contribution)}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Asset Class Breakdown */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Layers className=\"h-5 w-5\" />\n            Asset Class Breakdown\n          </CardTitle>\n          <CardDescription>\n            Performance by asset class\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n            {assetClassAttribution.map((assetClass) => (\n              <div\n                key={assetClass.asset_class}\n                className=\"p-4 rounded-lg border\"\n              >\n                <div className=\"flex items-center justify-between mb-2\">\n                  <p className=\"font-medium capitalize\">{assetClass.asset_class.replace('_', ' ')}</p>\n                  <Badge variant=\"secondary\">\n                    {assetClass.holdings_count} holding{assetClass.holdings_count !== 1 ? 's' : ''}\n                  </Badge>\n                </div>\n                <div className=\"space-y-1 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-muted-foreground\">Weight</span>\n                    <span className=\"font-medium\">{assetClass.weight.toFixed(1)}%</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-muted-foreground\">Return</span>\n                    <span className={cn(\n                      'font-medium',\n                      assetClass.return >= 0 ? 'text-green-600' : 'text-red-600'\n                    )}>\n                      {formatPercent(assetClass.return)}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-muted-foreground\">Contribution</span>\n                    <span className={cn(\n                      'font-semibold',\n                      assetClass.contribution >= 0 ? 'text-green-600' : 'text-red-600'\n                    )}>\n                      {formatPercent(assetClass.contribution)}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Attribution Effect */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <TrendingUp className=\"h-5 w-5\" />\n            Attribution Effect Analysis\n          </CardTitle>\n          <CardDescription>\n            Breakdown of allocation vs selection effects\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid gap-4 md:grid-cols-3\">\n            <div className=\"p-4 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800\">\n              <p className=\"text-sm text-muted-foreground mb-1\">Allocation Effect</p>\n              <p className={cn(\n                'text-2xl font-bold',\n                summary.allocation_effect >= 0 ? 'text-blue-600' : 'text-red-600'\n              )}>\n                {formatPercent(summary.allocation_effect)}\n              </p>\n              <p className=\"text-xs text-muted-foreground mt-1\">\n                Impact of weight differences vs benchmark\n              </p>\n            </div>\n            <div className=\"p-4 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800\">\n              <p className=\"text-sm text-muted-foreground mb-1\">Selection Effect</p>\n              <p className={cn(\n                'text-2xl font-bold',\n                summary.selection_effect >= 0 ? 'text-green-600' : 'text-red-600'\n              )}>\n                {formatPercent(summary.selection_effect)}\n              </p>\n              <p className=\"text-xs text-muted-foreground mt-1\">\n                Impact of security selection within sectors\n              </p>\n            </div>\n            <div className=\"p-4 rounded-lg bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800\">\n              <p className=\"text-sm text-muted-foreground mb-1\">Total Effect</p>\n              <p className={cn(\n                'text-2xl font-bold',\n                summary.total_effect >= 0 ? 'text-purple-600' : 'text-red-600'\n              )}>\n                {formatPercent(summary.total_effect)}\n              </p>\n              <p className=\"text-xs text-muted-foreground mt-1\">\n                Combined allocation + selection effects\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1864, "column": 0}, "map": {"version":3,"sources":["file:///Users/sergi/Desktop/Projects/FinanceHub/apps/frontend/src/components/attribution/AttributionDashboard.tsx"],"sourcesContent":["'use client'\n\nimport { useMemo, useState, useCallback, useEffect } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Button } from '@/components/ui/button'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport { Label } from '@/components/ui/label'\nimport { Badge } from '@/components/ui/badge'\nimport {\n  TrendingUp, TrendingDown, PieChart, BarChart3, Layers, ArrowUpRight, ArrowDownRight,\n  Settings2, Target, Activity, Zap\n} from 'lucide-react'\nimport type { Holding, AttributionPeriod } from '@/lib/types/holdings'\nimport type { BenchmarkType } from '@/lib/types/attribution'\nimport type { BenchmarkConfig } from '@/lib/types/attribution'\nimport {\n  calculateAttributionSummary,\n  calculateHoldingAttribution,\n  calculateSectorAttribution,\n  calculateAssetClassAttribution,\n  calculateBenchmarkComparison,\n  DEFAULT_ATTRIBUTION_PERIODS,\n  BENCHMARK_CONFIGS,\n  BENCHMARK_CATEGORIES,\n} from '@/lib/utils/attribution-calculations'\nimport { SECTOR_COLORS } from '@/lib/types/attribution'\nimport { cn } from '@/lib/utils'\nimport { SectorAttributionChart } from './SectorAttributionChart'\nimport { HoldingAttributionTable } from './HoldingAttributionTable'\nimport { AttributionSummary } from './AttributionSummary'\nimport { useMemo as useReactMemo } from 'react'\n\ninterface AttributionDashboardProps {\n  holdings: Holding[]\n  loading?: boolean\n  onPeriodChange?: (period: AttributionPeriod) => void\n  benchmark?: BenchmarkType\n  initialBenchmark?: BenchmarkType\n}\n\nexport function AttributionDashboard({\n  holdings,\n  loading = false,\n  onPeriodChange,\n  initialBenchmark = 'sp500',\n}: AttributionDashboardProps) {\n  const [period, setPeriod] = useState<AttributionPeriod>('1m')\n  const [activeTab, setActiveTab] = useState('summary')\n  const [benchmark, setBenchmark] = useState<BenchmarkType>(initialBenchmark)\n  const [showBenchmarkSettings, setShowBenchmarkSettings] = useState(false)\n  const [selectedCategories, setSelectedCategories] = useState<string[]>(['us_indices', 'etf'])\n\n  const filteredBenchmarks = useMemo(() => {\n    return BENCHMARK_CONFIGS.filter(b => selectedCategories.includes(b.category))\n  }, [selectedCategories])\n\n  const summary = useMemo(() => {\n    const baseSummary = calculateAttributionSummary(holdings)\n    const benchmarkConfig = BENCHMARK_CONFIGS.find(b => b.type === benchmark)\n    if (benchmarkConfig) {\n      return calculateBenchmarkComparison(baseSummary, holdings, benchmarkConfig, period)\n    }\n    return baseSummary\n  }, [holdings, benchmark, period])\n\n  const holdingAttribution = useMemo(() => calculateHoldingAttribution(holdings), [holdings])\n  const sectorAttribution = useMemo(() => calculateSectorAttribution(holdings), [holdings])\n  const assetClassAttribution = useMemo(() => calculateAssetClassAttribution(holdings), [holdings])\n\n  const formatPercent = (value: number) =>\n    `${value >= 0 ? '+' : ''}${value.toFixed(2)}%`\n\n  const formatCurrency = (value: number) =>\n    new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(value)\n\n  const benchmarkConfig = BENCHMARK_CONFIGS.find(b => b.type === benchmark)\n  const excessReturn = summary.benchmark_comparison?.excess_return ?? 0\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <Skeleton className=\"h-8 w-64\" />\n          <Skeleton className=\"h-10 w-64\" />\n        </div>\n        <div className=\"grid gap-4 md:grid-cols-4\">\n          {[1, 2, 3, 4].map((i) => (\n            <Skeleton key={i} className=\"h-32\" />\n          ))}\n        </div>\n        <Skeleton className=\"h-96\" />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4\">\n        <div>\n          <h2 className=\"text-2xl font-bold\">Performance Attribution</h2>\n          <p className=\"text-muted-foreground\">\n            Analyze how each holding, sector, and asset class contributed to your returns\n          </p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          {/* Benchmark Selector */}\n          <Popover open={showBenchmarkSettings} onOpenChange={setShowBenchmarkSettings}>\n            <PopoverTrigger asChild>\n              <Button variant=\"outline\" className=\"min-w-[180px]\">\n                <Target className=\"w-4 h-4 mr-2\" />\n                <span className=\"truncate\">\n                  {benchmarkConfig?.name || 'Select Benchmark'}\n                </span>\n              </Button>\n            </PopoverTrigger>\n            <PopoverContent className=\"w-80\" align=\"end\">\n              <div className=\"space-y-4\">\n                <div>\n                  <h4 className=\"font-semibold mb-2\">Benchmark Settings</h4>\n                  <p className=\"text-sm text-muted-foreground\">\n                    Compare your portfolio performance against market indices, ETFs, or custom benchmarks.\n                  </p>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label className=\"text-xs\">Categories</Label>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {BENCHMARK_CATEGORIES.map(cat => (\n                      <Badge\n                        key={cat.value}\n                        variant={selectedCategories.includes(cat.value) ? 'default' : 'outline'}\n                        className=\"cursor-pointer\"\n                        onClick={() => {\n                          if (selectedCategories.includes(cat.value)) {\n                            setSelectedCategories(prev => prev.filter(c => c !== cat.value))\n                          } else {\n                            setSelectedCategories(prev => [...prev, cat.value])\n                          }\n                        }}\n                      >\n                        {cat.label}\n                      </Badge>\n                    ))}\n                  </div>\n                </div>\n                <div className=\"space-y-2 max-h-48 overflow-y-auto\">\n                  <Label className=\"text-xs\">Select Benchmark</Label>\n                  {filteredBenchmarks.map(b => (\n                    <div\n                      key={b.type}\n                      className={cn(\n                        'flex items-center gap-2 p-2 rounded cursor-pointer transition-colors',\n                        benchmark === b.type ? 'bg-primary/10' : 'hover:bg-muted'\n                      )}\n                      onClick={() => {\n                        setBenchmark(b.type)\n                        setShowBenchmarkSettings(false)\n                      }}\n                    >\n                      <div className={cn(\n                        'w-3 h-3 rounded-full',\n                        benchmark === b.type ? 'bg-primary' : 'border border-muted-foreground'\n                      )} />\n                      <div className=\"flex-1\">\n                        <div className=\"font-medium text-sm\">{b.name}</div>\n                        <div className=\"text-xs text-muted-foreground\">{b.description}</div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </PopoverContent>\n          </Popover>\n\n          {/* Period Selector */}\n          <Select\n            value={period}\n            onValueChange={(value) => {\n              setPeriod(value as AttributionPeriod)\n              onPeriodChange?.(value as AttributionPeriod)\n            }}\n          >\n            <SelectTrigger className=\"w-[120px]\">\n              <SelectValue placeholder=\"Period\" />\n            </SelectTrigger>\n            <SelectContent>\n              {DEFAULT_ATTRIBUTION_PERIODS.map((p) => (\n                <SelectItem key={p.value} value={p.value}>\n                  {p.label}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      {/* Benchmark Comparison Header */}\n      {summary.benchmark_comparison && (\n        <Card className=\"bg-muted/50\">\n          <CardContent className=\"py-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-4\">\n                <div className=\"flex items-center gap-2\">\n                  <Target className=\"w-5 h-5 text-muted-foreground\" />\n                  <span className=\"text-sm text-muted-foreground\">vs</span>\n                  <span className=\"font-semibold\">{benchmarkConfig?.name}</span>\n                </div>\n                <div className=\"h-8 w-px bg-border\" />\n                <div className=\"flex items-center gap-4 text-sm\">\n                  <div>\n                    <span className=\"text-muted-foreground\">Portfolio: </span>\n                    <span className={cn(\n                      'font-semibold',\n                      summary.total_return >= 0 ? 'text-green-600' : 'text-red-600'\n                    )}>\n                      {formatPercent(summary.total_return)}\n                    </span>\n                  </div>\n                  <div>\n                    <span className=\"text-muted-foreground\">{benchmarkConfig?.name}: </span>\n                    <span className={cn(\n                      'font-semibold',\n                      summary.benchmark_comparison.benchmark_return >= 0 ? 'text-green-600' : 'text-red-600'\n                    )}>\n                      {formatPercent(summary.benchmark_comparison.benchmark_return)}\n                    </span>\n                  </div>\n                  <div className=\"h-4 w-px bg-border\" />\n                  <div>\n                    <span className=\"text-muted-foreground\">Excess Return: </span>\n                    <span className={cn(\n                      'font-semibold',\n                      excessReturn >= 0 ? 'text-green-600' : 'text-red-600'\n                    )}>\n                      {formatPercent(excessReturn)}\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-4 text-xs text-muted-foreground\">\n                {summary.benchmark_comparison.information_ratio !== undefined && (\n                  <div className=\"flex items-center gap-1\">\n                    <Activity className=\"w-3 h-3\" />\n                    <span>IR: {summary.benchmark_comparison.information_ratio.toFixed(2)}</span>\n                  </div>\n                )}\n                {summary.benchmark_comparison.beta !== undefined && (\n                  <div className=\"flex items-center gap-1\">\n                    <Zap className=\"w-3 h-3\" />\n                    <span>Î²: {summary.benchmark_comparison.beta.toFixed(2)}</span>\n                  </div>\n                )}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Summary Cards */}\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total Return</CardTitle>\n            {summary.total_return >= 0 ? (\n              <TrendingUp className=\"h-4 w-4 text-green-600\" />\n            ) : (\n              <TrendingDown className=\"h-4 w-4 text-red-600\" />\n            )}\n          </CardHeader>\n          <CardContent>\n            <div className={cn(\n              'text-2xl font-bold',\n              summary.total_return >= 0 ? 'text-green-600' : 'text-red-600'\n            )}>\n              {formatPercent(summary.total_return)}\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              {formatCurrency(summary.total_contribution)} contribution\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Top Contributor</CardTitle>\n            <ArrowUpRight className=\"h-4 w-4 text-green-600\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{summary.top_contributor?.symbol || '-'}</div>\n            <p className=\"text-xs text-muted-foreground\">\n              {summary.top_contributor\n                ? `${formatPercent(summary.top_contributor.contribution)} contribution`\n                : 'No data'}\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Worst Performer</CardTitle>\n            <ArrowDownRight className=\"h-4 w-4 text-red-600\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{summary.bottom_contributor?.symbol || '-'}</div>\n            <p className=\"text-xs text-muted-foreground\">\n              {summary.bottom_contributor\n                ? `${formatPercent(summary.bottom_contributor.contribution)} contribution`\n                : 'No data'}\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Allocation vs Selection</CardTitle>\n            <PieChart className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-1\">\n              <div className=\"flex justify-between text-sm\">\n                <span>Allocation</span>\n                <span className={cn(\n                  'font-medium',\n                  summary.allocation_effect >= 0 ? 'text-green-600' : 'text-red-600'\n                )}>\n                  {formatPercent(summary.allocation_effect)}\n                </span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span>Selection</span>\n                <span className={cn(\n                  'font-medium',\n                  summary.selection_effect >= 0 ? 'text-green-600' : 'text-red-600'\n                )}>\n                  {formatPercent(summary.selection_effect)}\n                </span>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Attribution Breakdown */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Attribution Breakdown</CardTitle>\n          <CardDescription>\n            {summary.positive_holdings} holdings positive, {summary.negative_holdings} negative\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Tabs value={activeTab} onValueChange={setActiveTab}>\n            <TabsList className=\"mb-4\">\n              <TabsTrigger value=\"summary\">\n                <Layers className=\"w-4 h-4 mr-2\" />\n                Summary\n              </TabsTrigger>\n              <TabsTrigger value=\"holdings\">\n                <BarChart3 className=\"w-4 h-4 mr-2\" />\n                By Holding\n              </TabsTrigger>\n              <TabsTrigger value=\"sectors\">\n                <PieChart className=\"w-4 h-4 mr-2\" />\n                By Sector\n              </TabsTrigger>\n              <TabsTrigger value=\"assets\">\n                <Layers className=\"w-4 h-4 mr-2\" />\n                By Asset Class\n              </TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"summary\">\n              <AttributionSummary\n                summary={summary}\n                sectorAttribution={sectorAttribution}\n                assetClassAttribution={assetClassAttribution}\n              />\n            </TabsContent>\n\n            <TabsContent value=\"holdings\">\n              <HoldingAttributionTable\n                attribution={holdingAttribution}\n                formatCurrency={formatCurrency}\n                formatPercent={formatPercent}\n              />\n            </TabsContent>\n\n            <TabsContent value=\"sectors\">\n              <SectorAttributionChart\n                data={sectorAttribution}\n                type=\"bar\"\n                showBenchmark={!!summary.benchmark_comparison}\n                benchmarkReturn={summary.benchmark_comparison?.benchmark_return}\n              />\n            </TabsContent>\n\n            <TabsContent value=\"assets\">\n              <SectorAttributionChart\n                data={sectorAttribution}\n                type=\"pie\"\n              />\n            </TabsContent>\n          </Tabs>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}