{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sergi/Desktop/Projects/FinanceHub/apps/frontend/src/components/charts/AdvancedChart.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useRef, useState, useCallback, useMemo } from 'react'\nimport {\n  createChart,\n  IChartApi,\n  ISeriesApi,\n  ColorType,\n  CrosshairMode,\n  Time,\n  MouseEventParams,\n} from 'lightweight-charts'\nimport { useTheme } from 'next-themes'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport { assetsApi } from '@/lib/api/assets'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuCheckboxItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu'\nimport {\n  Download,\n  RefreshCw,\n  AlertTriangle,\n  TrendingUp,\n  TrendingDown,\n  Settings2,\n  Undo,\n  Minus,\n  TrendingUp as TrendLineIcon,\n  Square,\n  Type,\n  Activity,\n  Camera,\n  FileImage,\n  FileText,\n} from 'lucide-react'\nimport { TechnicalIndicatorsPanel } from './TechnicalIndicatorsPanel'\nimport { IndicatorConfig, calculateAllIndicators, INDICATOR_DESCRIPTIONS } from '@/lib/utils/technical-indicators'\nimport { useRealtimeStore } from '@/stores/realtimeStore'\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/ui/tooltip'\nimport { HelpCircle } from 'lucide-react'\nimport { useDownloadFile } from '@/hooks/useDownload'\nimport { cn } from '@/lib/utils'\nimport { ChartScreenReader } from './ScreenReaderChart'\n\nexport type ChartType = 'candlestick' | 'line' | 'area' | 'bar' | 'histogram'\nexport type Timeframe = '1m' | '5m' | '15m' | '1h' | '4h' | '1d' | '1w' | '1M'\nexport type DrawingType = 'horizontal_line' | 'vertical_line' | 'trend_line' | 'fibonacci' | 'rectangle' | 'text'\n\nexport interface Drawing {\n  id: string\n  type: DrawingType\n  startTime: Time\n  startValue: number\n  endTime?: Time\n  endValue?: number\n  color: string\n  width: number\n  text?: string\n  visible: boolean\n}\n\ninterface AdvancedChartProps {\n  symbol: string\n  chartType?: ChartType\n  timeframe?: Timeframe\n  height?: number\n  showVolume?: boolean\n  showIndicators?: string[]\n  indicatorConfig?: IndicatorConfig\n  enableDrawingTools?: boolean\n  onTimeframeChange?: (tf: Timeframe) => void\n  onSymbolChange?: (symbol: string) => void\n  onIndicatorChange?: (indicator: string, enabled: boolean) => void\n  onDrawingCreate?: (drawing: Drawing) => void\n}\n\nexport interface OHLCVData {\n  date: string\n  open: number\n  high: number\n  low: number\n  close: number\n  volume?: number\n}\n\ninterface CrosshairData {\n  time: string | null\n  open: number | null\n  high: number | null\n  low: number | null\n  close: number | null\n  volume: number | null\n  sma20?: number | null\n  sma50?: number | null\n  sma200?: number | null\n  ema12?: number | null\n  ema26?: number | null\n  rsi?: number | null\n  macd?: number | null\n  macdSignal?: number | null\n  bollingerUpper?: number | null\n  bollingerMiddle?: number | null\n  bollingerLower?: number | null\n}\n\nconst TIMEFRAMES: { value: Timeframe; label: string; hotkey: string }[] = [\n  { value: '1m', label: '1m', hotkey: '1' },\n  { value: '5m', label: '5m', hotkey: '2' },\n  { value: '15m', label: '15m', hotkey: '3' },\n  { value: '1h', label: '1H', hotkey: '4' },\n  { value: '4h', label: '4H', hotkey: '5' },\n  { value: '1d', label: '1D', hotkey: '6' },\n  { value: '1w', label: '1W', hotkey: '7' },\n  { value: '1M', label: '1M', hotkey: '8' },\n]\n\nconst CHART_TYPES: { value: ChartType; label: string; hotkey: string }[] = [\n  { value: 'candlestick', label: 'Candlestick', hotkey: 'c' },\n  { value: 'line', label: 'Line', hotkey: 'l' },\n  { value: 'area', label: 'Area', hotkey: 'a' },\n  { value: 'bar', label: 'Bar', hotkey: 'b' },\n  { value: 'histogram', label: 'Histogram', hotkey: 'h' },\n]\n\nexport function AdvancedChart({\n  symbol,\n  chartType = 'candlestick',\n  timeframe = '1d',\n  height = 500,\n  showVolume = true,\n  showIndicators = [],\n  indicatorConfig = {},\n  enableDrawingTools = false,\n  onTimeframeChange,\n  onSymbolChange,\n  onIndicatorChange,\n  onDrawingCreate,\n}: AdvancedChartProps) {\n  const chartContainerRef = useRef<HTMLDivElement>(null)\n  const chartRef = useRef<IChartApi | null>(null)\n  const { theme } = useTheme()\n  const { prices } = useRealtimeStore()\n  const { downloadCSV, downloadText } = useDownloadFile()\n  \n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [currentData, setCurrentData] = useState<OHLCVData[]>([])\n  const [crosshairData, setCrosshairData] = useState<CrosshairData>({\n    time: null,\n    open: null,\n    high: null,\n    low: null,\n    close: null,\n    volume: null,\n  })\n  const [retryCount, setRetryCount] = useState(0)\n  const [selectedDrawingTool, setSelectedDrawingTool] = useState<DrawingType | null>(null)\n  const [drawings, setDrawings] = useState<Drawing[]>([])\n  const [isExporting, setIsExporting] = useState(false)\n\n  const isDark = theme === 'dark'\n\n  const chartColors = useMemo(() => ({\n    background: isDark ? '#0f172a' : '#ffffff',\n    text: isDark ? '#94a3b8' : '#64748b',\n    grid: isDark ? '#1e293b' : '#e2e8f0',\n    upColor: '#22c55e',\n    downColor: '#ef4444',\n    wickUpColor: '#22c55e',\n    wickDownColor: '#ef4444',\n    volumeUp: isDark ? 'rgba(34, 197, 94, 0.3)' : 'rgba(34, 197, 94, 0.2)',\n    volumeDown: isDark ? 'rgba(239, 68, 68, 0.3)' : 'rgba(239, 68, 68, 0.2)',\n    crosshairLine: isDark ? 'rgba(148, 163, 184, 0.3)' : 'rgba(100, 116, 139, 0.3)',\n    sma20Color: '#3b82f6',\n    sma50Color: '#22c55e',\n    sma200Color: '#f59e0b',\n    ema12Color: '#8b5cf6',\n    ema26Color: '#ec4899',\n    bollingerUpperColor: '#94a3b8',\n    bollingerMiddleColor: '#64748b',\n    bollingerLowerColor: '#94a3b8',\n  }), [isDark])\n\n  const showRSI = showIndicators.includes('rsi')\n  const showMACD = showIndicators.includes('macd')\n  const showSMA20 = showIndicators.includes('sma20')\n  const showSMA50 = showIndicators.includes('sma50')\n  const showSMA200 = showIndicators.includes('sma200')\n  const showEMA12 = showIndicators.includes('ema12')\n  const showEMA26 = showIndicators.includes('ema26')\n  const showBollinger = showIndicators.includes('bollinger')\n\n  const indicatorResults = useMemo(() => {\n    if (currentData.length === 0) return null\n    const config: IndicatorConfig = {\n      sma20: showSMA20,\n      sma50: showSMA50,\n      sma200: showSMA200,\n      ema12: showEMA12,\n      ema26: showEMA26,\n      rsi: showRSI,\n      macd: showMACD,\n      bollinger: showBollinger,\n      rsiPeriod: indicatorConfig.rsiPeriod,\n      rsiOverbought: indicatorConfig.rsiOverbought,\n      rsiOversold: indicatorConfig.rsiOversold,\n      macdFast: indicatorConfig.macdFast,\n      macdSlow: indicatorConfig.macdSlow,\n      macdSignal: indicatorConfig.macdSignal,\n      bollingerPeriod: indicatorConfig.bollingerPeriod,\n      bollingerStdDev: indicatorConfig.bollingerStdDev,\n    }\n    return calculateAllIndicators(currentData, config)\n  }, [currentData, showSMA20, showSMA50, showSMA200, showEMA12, showEMA26, showRSI, showMACD, showBollinger, indicatorConfig])\n\n  const loadData = useCallback(async () => {\n    if (!chartContainerRef.current) return\n\n    setLoading(true)\n    setError(null)\n\n    try {\n      const interval = timeframe === '1d' ? '1d' : timeframe === '1w' ? '1wk' : timeframe === '1M' ? '1mo' : '1d'\n      const history = await assetsApi.getHistorical(symbol, undefined, undefined, interval)\n\n      if (!history || history.length === 0) {\n        setError('No data available for this symbol')\n        setLoading(false)\n        return\n      }\n\n      const ohlcvData: OHLCVData[] = history.map((d) => ({\n        date: d.timestamp instanceof Date ? d.timestamp.toISOString() : new Date(d.timestamp).toISOString(),\n        open: d.open,\n        high: d.high,\n        low: d.low,\n        close: d.close,\n        volume: d.volume,\n      }))\n\n      setCurrentData(ohlcvData)\n      setRetryCount(0)\n\n      if (chartRef.current) {\n        chartRef.current.remove()\n      }\n\n      const chart = createChart(chartContainerRef.current, {\n        width: chartContainerRef.current.clientWidth,\n        height: height - (showRSI || showMACD ? 250 : 0) - 60,\n        layout: {\n          background: { type: ColorType.Solid, color: chartColors.background },\n          textColor: chartColors.text,\n        },\n        grid: {\n          vertLines: { color: chartColors.grid, style: 2 },\n          horzLines: { color: chartColors.grid, style: 2 },\n        },\n        crosshair: {\n          mode: CrosshairMode.Normal,\n          vertLine: {\n            width: 1,\n            color: chartColors.crosshairLine,\n            style: 2,\n          },\n          horzLine: {\n            width: 1,\n            color: chartColors.crosshairLine,\n            style: 2,\n          },\n        },\n        rightPriceScale: {\n          borderColor: chartColors.grid,\n          borderVisible: true,\n          scaleMargins: {\n            top: showVolume ? 0.1 : 0,\n            bottom: showVolume ? 0.15 : 0,\n          },\n        },\n        timeScale: {\n          borderColor: chartColors.grid,\n          timeVisible: true,\n          secondsVisible: false,\n          barSpacing: 6,\n          minBarSpacing: 2,\n        },\n        handleScroll: {\n          vertTouchDrag: true,\n        },\n        handleScale: {\n          axisPressedMouseMove: true,\n          mouseWheel: true,\n          pinch: true,\n        },\n      })\n\n      chartRef.current = chart\n\n      const chartAny = chart as unknown as any\n\n      let mainSeries: ISeriesApi<'Candlestick' | 'Line' | 'Area' | 'Bar'>\n\n      if (chartType === 'candlestick') {\n        mainSeries = chartAny.addCandlestickSeries({\n          upColor: chartColors.upColor,\n          downColor: chartColors.downColor,\n          borderVisible: false,\n          wickUpColor: chartColors.wickUpColor,\n          wickDownColor: chartColors.wickDownColor,\n        })\n\n        mainSeries.setData(\n          ohlcvData.map((d) => ({\n            time: d.date as Time,\n            open: d.open,\n            high: d.high,\n            low: d.low,\n            close: d.close,\n          }))\n        )\n      } else if (chartType === 'line') {\n        mainSeries = chartAny.addLineSeries({\n          color: '#3b82f6',\n          lineWidth: 2,\n          priceFormat: {\n            type: 'price',\n            precision: 2,\n            minMove: 0.01,\n          },\n        })\n\n        mainSeries.setData(\n          ohlcvData.map((d) => ({\n            time: d.date as Time,\n            value: d.close,\n          }))\n        )\n      } else if (chartType === 'area') {\n        mainSeries = chartAny.addAreaSeries({\n          topColor: 'rgba(59, 130, 246, 0.5)',\n          bottomColor: 'rgba(59, 130, 246, 0.0)',\n          lineColor: '#3b82f6',\n          lineWidth: 2,\n        })\n\n        mainSeries.setData(\n          ohlcvData.map((d) => ({\n            time: d.date as Time,\n            value: d.close,\n          }))\n        )\n      } else if (chartType === 'bar') {\n        mainSeries = chartAny.addBarSeries({\n          upColor: chartColors.upColor,\n          downColor: chartColors.downColor,\n        })\n\n        mainSeries.setData(\n          ohlcvData.map((d) => ({\n            time: d.date as Time,\n            open: d.open,\n            high: d.high,\n            low: d.low,\n            close: d.close,\n          }))\n        )\n      } else {\n        mainSeries = chartAny.addHistogramSeries({\n          priceFormat: {\n            type: 'volume',\n            precision: 0,\n            separator: ',',\n          },\n          priceScaleId: '',\n        })\n\n        mainSeries.setData(\n          ohlcvData.map((d) => ({\n            time: d.date as Time,\n            value: d.volume || 0,\n            color: d.close >= d.open ? chartColors.upColor : chartColors.downColor,\n          }))\n        )\n      }\n\n      if (showVolume && chartType !== 'histogram' && ohlcvData.some((d) => d.volume !== undefined)) {\n        const volumeSeries = chartAny.addHistogramSeries({\n          priceFormat: {\n            type: 'volume',\n            precision: 0,\n            separator: ',',\n          },\n          priceScaleId: 'volume',\n        })\n\n        volumeSeries.priceScale().applyOptions({\n          scaleMargins: {\n            top: 0.85,\n            bottom: 0,\n          },\n          borderVisible: false,\n        })\n\n        volumeSeries.setData(\n          ohlcvData.map((d) => ({\n            time: d.date as Time,\n            value: d.volume || 0,\n            color: d.close >= d.open ? chartColors.volumeUp : chartColors.volumeDown,\n          }))\n        )\n      }\n\n      if (indicatorResults) {\n        const times = ohlcvData.map(d => d.date as Time)\n\n        if (indicatorResults.sma20) {\n          const sma20Series = chartAny.addLineSeries({\n            color: chartColors.sma20Color,\n            lineWidth: 1,\n          })\n          sma20Series.setData(\n            indicatorResults.sma20.map((value, i) =>\n              isNaN(value) ? null : { time: times[i], value }\n            ).filter((v): v is { time: Time; value: number } => v !== null)\n          )\n        }\n\n        if (indicatorResults.sma50) {\n          const sma50Series = chartAny.addLineSeries({\n            color: chartColors.sma50Color,\n            lineWidth: 1,\n          })\n          sma50Series.setData(\n            indicatorResults.sma50.map((value, i) =>\n              isNaN(value) ? null : { time: times[i], value }\n            ).filter((v): v is { time: Time; value: number } => v !== null)\n          )\n        }\n\n        if (indicatorResults.sma200) {\n          const sma200Series = chartAny.addLineSeries({\n            color: chartColors.sma200Color,\n            lineWidth: 1,\n          })\n          sma200Series.setData(\n            indicatorResults.sma200.map((value, i) =>\n              isNaN(value) ? null : { time: times[i], value }\n            ).filter((v): v is { time: Time; value: number } => v !== null)\n          )\n        }\n\n        if (indicatorResults.ema12) {\n          const ema12Series = chartAny.addLineSeries({\n            color: chartColors.ema12Color,\n            lineWidth: 1,\n          })\n          ema12Series.setData(\n            indicatorResults.ema12.map((value, i) =>\n              isNaN(value) ? null : { time: times[i], value }\n            ).filter((v): v is { time: Time; value: number } => v !== null)\n          )\n        }\n\n        if (indicatorResults.ema26) {\n          const ema26Series = chartAny.addLineSeries({\n            color: chartColors.ema26Color,\n            lineWidth: 1,\n          })\n          ema26Series.setData(\n            indicatorResults.ema26.map((value, i) =>\n              isNaN(value) ? null : { time: times[i], value }\n            ).filter((v): v is { time: Time; value: number } => v !== null)\n          )\n        }\n\n        if (indicatorResults.bollinger) {\n          const bb = indicatorResults.bollinger\n          const upperSeries = chartAny.addLineSeries({\n            color: chartColors.bollingerUpperColor,\n            lineWidth: 1,\n          })\n          upperSeries.setData(\n            bb.upper.map((value, i) =>\n              isNaN(value) ? null : { time: times[i], value }\n            ).filter((v): v is { time: Time; value: number } => v !== null)\n          )\n\n          const middleSeries = chartAny.addLineSeries({\n            color: chartColors.bollingerMiddleColor,\n            lineWidth: 1,\n          })\n          middleSeries.setData(\n            bb.middle.map((value, i) =>\n              isNaN(value) ? null : { time: times[i], value }\n            ).filter((v): v is { time: Time; value: number } => v !== null)\n          )\n\n          const lowerSeries = chartAny.addLineSeries({\n            color: chartColors.bollingerLowerColor,\n            lineWidth: 1,\n          })\n          lowerSeries.setData(\n            bb.lower.map((value, i) =>\n              isNaN(value) ? null : { time: times[i], value }\n            ).filter((v): v is { time: Time; value: number } => v !== null)\n          )\n        }\n      }\n\n      chart.timeScale().fitContent()\n\n      chart.subscribeCrosshairMove((param: MouseEventParams) => {\n        if (param.time && param.seriesData.size > 0) {\n          const time = param.time as string\n          const ohlcv = ohlcvData.find((d) => d.date === time)\n          if (ohlcv) {\n            const idx = ohlcvData.findIndex(d => d.date === time)\n            setCrosshairData({\n              time,\n              open: ohlcv.open,\n              high: ohlcv.high,\n              low: ohlcv.low,\n              close: ohlcv.close,\n              volume: ohlcv.volume || null,\n              sma20: indicatorResults?.sma20?.[idx] ?? null,\n              sma50: indicatorResults?.sma50?.[idx] ?? null,\n              sma200: indicatorResults?.sma200?.[idx] ?? null,\n              ema12: indicatorResults?.ema12?.[idx] ?? null,\n              ema26: indicatorResults?.ema26?.[idx] ?? null,\n              rsi: indicatorResults?.rsi?.[idx] ?? null,\n              macd: indicatorResults?.macd?.macd?.[idx] ?? null,\n              macdSignal: indicatorResults?.macd?.signal?.[idx] ?? null,\n              bollingerUpper: indicatorResults?.bollinger?.upper?.[idx] ?? null,\n              bollingerMiddle: indicatorResults?.bollinger?.middle?.[idx] ?? null,\n              bollingerLower: indicatorResults?.bollinger?.lower?.[idx] ?? null,\n            })\n          }\n        } else {\n          const lastIdx = ohlcvData.length - 1\n          if (lastIdx >= 0) {\n            setCrosshairData({\n              time: ohlcvData[lastIdx].date,\n              open: ohlcvData[lastIdx].open,\n              high: ohlcvData[lastIdx].high,\n              low: ohlcvData[lastIdx].low,\n              close: ohlcvData[lastIdx].close,\n              volume: ohlcvData[lastIdx].volume || null,\n              sma20: indicatorResults?.sma20?.[lastIdx] ?? null,\n              sma50: indicatorResults?.sma50?.[lastIdx] ?? null,\n              sma200: indicatorResults?.sma200?.[lastIdx] ?? null,\n              ema12: indicatorResults?.ema12?.[lastIdx] ?? null,\n              ema26: indicatorResults?.ema26?.[lastIdx] ?? null,\n              rsi: indicatorResults?.rsi?.[lastIdx] ?? null,\n              macd: indicatorResults?.macd?.macd?.[lastIdx] ?? null,\n              macdSignal: indicatorResults?.macd?.signal?.[lastIdx] ?? null,\n              bollingerUpper: indicatorResults?.bollinger?.upper?.[lastIdx] ?? null,\n              bollingerMiddle: indicatorResults?.bollinger?.middle?.[lastIdx] ?? null,\n              bollingerLower: indicatorResults?.bollinger?.lower?.[lastIdx] ?? null,\n            })\n          }\n        }\n      })\n\n      const handleResize = () => {\n        if (chartContainerRef.current && chartRef.current) {\n          chartRef.current.applyOptions({\n            width: chartContainerRef.current.clientWidth,\n          })\n        }\n      }\n\n      window.addEventListener('resize', handleResize)\n\n      setLoading(false)\n    } catch (err) {\n      console.error('Failed to load chart data:', err)\n      setError(err instanceof Error ? err.message : 'Failed to load chart data')\n      setLoading(false)\n    }\n  }, [symbol, chartType, timeframe, height, showVolume, showIndicators, indicatorConfig, chartColors, indicatorResults])\n\n  useEffect(() => {\n    loadData()\n  }, [loadData])\n\n  const handleRetry = () => {\n    setRetryCount((prev) => prev + 1)\n    loadData()\n  }\n\n  const handleExportPNG = useCallback(async () => {\n    if (!chartRef.current) return\n    \n    setIsExporting(true)\n    try {\n      const canvas = (chartRef.current as unknown as IChartApi).takeScreenshot()\n      if (canvas) {\n        const filename = `${symbol}-${chartType}-${timeframe}-${new Date().toISOString().slice(0, 10)}.png`\n        const dataUrl = canvas.toDataURL('image/png')\n        downloadText(dataUrl, filename, 'image/png')\n      }\n    } catch (err) {\n      console.error('Failed to export chart:', err)\n    } finally {\n      setIsExporting(false)\n    }\n  }, [symbol, chartType, timeframe, downloadText])\n\n  const handleExportCSV = useCallback(() => {\n    if (currentData.length === 0) return\n    \n    const headers = 'Date,Open,High,Low,Close,Volume\\n'\n    const rows = currentData.map(d => \n      `${d.date},${d.open},${d.high},${d.low},${d.close},${d.volume || 0}`\n    ).join('\\n')\n    \n    const csv = headers + rows\n    const filename = `${symbol}-${chartType}-${timeframe}-${new Date().toISOString().slice(0, 10)}.csv`\n    downloadCSV(csv, filename)\n  }, [currentData, symbol, chartType, timeframe, downloadCSV])\n\n  const latestData = currentData[currentData.length - 1]\n  const previousClose = currentData[currentData.length - 2]?.close\n  const priceChange = latestData && previousClose ? latestData.close - previousClose : null\n  const priceChangePercent = priceChange && previousClose ? (priceChange / previousClose) * 100 : null\n\n  const formatValue = (value: number | null | undefined) => {\n    if (value === null || value === undefined || isNaN(value)) return '--'\n    return value.toFixed(2)\n  }\n\n  const activeIndicatorsCount = showIndicators.filter(ind =>\n    ['sma20', 'sma50', 'sma200', 'ema12', 'ema26', 'rsi', 'macd', 'bollinger'].includes(ind)\n  ).length\n\n  if (loading) {\n    return (\n      <div className=\"w-full rounded-lg border bg-card\" style={{ height }}>\n        <div className=\"p-4 border-b space-y-3\">\n          <Skeleton className=\"h-6 w-32\" />\n          <div className=\"flex gap-4\">\n            <Skeleton className=\"h-4 w-20\" />\n            <Skeleton className=\"h-4 w-20\" />\n            <Skeleton className=\"h-4 w-20\" />\n            <Skeleton className=\"h-4 w-20\" />\n          </div>\n        </div>\n        <Skeleton className=\"w-full h-[calc(100%-80px)] rounded-none\" />\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"w-full rounded-lg border bg-card flex flex-col items-center justify-center\" style={{ height }}>\n        <AlertTriangle className=\"h-12 w-12 text-destructive mb-4\" />\n        <p className=\"text-destructive font-medium mb-2\">Failed to load chart data</p>\n        <p className=\"text-sm text-muted-foreground mb-4\">{error}</p>\n        <Button onClick={handleRetry} variant=\"outline\" size=\"sm\">\n          <RefreshCw className=\"h-4 w-4 mr-2\" />\n          Retry\n        </Button>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"w-full rounded-lg border bg-card overflow-hidden\">\n      <ChartScreenReader\n        chartTitle={`${symbol} - ${CHART_TYPES.find(t => t.value === chartType)?.label} Chart`}\n        chartDescription={`Financial chart showing ${symbol} price movements on ${timeframe} timeframe`}\n        currentValue={latestData?.close}\n        change={priceChange !== null ? priceChange : undefined}\n        changePercent={priceChangePercent !== null ? priceChangePercent : undefined}\n        timeframe={timeframe}\n        data={currentData.map(d => [\n          { label: 'Date', value: d.date },\n          { label: 'Open', value: d.open.toFixed(2) },\n          { label: 'High', value: d.high.toFixed(2) },\n          { label: 'Low', value: d.low.toFixed(2) },\n          { label: 'Close', value: d.close.toFixed(2) },\n          { label: 'Volume', value: (d.volume || 0).toLocaleString() },\n        ])}\n        summary={[\n          { label: 'Symbol', value: symbol },\n          { label: 'Chart Type', value: CHART_TYPES.find(t => t.value === chartType)?.label || chartType },\n          { label: 'Data Points', value: currentData.length.toString() },\n          { label: 'Latest Close', value: `$${latestData?.close.toFixed(2) || '--'}` },\n          { label: 'Change', value: priceChangePercent !== null ? `${priceChangePercent >= 0 ? '+' : ''}${priceChangePercent.toFixed(2)}%` : '--' },\n        ]}\n      />\n      <div className=\"p-3 border-b bg-muted/30 space-y-3\">\n        <div className=\"flex items-center justify-between flex-wrap gap-2\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"font-bold text-lg\">{symbol}</span>\n            <Badge variant={priceChangePercent !== null && priceChangePercent >= 0 ? 'default' : 'destructive'} className={priceChangePercent !== null && priceChangePercent >= 0 ? 'bg-green-500' : ''}>\n              {priceChangePercent !== null ? (\n                <>\n                  {priceChangePercent >= 0 ? <TrendingUp className=\"h-3 w-3 mr-1\" /> : <TrendingDown className=\"h-3 w-3 mr-1\" />}\n                  {priceChangePercent >= 0 ? '+' : ''}{priceChangePercent.toFixed(2)}%\n                </>\n              ) : '--'}\n            </Badge>\n            {activeIndicatorsCount > 0 && (\n              <Badge variant=\"outline\" className=\"text-xs\">\n                {activeIndicatorsCount} indicator{activeIndicatorsCount > 1 ? 's' : ''}\n              </Badge>\n            )}\n            {drawings.length > 0 && (\n              <Badge variant=\"outline\" className=\"text-xs\">\n                {drawings.length} drawing{drawings.length > 1 ? 's' : ''}\n              </Badge>\n            )}\n          </div>\n\n          <div className=\"flex items-center gap-2 flex-wrap\">\n            <div className=\"flex items-center gap-0.5 bg-muted rounded-md p-0.5\">\n              {TIMEFRAMES.map((tf) => (\n                <Button\n                  key={tf.value}\n                  variant={timeframe === tf.value ? 'default' : 'ghost'}\n                  size=\"sm\"\n                  className=\"h-7 px-2 text-xs font-medium\"\n                  onClick={() => onTimeframeChange?.(tf.value)}\n                  title={`Press ${tf.hotkey}`}\n                >\n                  {tf.label}\n                </Button>\n              ))}\n            </div>\n\n            <Select\n              value={chartType}\n              onValueChange={(value) => {\n                const chartType = value as ChartType\n                // Handle chart type change\n              }}\n            >\n              <SelectTrigger className=\"h-8 w-36\">\n                <SelectValue>\n                  <span className=\"text-xs\">{CHART_TYPES.find((t) => t.value === chartType)?.label}</span>\n                </SelectValue>\n              </SelectTrigger>\n              <SelectContent>\n                {CHART_TYPES.map((type) => (\n                  <SelectItem key={type.value} value={type.value}>\n                    <span>{type.label}</span>\n                    <span className=\"text-xs text-muted-foreground ml-2\">({type.hotkey})</span>\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n\n            <Button\n              variant={showVolume ? 'default' : 'outline'}\n              size=\"sm\"\n              className=\"h-8 px-3\"\n            >\n              Vol\n            </Button>\n\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant={activeIndicatorsCount > 0 ? 'default' : 'outline'} size=\"sm\" className=\"h-8\">\n                  <Settings2 className=\"h-4 w-4 mr-1\" />\n                  <span className=\"text-xs\">Indicators</span>\n                  {activeIndicatorsCount > 0 && (\n                    <span className=\"ml-1 px-1.5 py-0.5 text-xs bg-primary text-primary-foreground rounded-full\">\n                      {activeIndicatorsCount}\n                    </span>\n                  )}\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-48\">\n                <DropdownMenuLabel>Technical Indicators</DropdownMenuLabel>\n                <DropdownMenuSeparator />\n                {['sma20', 'sma50', 'sma200', 'ema12', 'ema26', 'rsi', 'macd', 'bollinger'].map((indicator) => (\n                  <DropdownMenuCheckboxItem\n                    key={indicator}\n                    checked={showIndicators.includes(indicator)}\n                    onCheckedChange={(checked) => onIndicatorChange?.(indicator, checked as boolean)}\n                  >\n                    {(INDICATOR_DESCRIPTIONS as any)[indicator]?.name || indicator}\n                  </DropdownMenuCheckboxItem>\n                ))}\n              </DropdownMenuContent>\n            </DropdownMenu>\n\n            {enableDrawingTools && (\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button variant={selectedDrawingTool ? 'default' : 'outline'} size=\"sm\" className=\"h-8\">\n                    <Type className=\"h-4 w-4 mr-1\" />\n                    <span className=\"text-xs\">Draw</span>\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"end\" className=\"w-48\">\n                  <DropdownMenuLabel>Drawing Tools</DropdownMenuLabel>\n                  <DropdownMenuSeparator />\n                  <DropdownMenuCheckboxItem\n                    checked={selectedDrawingTool === null}\n                    onCheckedChange={() => setSelectedDrawingTool(null)}\n                  >\n                    Select/Move\n                  </DropdownMenuCheckboxItem>\n                  <DropdownMenuCheckboxItem\n                    checked={selectedDrawingTool === 'horizontal_line'}\n                    onCheckedChange={() => setSelectedDrawingTool('horizontal_line')}\n                  >\n                    <Minus className=\"h-4 w-4 mr-2\" />\n                    Horizontal Line\n                  </DropdownMenuCheckboxItem>\n                  <DropdownMenuCheckboxItem\n                    checked={selectedDrawingTool === 'trend_line'}\n                    onCheckedChange={() => setSelectedDrawingTool('trend_line')}\n                  >\n                    <TrendLineIcon className=\"h-4 w-4 mr-2\" />\n                    Trend Line\n                  </DropdownMenuCheckboxItem>\n                  <DropdownMenuCheckboxItem\n                    checked={selectedDrawingTool === 'fibonacci'}\n                    onCheckedChange={() => setSelectedDrawingTool('fibonacci')}\n                  >\n                    <Activity className=\"h-4 w-4 mr-2\" />\n                    Fibonacci\n                  </DropdownMenuCheckboxItem>\n                  <DropdownMenuCheckboxItem\n                    checked={selectedDrawingTool === 'rectangle'}\n                    onCheckedChange={() => setSelectedDrawingTool('rectangle')}\n                  >\n                    <Square className=\"h-4 w-4 mr-2\" />\n                    Rectangle\n                  </DropdownMenuCheckboxItem>\n                  <DropdownMenuCheckboxItem\n                    checked={selectedDrawingTool === 'text'}\n                    onCheckedChange={() => setSelectedDrawingTool('text')}\n                  >\n                    <Type className=\"h-4 w-4 mr-2\" />\n                    Text\n                  </DropdownMenuCheckboxItem>\n                </DropdownMenuContent>\n              </DropdownMenu>\n            )}\n\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"outline\" size=\"sm\" className=\"h-8\" disabled={isExporting}>\n                  <Download className=\"h-4 w-4 mr-1\" />\n                  <span className=\"text-xs\">Export</span>\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\">\n                <DropdownMenuLabel>Export Chart</DropdownMenuLabel>\n                <DropdownMenuSeparator />\n                <DropdownMenuCheckboxItem onClick={handleExportPNG} disabled={isExporting}>\n                  <FileImage className=\"h-4 w-4 mr-2\" />\n                  Export as PNG\n                </DropdownMenuCheckboxItem>\n                <DropdownMenuCheckboxItem onClick={handleExportCSV} disabled={currentData.length === 0}>\n                  <FileText className=\"h-4 w-4 mr-2\" />\n                  Export Data as CSV\n                </DropdownMenuCheckboxItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-3 text-sm flex-wrap\">\n          <div className=\"flex items-center gap-1\">\n            <span className=\"text-muted-foreground\">O:</span>\n            <span className=\"font-mono\">{formatValue(crosshairData.open)}</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <span className=\"text-muted-foreground\">H:</span>\n            <span className=\"font-mono text-green-500\">{formatValue(crosshairData.high)}</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <span className=\"text-muted-foreground\">L:</span>\n            <span className=\"font-mono text-red-500\">{formatValue(crosshairData.low)}</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <span className=\"text-muted-foreground\">C:</span>\n            <span className=\"font-mono\">{formatValue(crosshairData.close)}</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <span className=\"text-muted-foreground\">Vol:</span>\n            <span className=\"font-mono\">\n              {crosshairData.volume ? (crosshairData.volume / 1000000).toFixed(2) + 'M' : '--'}\n            </span>\n          </div>\n\n          {showSMA20 && crosshairData.sma20 !== null && (\n            <TooltipProvider>\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <div className=\"flex items-center gap-1 cursor-help\">\n                    <span className=\"w-2 h-0.5 bg-blue-500\" />\n                    <span className=\"font-mono text-blue-500\">{formatValue(crosshairData.sma20)}</span>\n                  </div>\n                </TooltipTrigger>\n                <TooltipContent>\n                  <p className=\"font-medium\">{INDICATOR_DESCRIPTIONS.sma20.name}</p>\n                  <p className=\"text-xs text-muted-foreground\">{INDICATOR_DESCRIPTIONS.sma20.description}</p>\n                </TooltipContent>\n              </Tooltip>\n            </TooltipProvider>\n          )}\n\n          {showSMA50 && crosshairData.sma50 !== null && (\n            <div className=\"flex items-center gap-1\">\n              <span className=\"w-2 h-0.5 bg-green-500\" />\n              <span className=\"font-mono text-green-500\">{formatValue(crosshairData.sma50)}</span>\n            </div>\n          )}\n\n          {showBollinger && crosshairData.bollingerUpper !== null && (\n            <div className=\"flex items-center gap-1\">\n              <span className=\"font-mono text-gray-400\">{formatValue(crosshairData.bollingerLower)}</span>\n              <span className=\"text-muted-foreground\">-</span>\n              <span className=\"font-mono text-gray-400\">{formatValue(crosshairData.bollingerUpper)}</span>\n            </div>\n          )}\n        </div>\n      </div>\n      \n      <div ref={chartContainerRef} className=\"w-full\" style={{ height: height - (showRSI || showMACD ? 250 : 0) - 60 }} />\n      \n      {(showRSI || showMACD) && indicatorResults && (\n        <TechnicalIndicatorsPanel\n          data={currentData}\n          showRSI={showRSI}\n          showMACD={showMACD}\n          rsiPeriod={indicatorConfig.rsiPeriod}\n          rsiOverbought={indicatorConfig.rsiOverbought}\n          rsiOversold={indicatorConfig.rsiOversold}\n          macdFast={indicatorConfig.macdFast}\n          macdSlow={indicatorConfig.macdSlow}\n          macdSignal={indicatorConfig.macdSignal}\n          height={220}\n        />\n      )}\n      \n      <div className=\"p-2 border-t bg-muted/20 text-xs text-center text-muted-foreground\">\n        {currentData.length} data points • {timeframe} timeframe • Data by Polygon.io\n        {activeIndicatorsCount > 0 && (\n          <span className=\"ml-2\">\n            • Active: {showIndicators.filter(i => ['sma20', 'sma50', 'sma200', 'ema12', 'ema26', 'rsi', 'macd', 'bollinger'].includes(i)).join(', ')}\n          </span>\n        )}\n        {drawings.length > 0 && (\n          <span className=\"ml-2\">\n            • {drawings.length} drawing{drawings.length > 1 ? 's' : ''}\n          </span>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}