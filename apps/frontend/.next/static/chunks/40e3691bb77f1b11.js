(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14506,e=>{"use strict";var s=e.i(29845),t=e.i(59199),r=e.i(17604),a=e.i(30342),l=e.i(74741),d=e.i(95421),n=e.i(39197),i=e.i(61088),c=e.i(9940),o=e.i(776),x=e.i(89760),m=e.i(18004),h=e.i(77791),u=e.i(63333),j=e.i(32012),f=e.i(87962),p=e.i(22966),N=e.i(96853);function g(){let e=(0,r.useParams)().portfolioId,[g,v]=(0,t.useState)(null),[C,b]=(0,t.useState)([]),[y,w]=(0,t.useState)([]),[T,_]=(0,t.useState)(null),[P,S]=(0,t.useState)(!0),[A,H]=(0,t.useState)(null);if((0,t.useEffect)(()=>{(async()=>{if(e){S(!0),H(null);try{let[s,t,r,l]=await Promise.all([a.portfoliosApi.getPortfolio(e),a.portfoliosApi.getHoldings(e).catch(()=>[]),a.portfoliosApi.getHistory(e,"1m").catch(()=>[]),a.portfoliosApi.getMetrics(e,"1m").catch(()=>null)]);v(s),b(t),w(r),_(l)}catch(e){H(e instanceof Error?e.message:"Failed to load portfolio")}finally{S(!1)}}})()},[e]),P)return(0,s.jsxs)("div",{className:"space-y-6 p-6",children:[(0,s.jsx)(d.Skeleton,{className:"h-12 w-64"}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,s.jsx)(d.Skeleton,{className:"h-32"}),(0,s.jsx)(d.Skeleton,{className:"h-32"}),(0,s.jsx)(d.Skeleton,{className:"h-32"})]}),(0,s.jsx)(d.Skeleton,{className:"h-96"})]});if(A||!g)return(0,s.jsx)("div",{className:"space-y-6 p-6",children:(0,s.jsx)(l.Card,{className:"border-destructive",children:(0,s.jsxs)(l.CardContent,{className:"pt-6 text-center",children:[(0,s.jsx)(x.Wallet,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Portfolio Not Found"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:A||"This portfolio may be private or no longer exists."}),(0,s.jsx)(N.default,{href:"/portfolios",children:(0,s.jsx)(i.Button,{children:"Go to My Portfolios"})})]})})});let B=g.total_value,k=g.day_pnl,D=g.total_pnl,R=C.reduce((e,s)=>{let t=s.asset_type||"other";return e[t]=(e[t]||0)+s.current_value,e},{}),M=Object.values(R).reduce((e,s)=>e+s,0);return(0,s.jsxs)("div",{className:"space-y-6 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:g.name}),(0,s.jsx)(n.Badge,{variant:"outline",className:"text-xs",children:"Shared Portfolio"})]}),g.description&&(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:g.description}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Last updated: ",(0,p.formatDate)(g.updated_at)]})]}),(0,s.jsx)(N.default,{href:"/portfolios",children:(0,s.jsxs)(i.Button,{variant:"outline",size:"sm",children:[(0,s.jsx)(f.ExternalLink,{className:"w-4 h-4 mr-2"}),"View My Portfolios"]})})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(l.CardTitle,{className:"text-sm font-medium",children:"Total Value"}),(0,s.jsx)(x.Wallet,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(l.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:(0,p.formatCurrency)(B)}),(0,s.jsxs)("div",{className:"flex items-center text-sm",children:[k>=0?(0,s.jsx)(c.ArrowUpRight,{className:"w-4 h-4 text-green-500 mr-1"}):(0,s.jsx)(o.ArrowDownRight,{className:"w-4 h-4 text-red-500 mr-1"}),(0,s.jsxs)("span",{className:(0,p.cn)(k>=0?"text-green-500":"text-red-500"),children:[(0,p.formatCurrency)(Math.abs(k))," (",(0,p.formatPercent)(g.day_pnl_percent),")"]}),(0,s.jsx)("span",{className:"text-muted-foreground ml-1",children:"today"})]})]})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(l.CardTitle,{className:"text-sm font-medium",children:"Total Gain/Loss"}),D>=0?(0,s.jsx)(m.TrendingUp,{className:"h-4 w-4 text-green-500"}):(0,s.jsx)(h.TrendingDown,{className:"h-4 w-4 text-red-500"})]}),(0,s.jsxs)(l.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:(0,p.formatCurrency)(D)}),(0,s.jsxs)("div",{className:"flex items-center text-sm",children:[(0,s.jsx)("span",{className:(0,p.cn)(D>=0?"text-green-500":"text-red-500"),children:(0,p.formatPercent)(g.total_pnl_percent)}),(0,s.jsx)("span",{className:"text-muted-foreground ml-1",children:"all time"})]})]})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(l.CardTitle,{className:"text-sm font-medium",children:"Holdings"}),(0,s.jsx)(u.PieChart,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(l.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:C.length}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"assets in portfolio"})]})]})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(u.PieChart,{className:"w-5 h-5"}),"Asset Allocation"]}),(0,s.jsx)(l.CardDescription,{children:"Distribution by asset type"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsx)("div",{className:"space-y-3",children:Object.entries(R).map(([e,t])=>(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"capitalize",children:e}),(0,s.jsx)("span",{className:"text-muted-foreground",children:(0,p.formatCurrency)(t)})]}),(0,s.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-primary rounded-full",style:{width:`${t/M*100}%`}})})]},e))}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:(0,p.formatCurrency)(M)})]})})]})})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(j.BarChart3,{className:"w-5 h-5"}),"Top Holdings"]}),(0,s.jsx)(l.CardDescription,{children:"By current value"})]}),(0,s.jsx)(l.CardContent,{children:0===C.length?(0,s.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No holdings in this portfolio"}):(0,s.jsx)("div",{className:"space-y-3",children:C.sort((e,s)=>s.current_value-e.current_value).slice(0,10).map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-muted/50",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.symbol}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.name})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"font-medium",children:(0,p.formatCurrency)(e.current_value)}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.quantity.toLocaleString()," @ ",(0,p.formatCurrency)(e.current_price)]})]})]},e.id))})})]}),T&&(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(m.TrendingUp,{className:"w-5 h-5"}),"Performance Metrics"]})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,s.jsxs)("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Return"}),(0,s.jsx)("p",{className:(0,p.cn)("text-2xl font-bold",T.total_return>=0?"text-green-600":"text-red-600"),children:(0,p.formatPercent)(T.total_return_percent)})]}),(0,s.jsxs)("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Annualized"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:(0,p.formatPercent)(T.annualized_return)})]}),(0,s.jsxs)("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Volatility"}),(0,s.jsx)("p",{className:"text2xl font-bold",children:(0,p.formatPercent)(T.volatility)})]}),(0,s.jsxs)("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sharpe Ratio"}),(0,s.jsx)("p",{className:"text2xl font-bold",children:T.sharpe_ratio.toFixed(2)})]})]})})]}),(0,s.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:(0,s.jsx)("p",{children:"Shared via FinanceHub"})})]})}e.s(["default",()=>g])}]);