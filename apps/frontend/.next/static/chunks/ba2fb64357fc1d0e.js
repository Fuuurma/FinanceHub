(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46881,e=>{"use strict";var s=e.i(29845),t=e.i(59199),a=e.i(17604);let r=(0,e.i(30977).create)((s,t)=>({orders:[],positions:[],accountSummary:null,loading:{orders:!1,positions:!1,account:!1},error:null,fetchOrders:async()=>{let a=t();s({loading:{...a.loading,orders:!0},error:null});try{let{tradingApi:t}=await e.A(95811),r=await t.orders.list({limit:100});s({orders:r,loading:{...a.loading,orders:!1}})}catch(e){s({error:e instanceof Error?e.message:"Failed to fetch orders",loading:{...a.loading,orders:!1}})}},createOrder:async a=>{let r=t();s({loading:{...r.loading,orders:!0},error:null});try{let{tradingApi:t}=await e.A(95811),l=await t.orders.create(a);s({orders:[l,...r.orders],loading:{...r.loading,orders:!1}})}catch(e){throw s({error:e instanceof Error?e.message:"Failed to create order",loading:{...r.loading,orders:!1}}),e}},updateOrder:async(a,r)=>{let l=t();s({loading:{...l.loading,orders:!0},error:null});try{let{tradingApi:t}=await e.A(95811),i=await t.orders.update(a,r);s({orders:l.orders.map(e=>e.id===a?i:e),loading:{...l.loading,orders:!1}})}catch(e){throw s({error:e instanceof Error?e.message:"Failed to update order",loading:{...l.loading,orders:!1}}),e}},cancelOrder:async a=>{let r=t();s({loading:{...r.loading,orders:!0},error:null});try{let{tradingApi:t}=await e.A(95811);await t.orders.cancel(a),s({orders:r.orders.map(e=>e.id===a?{...e,status:"cancelled"}:e),loading:{...r.loading,orders:!1}})}catch(e){throw s({error:e instanceof Error?e.message:"Failed to cancel order",loading:{...r.loading,orders:!1}}),e}},fetchPositions:async()=>{let a=t();s({loading:{...a.loading,positions:!0},error:null});try{let{tradingApi:t}=await e.A(95811),r=await t.positions.list({limit:100});s({positions:r,loading:{...a.loading,positions:!1}})}catch(e){s({error:e instanceof Error?e.message:"Failed to fetch positions",loading:{...a.loading,positions:!1}})}},closePosition:async a=>{let r=t();s({loading:{...r.loading,positions:!0},error:null});try{let{tradingApi:l}=await e.A(95811);await l.positions.close(a),await t().fetchPositions(),s({loading:{...r.loading,positions:!1}})}catch(e){throw s({error:e instanceof Error?e.message:"Failed to close position",loading:{...r.loading,positions:!1}}),e}},fetchAccountSummary:async()=>{let a=t();s({loading:{...a.loading,account:!0},error:null});try{let{tradingApi:t}=await e.A(95811),r=await t.account.getSummary();s({accountSummary:r,loading:{...a.loading,account:!1}})}catch(e){s({error:e instanceof Error?e.message:"Failed to fetch account summary",loading:{...a.loading,account:!1}})}},clearError:()=>s({error:null})}));var l=e.i(61088),i=e.i(5198),n=e.i(46045),d=e.i(74601),c=e.i(74741),o=e.i(18004),m=e.i(77791),x=e.i(94604),h=e.i(19952);let u=(0,h.default)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);function p({onSubmit:e,defaultSymbol:a=""}){let h,p,j,g,[f,N]=(0,t.useState)("buy"),[v,b]=(0,t.useState)("market"),[y,C]=(0,t.useState)(a),[w,S]=(0,t.useState)("1"),[_,T]=(0,t.useState)(""),[k,F]=(0,t.useState)(""),[L,D]=(0,t.useState)("day"),[$,A]=(0,t.useState)(""),[B,O]=(0,t.useState)(!1),{accountSummary:P,loading:z}=r();(0,t.useEffect)(()=>{a&&C(a)},[a]);let E=(h=parseFloat(w)||0,p=parseFloat(_)||0,j=parseFloat(k)||0,g=0,"market"===v?g=0:"limit"===v?g=h*p:"stop"===v?g=h*j:"stop_limit"===v&&(g=h*p),g),R=.001*E,H=E+R;return(0,s.jsxs)(c.Card,{className:"border-2 border-foreground",children:[(0,s.jsxs)(c.CardHeader,{children:[(0,s.jsxs)(c.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(u,{className:"h-5 w-5"}),"Order Entry"]}),(0,s.jsx)(c.CardDescription,{children:"Place new buy or sell orders"})]}),(0,s.jsx)(c.CardContent,{children:(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault();let t={portfolio_id:"",asset_id:"",order_type:v,side:f,quantity:parseFloat(w),price:"market"!==v?parseFloat(_):void 0,stop_price:"stop"===v||"stop_limit"===v?parseFloat(k):void 0,time_in_force:L,notes:$||void 0};e&&e(t),O(!1)},className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(l.Button,{type:"button",variant:"buy"===f?"default":"outline",className:`flex-1 ${"buy"===f?"bg-green-600 hover:bg-green-700":""}`,onClick:()=>N("buy"),children:[(0,s.jsx)(o.TrendingUp,{className:"h-4 w-4 mr-2"}),"BUY"]}),(0,s.jsxs)(l.Button,{type:"button",variant:"sell"===f?"default":"outline",className:`flex-1 ${"sell"===f?"bg-red-600 hover:bg-red-700":""}`,onClick:()=>N("sell"),children:[(0,s.jsx)(m.TrendingDown,{className:"h-4 w-4 mr-2"}),"SELL"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"symbol",children:"Symbol"}),(0,s.jsx)(i.Input,{id:"symbol",value:y,onChange:e=>C(e.target.value.toUpperCase()),placeholder:"AAPL",className:"font-mono uppercase",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"orderType",children:"Order Type"}),(0,s.jsxs)(d.Select,{value:v,onValueChange:e=>b(e),children:[(0,s.jsx)(d.SelectTrigger,{id:"orderType",children:(0,s.jsx)(d.SelectValue,{})}),(0,s.jsxs)(d.SelectContent,{children:[(0,s.jsx)(d.SelectItem,{value:"market",children:"Market Order"}),(0,s.jsx)(d.SelectItem,{value:"limit",children:"Limit Order"}),(0,s.jsx)(d.SelectItem,{value:"stop",children:"Stop Order"}),(0,s.jsx)(d.SelectItem,{value:"stop_limit",children:"Stop-Limit Order"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"quantity",children:"Quantity"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(i.Input,{id:"quantity",type:"number",step:"0.0001",min:"0",value:w,onChange:e=>S(e.target.value),placeholder:"0.00",className:"flex-1",required:!0}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(l.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>S("100"),children:"25%"}),(0,s.jsx)(l.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>S("250"),children:"50%"}),(0,s.jsx)(l.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>S("500"),children:"75%"}),(0,s.jsx)(l.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>S("1000"),children:"100%"})]})]})]}),"limit"===v||"stop_limit"===v?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"price",children:"Limit Price"}),(0,s.jsx)(i.Input,{id:"price",type:"number",step:"0.01",min:"0",value:_,onChange:e=>T(e.target.value),placeholder:"0.00",className:"font-mono",required:!0})]}):null,"stop"===v||"stop_limit"===v?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"stopPrice",children:"Stop Price"}),(0,s.jsx)(i.Input,{id:"stopPrice",type:"number",step:"0.01",min:"0",value:k,onChange:e=>F(e.target.value),placeholder:"0.00",className:"font-mono",required:!0})]}):null,(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"timeInForce",children:"Time in Force"}),(0,s.jsxs)(d.Select,{value:L,onValueChange:e=>D(e),children:[(0,s.jsx)(d.SelectTrigger,{id:"timeInForce",children:(0,s.jsx)(d.SelectValue,{})}),(0,s.jsxs)(d.SelectContent,{children:[(0,s.jsx)(d.SelectItem,{value:"day",children:"Day Order"}),(0,s.jsx)(d.SelectItem,{value:"gtc",children:"Good Till Cancelled"}),(0,s.jsx)(d.SelectItem,{value:"ioc",children:"Immediate or Cancel"}),(0,s.jsx)(d.SelectItem,{value:"fok",children:"Fill or Kill"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"notes",children:"Notes (Optional)"}),(0,s.jsx)(i.Input,{id:"notes",value:$,onChange:e=>A(e.target.value),placeholder:"Order notes..."})]}),(0,s.jsx)(c.Card,{className:"bg-muted/30",children:(0,s.jsxs)(c.CardContent,{className:"pt-6 space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Estimated Cost"}),(0,s.jsxs)("span",{className:"font-mono font-semibold",children:["$",E.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Est. Fees (0.1%)"}),(0,s.jsxs)("span",{className:"font-mono",children:["$",R.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"border-t pt-2 flex justify-between",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Total"}),(0,s.jsxs)("span",{className:"font-mono font-bold text-lg",children:["$",H.toFixed(2)]})]})]})}),"market"===v&&(0,s.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-xs text-yellow-600 dark:text-yellow-500",children:[(0,s.jsx)("strong",{children:"Market Order:"})," Will execute at the best available price. Slippage may occur during periods of high volatility."]})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(l.Button,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{S("1"),T(""),F(""),A("")},children:"Reset"}),(0,s.jsxs)(l.Button,{type:"button",className:"buy"===f?"flex-2 bg-green-600 hover:bg-green-700":"flex-2 bg-red-600 hover:bg-red-700",onClick:()=>O(!0),disabled:z.orders,children:[(0,s.jsx)(x.DollarSign,{className:"h-4 w-4 mr-2"}),"Review Order"]})]})]})})]})}var j=e.i(39197),g=e.i(35644),f=e.i(35206),N=e.i(8562),v=e.i(33850),b=e.i(51174),y=e.i(904),C=e.i(22966),w=e.i(56622);function S(){let{positions:e,loading:a,closePosition:n,fetchPositions:d}=r(),[x,h]=(0,t.useState)(""),[u,p]=(0,t.useState)("unrealized_pnl"),[S,_]=(0,t.useState)("desc"),[T,k]=(0,t.useState)(null),{downloadCSV:F}=(0,w.useDownloadFile)();(0,t.useEffect)(()=>{d();let e=setInterval(()=>d(),5e3);return()=>clearInterval(e)},[d]);let L=e.filter(e=>e.asset_symbol.toLowerCase().includes(x.toLowerCase())||e.asset_name.toLowerCase().includes(x.toLowerCase())).sort((e,s)=>{let t=e[u],a=s[u];return"number"==typeof t&&"number"==typeof a?"asc"===S?t-a:a-t:0}),D=e=>{u===e?_("asc"===S?"desc":"asc"):(p(e),_("desc"))},$=async e=>{confirm("Are you sure you want to close this position?")&&await n(e)};return a.positions?(0,s.jsx)(c.Card,{children:(0,s.jsx)(c.CardContent,{className:"py-12",children:(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)(N.RefreshCw,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}):(0,s.jsxs)(c.Card,{className:"border-2 border-foreground",children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(c.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(o.TrendingUp,{className:"h-5 w-5"}),"Position Tracker",(0,s.jsxs)(j.Badge,{variant:"secondary",children:[L.length," positions"]})]}),(0,s.jsx)(c.CardDescription,{children:"Real-time P&L tracking for open positions"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{F(["Symbol,Side,Quantity,Avg Price,Current Price,Market Value,P&L,P&L %,Days Open",...L.map(e=>[e.asset_symbol,e.side,e.quantity,e.avg_entry_price,e.current_price||"N/A",e.market_value||"N/A",e.unrealized_pnl.toFixed(2),e.unrealized_pnl_percent.toFixed(2),e.days_open]).map(e=>e.join(","))].join("\n"),`positions-${new Date().toISOString().split("T")[0]}.csv`)},children:[(0,s.jsx)(b.Download,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:d,disabled:a.positions,children:[(0,s.jsx)(N.RefreshCw,{className:(0,C.cn)("h-4 w-4 mr-2",a.positions&&"animate-spin")}),"Refresh"]})]})]})}),(0,s.jsxs)(c.CardContent,{children:[(0,s.jsx)("div",{className:"mb-4 flex gap-4",children:(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(v.Filter,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(i.Input,{placeholder:"Search positions...",value:x,onChange:e=>h(e.target.value),className:"pl-8"})]})})}),(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(g.Table,{children:[(0,s.jsx)(g.TableHeader,{children:(0,s.jsxs)(g.TableRow,{children:[(0,s.jsxs)(g.TableHead,{className:"cursor-pointer hover:bg-muted",onClick:()=>D("asset_symbol"),children:["Symbol","asset_symbol"===u&&(0,s.jsx)("span",{className:"ml-2",children:"asc"===S?"↑":"↓"})]}),(0,s.jsxs)(g.TableHead,{className:"cursor-pointer hover:bg-muted",onClick:()=>D("side"),children:["Side","side"===u&&(0,s.jsx)("span",{className:"ml-2",children:"asc"===S?"↑":"↓"})]}),(0,s.jsxs)(g.TableHead,{className:"cursor-pointer hover:bg-muted text-right",onClick:()=>D("quantity"),children:["Quantity","quantity"===u&&(0,s.jsx)("span",{className:"ml-2",children:"asc"===S?"↑":"↓"})]}),(0,s.jsxs)(g.TableHead,{className:"cursor-pointer hover:bg-muted text-right",onClick:()=>D("avg_entry_price"),children:["Avg Price","avg_entry_price"===u&&(0,s.jsx)("span",{className:"ml-2",children:"asc"===S?"↑":"↓"})]}),(0,s.jsxs)(g.TableHead,{className:"cursor-pointer hover:bg-muted text-right",onClick:()=>D("current_price"),children:["Current Price","current_price"===u&&(0,s.jsx)("span",{className:"ml-2",children:"asc"===S?"↑":"↓"})]}),(0,s.jsxs)(g.TableHead,{className:"cursor-pointer hover:bg-muted text-right",onClick:()=>D("market_value"),children:["Market Value","market_value"===u&&(0,s.jsx)("span",{className:"ml-2",children:"asc"===S?"↑":"↓"})]}),(0,s.jsxs)(g.TableHead,{className:"cursor-pointer hover:bg-muted text-right",onClick:()=>D("unrealized_pnl"),children:["P&L","unrealized_pnl"===u&&(0,s.jsx)("span",{className:"ml-2",children:"asc"===S?"↑":"↓"})]}),(0,s.jsxs)(g.TableHead,{className:"cursor-pointer hover:bg-muted text-right",onClick:()=>D("unrealized_pnl_percent"),children:["P&L %","unrealized_pnl_percent"===u&&(0,s.jsx)("span",{className:"ml-2",children:"asc"===S?"↑":"↓"})]}),(0,s.jsxs)(g.TableHead,{className:"cursor-pointer hover:bg-muted text-right",onClick:()=>D("days_open"),children:["Days","days_open"===u&&(0,s.jsx)("span",{className:"ml-2",children:"asc"===S?"↑":"↓"})]}),(0,s.jsx)(g.TableHead,{className:"text-right",children:"Actions"})]})}),(0,s.jsx)(g.TableBody,{children:L.map(e=>(0,s.jsxs)(g.TableRow,{children:[(0,s.jsx)(g.TableCell,{className:"font-medium",children:(0,s.jsx)("a",{href:`/dashboard/assets/${e.asset_id}`,className:"hover:underline",children:e.asset_symbol})}),(0,s.jsx)(g.TableCell,{children:(0,s.jsxs)(j.Badge,{variant:"long"===e.side?"default":"secondary",children:["long"===e.side?(0,s.jsx)(o.TrendingUp,{className:"h-3 w-3 mr-1"}):(0,s.jsx)(m.TrendingDown,{className:"h-3 w-3 mr-1"}),e.side.toUpperCase()]})}),(0,s.jsx)(g.TableCell,{className:"text-right font-mono",children:e.quantity.toFixed(4)}),(0,s.jsxs)(g.TableCell,{className:"text-right font-mono",children:["$",e.avg_entry_price.toFixed(2)]}),(0,s.jsxs)(g.TableCell,{className:"text-right font-mono",children:["$",e.current_price?.toFixed(2)||"N/A"]}),(0,s.jsxs)(g.TableCell,{className:"text-right font-mono",children:["$",e.market_value?.toFixed(2)||"N/A"]}),(0,s.jsxs)(g.TableCell,{className:(0,C.cn)("text-right font-mono font-semibold",e.unrealized_pnl>=0?"text-green-600":"text-red-600"),children:[e.unrealized_pnl>=0?"+":"","$",e.unrealized_pnl.toFixed(2)]}),(0,s.jsxs)(g.TableCell,{className:(0,C.cn)("text-right font-mono",e.unrealized_pnl_percent>=0?"text-green-600":"text-red-600"),children:[e.unrealized_pnl_percent>=0?"+":"",e.unrealized_pnl_percent.toFixed(2),"%"]}),(0,s.jsx)(g.TableCell,{className:"text-right font-mono text-muted-foreground",children:e.days_open}),(0,s.jsx)(g.TableCell,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>k(e),children:(0,s.jsx)(y.Star,{className:"h-4 w-4"})}),(0,s.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>$(e.id),className:"hover:bg-destructive hover:text-destructive-foreground",children:(0,s.jsx)(f.X,{className:"h-4 w-4"})})]})})]},e.id))})]})}),0===L.length&&(0,s.jsx)("div",{className:"py-12 text-center text-muted-foreground",children:"No positions found"})]})]})}var _=e.i(58117),T=e.i(89760),k=e.i(89578),F=e.i(15894);function L(){let{accountSummary:e,loading:a,fetchAccountSummary:l}=r();if((0,t.useEffect)(()=>{l();let e=setInterval(l,1e4);return()=>clearInterval(e)},[l]),a.account||!e)return(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(e=>(0,s.jsx)(c.Card,{children:(0,s.jsx)(c.CardContent,{className:"pt-6",children:(0,s.jsx)("div",{className:"h-20 animate-pulse bg-muted rounded"})})},e))});let i=e.margin_used/(e.margin_used+e.margin_available)*100,n=e.unrealized_pnl+e.realized_pnl_today,d=n>=0?"text-green-600":"text-red-600";return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsxs)(c.Card,{className:"border-2 border-primary",children:[(0,s.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(c.CardTitle,{className:"text-sm font-medium",children:"Total Account Value"}),(0,s.jsx)(T.Wallet,{className:"h-4 w-4 text-primary"})]}),(0,s.jsxs)(c.CardContent,{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold",children:["$",e.total_account_value.toLocaleString()]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Cash + Positions"})]})]}),(0,s.jsxs)(c.Card,{children:[(0,s.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(c.CardTitle,{className:"text-sm font-medium",children:"Buying Power"}),(0,s.jsx)(x.DollarSign,{className:"h-4 w-4 text-green-600"})]}),(0,s.jsxs)(c.CardContent,{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",e.buying_power.toLocaleString()]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Available for trading"})]})]}),(0,s.jsxs)(c.Card,{children:[(0,s.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(c.CardTitle,{className:"text-sm font-medium",children:"Total Cash"}),(0,s.jsx)(x.DollarSign,{className:"h-4 w-4 text-blue-600"})]}),(0,s.jsxs)(c.CardContent,{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold",children:["$",e.total_cash.toLocaleString()]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["$",e.available_cash.toLocaleString()," available"]})]})]}),(0,s.jsxs)(c.Card,{children:[(0,s.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(c.CardTitle,{className:"text-sm font-medium",children:"Positions Value"}),(0,s.jsx)(k.Activity,{className:"h-4 w-4 text-purple-600"})]}),(0,s.jsxs)(c.CardContent,{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold",children:["$",e.total_positions_value.toLocaleString()]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.day_trading_volume.toLocaleString()," vol today"]})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,s.jsxs)(c.Card,{children:[(0,s.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(c.CardTitle,{className:"text-sm font-medium",children:"Today's P&L"}),(0,s.jsx)(o.TrendingUp,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(c.CardContent,{children:[(0,s.jsxs)("div",{className:(0,C.cn)("text-2xl font-bold",d),children:[n>=0?"+":"","$",n.toLocaleString()]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Unrealized: $",e.unrealized_pnl.toLocaleString(),(0,s.jsx)("br",{}),"Realized: $",e.realized_pnl_today.toLocaleString()]})]})]}),(0,s.jsxs)(c.Card,{children:[(0,s.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(c.CardTitle,{className:"text-sm font-medium",children:"Margin Used"}),(0,s.jsx)(F.AlertTriangle,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(c.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsxs)("span",{children:["$",e.margin_used.toLocaleString()]}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:["/ $",(e.margin_used+e.margin_available).toLocaleString()]})]}),(0,s.jsx)(_.Progress,{value:i,className:"h-2"}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[i.toFixed(1),"% utilized"]})]})})]}),(0,s.jsxs)(c.Card,{children:[(0,s.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(c.CardTitle,{className:"text-sm font-medium",children:"Trading Activity"}),(0,s.jsx)(k.Activity,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(c.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Day Trades"}),(0,s.jsx)("span",{className:"font-semibold",children:e.day_trades_count})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Volume"}),(0,s.jsxs)("span",{className:"font-semibold",children:["$",e.day_trading_volume.toLocaleString()]})]})]})})]})]}),(0,s.jsxs)(c.Card,{children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsx)(c.CardTitle,{children:"Risk Indicators"})}),(0,s.jsx)(c.CardContent,{children:(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.TrendingUp,{className:"h-4 w-4 text-green-600"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Largest Win"})]}),(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"+$10,500.00"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Based on today's trades"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.TrendingDown,{className:"h-4 w-4 text-red-600"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Largest Loss"})]}),(0,s.jsx)("div",{className:"text-2xl font-bold text-red-600",children:"-$3,250.00"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Based on today's trades"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(k.Activity,{className:"h-4 w-4 text-blue-600"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Win Rate"})]}),(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"68.5%"}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.day_trades_count," trades today"]})]})]})})]})]})}var D=e.i(86800),$=e.i(23615),A=e.i(3768);function B({open:e,onOpenChange:t,orderData:a,estimatedCost:r,fees:i,totalValue:n,onConfirm:d,loading:c=!1}){if(!a)return null;let o="market"===a.order_type,m="buy"===a.side?"text-green-600":"text-red-600";return(0,s.jsx)(D.Dialog,{open:e,onOpenChange:t,children:(0,s.jsxs)(D.DialogContent,{className:"border-2 border-foreground",children:[(0,s.jsxs)(D.DialogHeader,{children:[(0,s.jsxs)(D.DialogTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(A.CheckCircle,{className:"h-5 w-5 text-green-600"}),"Confirm Order"]}),(0,s.jsx)(D.DialogDescription,{children:"Please review your order details before submitting"})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Order Type"}),(0,s.jsx)("p",{className:"font-semibold",children:{market:"Market Order",limit:"Limit Order",stop:"Stop Order",stop_limit:"Stop-Limit Order",oco:"OCO Order"}[a.order_type]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Side"}),(0,s.jsx)(j.Badge,{className:m,children:a.side.toUpperCase()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),(0,s.jsx)("p",{className:"font-semibold font-mono",children:a.quantity})]}),a.time_in_force&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Time in Force"}),(0,s.jsx)("p",{className:"font-semibold",children:a.time_in_force.toUpperCase()})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Limit Price"}),(0,s.jsxs)("p",{className:"font-semibold font-mono",children:["$",a.price?.toFixed(2)||"Market"]})]}),a.stop_price&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Stop Price"}),(0,s.jsxs)("p",{className:"font-semibold font-mono",children:["$",a.stop_price.toFixed(2)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Order Notes"}),(0,s.jsx)("p",{className:"font-semibold text-sm",children:a.notes||"None"})]}),o&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Estimated Fill Price"}),(0,s.jsxs)("p",{className:"font-semibold font-mono",children:["$",r.toFixed(2)]})]})]})]}),(0,s.jsx)("div",{className:"bg-muted/30 border border-foreground/20 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Estimated Cost"}),(0,s.jsxs)("span",{className:"font-mono font-semibold",children:["$",r.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Estimated Fees (0.1%)"}),(0,s.jsxs)("span",{className:"font-mono",children:["$",i.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"border-t border-foreground/20 pt-2 flex justify-between",children:[(0,s.jsx)("span",{className:"font-bold",children:"Total"}),(0,s.jsxs)("span",{className:"font-mono font-bold text-lg",children:["$",n.toFixed(2)]})]})]})}),o&&(0,s.jsxs)($.Alert,{variant:"destructive",children:[(0,s.jsx)(F.AlertTriangle,{className:"h-4 w-4"}),(0,s.jsxs)($.AlertDescription,{children:[(0,s.jsx)("strong",{children:"Market Order Risk:"})," Your order will execute at the best available price in the market. Slippage may occur during periods of high volatility or low liquidity."]})]}),(0,s.jsxs)($.Alert,{children:[(0,s.jsx)(F.AlertTriangle,{className:"h-4 w-4"}),(0,s.jsxs)($.AlertDescription,{children:[(0,s.jsx)("strong",{children:"Paper Trading Disclaimer:"})," This is a simulated trading environment. No real money is at risk. All orders are executed using paper trading rules for demonstration purposes."]})]})]}),(0,s.jsxs)(D.DialogFooter,{children:[(0,s.jsx)(l.Button,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),(0,s.jsx)(l.Button,{onClick:()=>{d(),t(!1)},disabled:c,className:"buy"===a.side?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Submitting..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A.CheckCircle,{className:"h-4 w-4 mr-2"}),"buy"===a.side?"Buy":"Sell"," ",a.quantity," @"," ",a.price?`$${a.price.toFixed(2)}`:"MARKET"]})})]})]})})}var O=e.i(54875),P=e.i(53116),z=e.i(85447),E=e.i(22784),R=e.i(286),H=e.i(60021),M=e.i(96513),I=e.i(35949),U=e.i(32012),q=e.i(55547);let V=(0,h.default)("chart-area",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]]),W=[{value:"1m",label:"1m"},{value:"5m",label:"5m"},{value:"15m",label:"15m"},{value:"30m",label:"30m"},{value:"1h",label:"1H"},{value:"4h",label:"4H"},{value:"1d",label:"1D"},{value:"1w",label:"1W"}],K=[{value:"candlestick",label:"Candlestick",icon:(0,s.jsx)(q.CandlestickChart,{className:"h-4 w-4"})},{value:"line",label:"Line",icon:(0,s.jsx)(I.LineChart,{className:"h-4 w-4"})},{value:"area",label:"Area",icon:(0,s.jsx)(V,{className:"h-4 w-4"})},{value:"bar",label:"Bar",icon:(0,s.jsx)(U.BarChart3,{className:"h-4 w-4"})}];function Q({symbol:e,initialTimeframe:a="1h",initialChartType:r="candlestick",indicators:i=[],onIndicatorsChange:n,height:c=500}){let m,{prices:x,charts:h,setChartTimeframe:u}=(0,H.useRealtimeStore)(),[p,g]=(0,t.useState)(r),[f,N]=(0,t.useState)(a),[v,b]=(0,t.useState)(!0),[y,w]=(0,t.useState)(i.length>0),[S,_]=(0,t.useState)(i),[T,F]=(0,t.useState)([]),[L,D]=(0,t.useState)(!1),$=(0,t.useRef)(null),A=(0,t.useRef)(null),B=(0,t.useRef)(null),O=(0,t.useRef)(null),P=(0,t.useRef)(null);return((0,t.useEffect)(()=>{u(e,f)},[e,f,u]),(0,t.useEffect)(()=>{i.length>0&&(_(i),w(!0))},[i]),(0,t.useEffect)(()=>{let s=x[e];if(s){let e={time:s.timestamp,price:s.price,volume:s.volume};F(s=>[...s,e].slice(-M.CHART_CONFIG.BUFFER_SIZES[f]))}},[x,e,f]),(0,t.useEffect)(()=>{if(!$.current)return;let e=(0,E.createChart)($.current,{width:$.current.clientWidth,height:c,layout:{background:{type:E.ColorType.Solid,color:"#0a0a0a"},textColor:"#a0a0a0"},grid:{vertLines:{color:"#1a1a1a"},horzLines:{color:"#1a1a1a"}},crosshair:{mode:E.CrosshairMode.Normal},rightPriceScale:{borderColor:"#1a1a1a"},timeScale:{borderColor:"#1a1a1a",timeVisible:!0,secondsVisible:!1}});A.current=e;let s=null,t=null;switch(p){case"candlestick":s=e.addCandlestickSeries({upColor:"#22C55E",downColor:"#EF4444",borderDownColor:"#EF4444",borderUpColor:"#22C55E",wickDownColor:"#EF4444",wickUpColor:"#22C55E"});break;case"line":s=e.addLineSeries({color:"#3B82F6",lineWidth:2});break;case"area":s=e.addAreaSeries({topColor:"rgba(59, 130, 246, 0.4)",bottomColor:"rgba(59, 130, 246, 0.0)",lineColor:"#3B82F6",lineWidth:2});break;case"bar":s=e.addHistogramSeries({color:"#6B7280"})}return B.current=s,v&&((t=e.addHistogramSeries({color:"rgba(148, 163, 184, 0.3)",priceFormat:{type:"volume"},priceScaleId:""}))&&t.priceScale().applyOptions({scaleMargins:{top:.8,bottom:0}}),O.current=t),P.current=new ResizeObserver(()=>{$.current&&e.applyOptions({width:$.current.clientWidth,height:c})}),P.current.observe($.current),()=>{P.current?.disconnect(),e.remove()}},[p,v,c]),(0,t.useEffect)(()=>{if(!B.current||0===T.length)return;let e=T.map(e=>({time:Number(e.time)/1e3,open:e.price,high:e.price*(1+.002*Math.random()),low:e.price*(1-.002*Math.random()),close:e.price})),s=T[T.length-1],t={...e[e.length-1],high:Math.max(s.price,e[e.length-1].high),low:Math.min(s.price,e[e.length-1].low),close:s.price};e[e.length-1]=t,"candlestick"===p?B.current.setData(e):"line"===p||"area"===p?B.current.setData(T.map(e=>({time:Number(e.time)/1e3,value:e.price}))):"bar"===p&&B.current.setData(T.map(e=>({time:Number(e.time)/1e3,value:e.volume,color:e.price>=(T[T.indexOf(e)-1]?.price||e.price)?"#22C55E":"#EF4444"}))),O.current&&v&&O.current.setData(T.map(e=>({time:e.time/1e3,value:e.volume,color:e.price>=(T[Math.max(0,T.indexOf(e)-1)]?.price||e.price)?"rgba(34, 197, 94, 0.3)":"rgba(239, 68, 68, 0.3)"}))),A.current?.timeScale().fitContent()},[T,p,v]),0===T.length)?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:e}),(0,s.jsx)(j.Badge,{variant:L?"default":"destructive",children:L?"Connected":"Disconnected"})]})}),(0,s.jsx)("div",{className:"flex items-center justify-center border rounded-lg bg-background",style:{height:c},children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(k.Activity,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2 animate-pulse"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:L?"Waiting for data...":"Connect to see real-time data"})]})})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:e}),(0,s.jsx)(j.Badge,{variant:L?"default":"destructive",children:L?"Live":"Offline"}),T.length>0&&(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:(m=T[T.length-1]?.price||0,(0,C.formatCurrency)(m))})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsxs)(d.Select,{value:f,onValueChange:e=>N(e),children:[(0,s.jsx)(d.SelectTrigger,{className:"w-20",children:(0,s.jsx)(d.SelectValue,{})}),(0,s.jsx)(d.SelectContent,{children:W.map(e=>(0,s.jsx)(d.SelectItem,{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)(R.DropdownMenu,{children:[(0,s.jsx)(R.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",children:[K.find(e=>e.value===p)?.icon,(0,s.jsx)("span",{className:"ml-2 hidden sm:inline",children:K.find(e=>e.value===p)?.label})]})}),(0,s.jsxs)(R.DropdownMenuContent,{align:"end",children:[(0,s.jsx)(R.DropdownMenuLabel,{children:"Chart Type"}),(0,s.jsx)(R.DropdownMenuSeparator,{}),K.map(e=>(0,s.jsxs)(R.DropdownMenuCheckboxItem,{checked:p===e.value,onCheckedChange:()=>g(e.value),children:[e.icon,(0,s.jsx)("span",{className:"ml-2",children:e.label})]},e.value))]})]}),(0,s.jsx)(l.Button,{variant:v?"default":"outline",size:"sm",onClick:()=>b(!v),children:(0,s.jsx)(k.Activity,{className:"h-4 w-4"})}),(0,s.jsx)(l.Button,{variant:y?"default":"outline",size:"sm",onClick:()=>w(!y),children:(0,s.jsx)(o.TrendingUp,{className:"h-4 w-4"})})]})]}),(0,s.jsx)("div",{ref:$,className:"border rounded-lg bg-background",style:{height:c}}),y&&S.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:S.map(e=>(0,s.jsxs)(j.Badge,{variant:"outline",className:"px-3 py-1",style:{borderColor:e.color,color:e.color},children:[e.type.toUpperCase(),(0,s.jsx)("button",{onClick:()=>{let s=S.filter(s=>s.type!==e.type);_(s),n?.(s)},className:"ml-2 hover:text-destructive",children:"×"})]},e.type))}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,s.jsxs)("span",{children:["Last update: ",new Date().toLocaleTimeString()]}),(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Real-time data"]})]})]})}var G=e.i(60983),Y=e.i(17135),X=e.i(5497),Z=e.i(89628),J=e.i(94650),ee=e.i(64762);function es(){let e=(0,a.useRouter)(),{orders:i,loading:n,createOrder:d,fetchOrders:o,clearError:m,error:x}=r(),[h,u]=(0,t.useState)("AAPL"),[g,f]=(0,t.useState)(!1),[v,b]=(0,t.useState)(null),[y,C]=(0,t.useState)(0);(0,t.useEffect)(()=>(o(),()=>m()),[o,m]);let w=async e=>{try{let s=await ee.assetsApi.get(e.asset_id),t=e.quantity*(s.metrics?.close||0);C(t),b({...e,portfolio_id:"default-portfolio"}),f(!0)}catch(e){console.error("Failed to fetch asset:",e)}},_=async()=>{if(v)try{await d(v),f(!1),b(null),await o()}catch(e){console.error("Failed to create order:",e)}},T=i.filter(e=>e.is_active).slice(0,10);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Trading"}),(0,s.jsx)(O.ConnectionStatus,{})]}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:"Execute trades and manage positions"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(l.Button,{variant:"outline",onClick:()=>e.push("/dashboard"),children:[(0,s.jsx)(X.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),(0,s.jsxs)(l.Button,{variant:"outline",children:[(0,s.jsx)(Z.Settings,{className:"h-4 w-4 mr-2"}),"Trading Settings"]})]})]}),x&&(0,s.jsx)($.Alert,{variant:"destructive",children:(0,s.jsx)($.AlertDescription,{children:x})}),(0,s.jsx)(L,{}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,s.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,s.jsx)(p,{onSubmit:w,defaultSymbol:h}),(0,s.jsxs)(c.Card,{children:[(0,s.jsxs)(c.CardHeader,{children:[(0,s.jsxs)(c.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(Y.LayoutGrid,{className:"h-5 w-5"}),"Recent Orders",(0,s.jsxs)(j.Badge,{variant:"secondary",children:[T.length," active"]})]}),(0,s.jsx)(c.CardDescription,{children:"Latest order activity"})]}),(0,s.jsx)(c.CardContent,{children:n.orders?(0,s.jsx)("div",{className:"py-4 text-center text-muted-foreground",children:(0,s.jsx)(N.RefreshCw,{className:"h-6 w-6 mx-auto animate-spin"})}):0===T.length?(0,s.jsx)("div",{className:"py-8 text-center text-muted-foreground",children:"No active orders"}):(0,s.jsx)("div",{className:"space-y-3",children:T.map(e=>(0,s.jsxs)("div",{className:"border rounded-lg p-3 hover:bg-muted/50 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold",children:e.asset_symbol}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.order_type.toUpperCase()," • ",e.side.toUpperCase()]})]}),(0,s.jsx)(j.Badge,{variant:"pending"===e.status?"default":"secondary",children:e.status.toUpperCase()})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Quantity"}),(0,s.jsx)("p",{className:"font-mono font-semibold",children:e.quantity})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Price"}),(0,s.jsxs)("p",{className:"font-mono font-semibold",children:["$",e.price||"MKT"]})]})]}),(0,s.jsxs)("div",{className:"mt-2 text-sm text-muted-foreground",children:[e.filled_quantity>0&&(0,s.jsxs)("p",{children:["Filled: ",e.filled_quantity," / ",e.quantity]}),(0,s.jsx)("p",{className:"text-xs",children:new Date(e.created_at).toLocaleString()})]})]},e.id))})})]})]}),(0,s.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,s.jsxs)(G.Tabs,{defaultValue:"positions",className:"w-full",children:[(0,s.jsxs)(G.TabsList,{className:"grid w-full grid-cols-3",children:[(0,s.jsx)(G.TabsTrigger,{value:"positions",children:"Positions"}),(0,s.jsx)(G.TabsTrigger,{value:"chart",children:"Chart"}),(0,s.jsx)(G.TabsTrigger,{value:"orderbook",children:"Order Book"})]}),(0,s.jsx)(G.TabsContent,{value:"positions",className:"space-y-4",children:(0,s.jsx)(S,{})}),(0,s.jsxs)(G.TabsContent,{value:"chart",className:"space-y-4",children:[(0,s.jsxs)(c.Card,{children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(c.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(U.BarChart3,{className:"h-5 w-5"}),h," Chart"]}),(0,s.jsx)(c.CardDescription,{children:"Real-time price and volume"})]}),(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",children:[(0,s.jsx)(N.RefreshCw,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),(0,s.jsx)(c.CardContent,{children:(0,s.jsx)(Q,{symbol:h})})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsx)(z.TradeFeed,{symbol:h,limit:10}),(0,s.jsx)(P.OrderBook,{symbol:h,depth:10})]})]}),(0,s.jsxs)(G.TabsContent,{value:"orderbook",className:"space-y-4",children:[(0,s.jsx)(P.OrderBook,{symbol:h,depth:20}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)(c.Card,{children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsx)(c.CardTitle,{children:"Recent Trades"})}),(0,s.jsx)(c.CardContent,{children:(0,s.jsx)(z.TradeFeed,{symbol:h,limit:20})})]}),(0,s.jsxs)(c.Card,{children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsx)(c.CardTitle,{children:"Order Statistics"})}),(0,s.jsx)(c.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Volume (24h)"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:"45.2M"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Trades (24h)"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:"284,392"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Trade Size"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:"159"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Spread"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"$0.01"})]})]})})]})]})]})]})})]}),(0,s.jsx)(B,{open:g,onOpenChange:f,orderData:v,estimatedCost:y,fees:.001*y,totalValue:1.001*y,onConfirm:_,loading:n.orders})]})}e.i(80063),e.i(35601),e.i(30342),e.i(54192),e.i(11752),e.i(58939),e.i(61560),e.i(98758),e.i(3908),new class{async getHistoricalData(e,s="1h",t=100){let a=new URLSearchParams;return a.append("timeframe",s),a.append("limit",t.toString()),await J.apiClient.get(`/charts/historical/${e}?${a.toString()}`)}async listDrawings(e,s){let t=new URLSearchParams;return s&&t.append("timeframe",s),await J.apiClient.get(`/charts/drawings/${e}?${t.toString()}`)}async getDrawing(e){return J.apiClient.get(`/charts/drawings/by-id/${e}`)}async createDrawing(e){return J.apiClient.post(`/charts/drawings/${e.symbol}`,e)}async updateDrawing(e,s){return J.apiClient.put(`/charts/drawings/by-id/${e}`,s)}async deleteDrawing(e){return J.apiClient.delete(`/charts/drawings/by-id/${e}`)}async getIndicatorValues(e,s,t,a){let r=new URLSearchParams;return t&&r.append("timeframe",t),a&&r.append("limit",a.toString()),await J.apiClient.get(`/charts/indicators/${e}/${s}?${r.toString()}`)}async listLayouts(){return J.apiClient.get("/charts/layouts")}async getLayout(e){return J.apiClient.get(`/charts/layouts/${e}`)}async createLayout(e){return J.apiClient.post("/charts/layouts",e)}async updateLayout(e,s){return J.apiClient.put(`/charts/layouts/${e}`,s)}async deleteLayout(e){return J.apiClient.delete(`/charts/layouts/${e}`)}},e.i(2632),e.s(["default",()=>es],46881)}]);