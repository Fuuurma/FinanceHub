(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4817,e=>{"use strict";var s=e.i(29845),r=e.i(59199),t=e.i(22966),a=e.i(74741),n=e.i(61088),l=e.i(39197),o=e.i(5198),c=e.i(74601),d=e.i(8562),i=e.i(18004),x=e.i(77791),m=e.i(94604),u=e.i(89760),p=e.i(94650),h=e.i(86800),b=e.i(3768),f=e.i(65559),j=e.i(15894);function g({open:e,onOpenChange:r,order:a,onConfirm:o,isExecuting:c,result:d,onResultClose:m}){let u=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return a?d?(0,s.jsx)(h.Dialog,{open:e,onOpenChange:m,children:(0,s.jsxs)(h.DialogContent,{className:"rounded-none border-2 border-foreground max-w-md",children:[(0,s.jsx)(h.DialogHeader,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[d.success?(0,s.jsx)(b.CheckCircle,{className:"h-8 w-8 text-green-600"}):(0,s.jsx)(f.XCircle,{className:"h-8 w-8 text-red-600"}),(0,s.jsx)(h.DialogTitle,{className:(0,t.cn)("font-black uppercase text-xl",d.success?"text-green-600":"text-red-600"),children:d.success?"Order Executed":"Order Failed"})]})}),d.success?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"border-2 border-foreground p-4 space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground font-mono text-sm",children:"Symbol"}),(0,s.jsx)("span",{className:"font-black uppercase",children:d.asset})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground font-mono text-sm",children:"Quantity"}),(0,s.jsx)("span",{className:"font-mono",children:d.quantity?.toFixed(4)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground font-mono text-sm",children:"Price"}),(0,s.jsx)("span",{className:"font-mono",children:u(d.price||0)})]}),(0,s.jsxs)("div",{className:"flex justify-between border-t border-border pt-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground font-mono text-sm font-bold",children:"Total Value"}),(0,s.jsx)("span",{className:"font-mono font-bold",children:u(d.total_value||0)})]})]}),void 0!==d.remaining_cash&&(0,s.jsxs)("div",{className:"flex justify-between border-2 border-foreground p-3 bg-muted/30",children:[(0,s.jsx)("span",{className:"font-bold uppercase text-sm",children:"Remaining Cash"}),(0,s.jsx)("span",{className:"font-mono font-bold",children:u(d.remaining_cash)})]})]}):(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3 border-2 border-red-500 bg-red-50 p-4",children:[(0,s.jsx)(j.AlertTriangle,{className:"h-6 w-6 text-red-600 shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold text-red-700 uppercase text-sm",children:"Order Failed"}),(0,s.jsx)("p",{className:"text-red-600 font-mono text-sm",children:d.error})]})]})}),(0,s.jsx)(h.DialogFooter,{children:(0,s.jsx)(n.Button,{onClick:m,className:"rounded-none border-2 font-black uppercase",children:d.success?"Done":"Try Again"})})]})}):(0,s.jsx)(h.Dialog,{open:e,onOpenChange:r,children:(0,s.jsxs)(h.DialogContent,{className:"rounded-none border-2 border-foreground max-w-md",children:[(0,s.jsxs)(h.DialogHeader,{children:[(0,s.jsxs)(h.DialogTitle,{className:"font-black uppercase flex items-center gap-2",children:["BUY"===a.side?(0,s.jsx)(i.TrendingUp,{className:"h-5 w-5 text-green-600"}):(0,s.jsx)(x.TrendingDown,{className:"h-5 w-5 text-red-600"}),"Confirm Order"]}),(0,s.jsx)(h.DialogDescription,{className:"font-mono text-xs",children:"Please review your order before executing"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)(l.Badge,{className:(0,t.cn)("rounded-none font-black uppercase text-sm px-3 py-1","BUY"===a.side?"bg-green-600":"bg-red-600"),children:[a.side," ",a.symbol]})}),(0,s.jsxs)("div",{className:"border-2 border-foreground p-4 space-y-3",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Type"}),(0,s.jsx)("p",{className:"font-mono",children:a.type})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Quantity"}),(0,s.jsx)("p",{className:"font-mono",children:a.quantity.toFixed(4)})]})]}),a.price&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-bold uppercase text-muted-foreground",children:"STOP"===a.type?"Stop Price":"Limit Price"}),(0,s.jsx)("p",{className:"font-mono",children:u(a.price)})]}),(0,s.jsxs)("div",{className:"border-t border-border pt-3",children:[(0,s.jsxs)("p",{className:"text-xs font-bold uppercase text-muted-foreground",children:["Estimated ","BUY"===a.side?"Cost":"Credit"]}),(0,s.jsx)("p",{className:"font-mono text-2xl font-black",children:u(a.quantity*(a.price||0))})]})]}),(0,s.jsx)("div",{className:"bg-yellow-50 border border-yellow-500 p-3",children:(0,s.jsx)("p",{className:"text-yellow-700 font-mono text-xs",children:"This is a paper trading simulation. No real money will be used."})})]}),(0,s.jsxs)(h.DialogFooter,{className:"gap-2",children:[(0,s.jsx)(n.Button,{variant:"outline",onClick:()=>r(!1),className:"rounded-none border-2 font-black uppercase",disabled:c,children:"Cancel"}),(0,s.jsx)(n.Button,{onClick:()=>{o(),r(!1)},className:(0,t.cn)("rounded-none border-2 font-black uppercase","BUY"===a.side?"bg-green-600 hover:bg-green-700 border-green-600":"bg-red-600 hover:bg-red-700 border-red-600"),disabled:c,children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"animate-spin mr-2",children:"âŸ³"}),"Executing..."]}):`Execute ${a.side} Order`})]})]})}):null}function N({onSuccess:e,className:h}){let[b,f]=r.useState(""),[j,N]=r.useState(""),[v,y]=r.useState("BUY"),[w,C]=r.useState("MARKET"),[k,S]=r.useState(""),[T,L]=r.useState(!1),[_,D]=r.useState(null),[U,B]=r.useState(1e5),[P,F]=r.useState(!1),[E,I]=r.useState(null);r.useMemo(()=>{let e=parseFloat(j)||0,s=parseFloat(k)||0;return"MARKET"===w?0:e*s},[j,k,w]);let R=async()=>{let e=parseFloat(j),s=parseFloat(k);b&&j?e<=0?I("Quantity must be greater than 0"):"MARKET"!==w&&(!k||s<=0)?I(`Please enter a valid ${w.toLowerCase()} price`):(I(null),F(!0)):I("Please enter symbol and quantity")},A=async()=>{L(!0),D(null),F(!1);let s=parseFloat(j),r=parseFloat(k);try{let t=await p.apiClient.post("BUY"===v?"/paper-trading/buy":"/paper-trading/sell",{asset:b,quantity:s,..."MARKET"!==w&&{price:r}});D(t),t.success&&t.remaining_cash&&B(t.remaining_cash),t.success&&e&&e()}catch{D({success:!1,error:"Network error"})}finally{L(!1)}};return(0,s.jsxs)(a.Card,{className:(0,t.cn)("rounded-none border-2 border-foreground",h),children:[(0,s.jsx)(a.CardHeader,{className:"border-b-2 border-foreground",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(a.CardTitle,{className:"font-black uppercase flex items-center gap-2",children:["BUY"===v?(0,s.jsx)(i.TrendingUp,{className:"h-5 w-5 text-green-600"}):(0,s.jsx)(x.TrendingDown,{className:"h-5 w-5 text-red-600"}),v," ORDER"]}),(0,s.jsxs)(l.Badge,{variant:"outline",className:"font-mono text-xs",children:[(0,s.jsx)(u.Wallet,{className:"h-3 w-3 mr-1"}),"$",U.toLocaleString()]})]})}),(0,s.jsxs)(a.CardContent,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,s.jsxs)(n.Button,{type:"button",variant:"BUY"===v?"default":"outline",onClick:()=>y("BUY"),className:(0,t.cn)("flex-1 font-black uppercase rounded-none","BUY"===v?"bg-green-600 hover:bg-green-700":"border-2"),children:[(0,s.jsx)(i.TrendingUp,{className:"h-4 w-4 mr-2"}),"BUY"]}),(0,s.jsxs)(n.Button,{type:"button",variant:"SELL"===v?"default":"outline",onClick:()=>y("SELL"),className:(0,t.cn)("flex-1 font-black uppercase rounded-none","SELL"===v?"bg-red-600 hover:bg-red-700":"border-2"),children:[(0,s.jsx)(x.TrendingDown,{className:"h-4 w-4 mr-2"}),"SELL"]})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),R()},className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[(0,s.jsxs)(n.Button,{type:"button",variant:"BUY"===v?"default":"outline",onClick:()=>y("BUY"),className:(0,t.cn)("flex-1 font-black uppercase rounded-none","BUY"===v?"bg-green-600 hover:bg-green-700":"border-2"),children:[(0,s.jsx)(i.TrendingUp,{className:"h-4 w-4 mr-2"}),"BUY"]}),(0,s.jsxs)(n.Button,{type:"button",variant:"SELL"===v?"default":"outline",onClick:()=>y("SELL"),className:(0,t.cn)("flex-1 font-black uppercase rounded-none","SELL"===v?"bg-red-600 hover:bg-red-700":"border-2"),children:[(0,s.jsx)(x.TrendingDown,{className:"h-4 w-4 mr-2"}),"SELL"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-bold uppercase mb-2",children:"Order Type"}),(0,s.jsxs)(c.Select,{value:w,onValueChange:e=>C(e),children:[(0,s.jsx)(c.SelectTrigger,{className:"rounded-none border-2 font-mono",children:(0,s.jsx)(c.SelectValue,{})}),(0,s.jsxs)(c.SelectContent,{children:[(0,s.jsx)(c.SelectItem,{value:"MARKET",children:"Market"}),(0,s.jsx)(c.SelectItem,{value:"LIMIT",children:"Limit"}),(0,s.jsx)(c.SelectItem,{value:"STOP",children:"Stop"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-bold uppercase mb-2",children:"Asset Symbol"}),(0,s.jsx)(o.Input,{type:"text",value:b,onChange:e=>f(e.target.value.toUpperCase()),placeholder:"AAPL",className:"rounded-none border-2 font-mono uppercase",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-bold uppercase mb-2",children:"Quantity"}),(0,s.jsx)(o.Input,{type:"number",step:"0.0001",value:j,onChange:e=>N(e.target.value),placeholder:"10",className:"rounded-none border-2 font-mono",required:!0})]}),("LIMIT"===w||"STOP"===w)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-bold uppercase mb-2",children:"LIMIT"===w?"Limit Price":"Stop Price"}),(0,s.jsx)(o.Input,{type:"number",step:"0.01",value:k,onChange:e=>S(e.target.value),placeholder:"150.00",className:"rounded-none border-2 font-mono",required:!0})]}),E&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-500 p-3",children:(0,s.jsx)("p",{className:"text-red-700 font-mono text-xs",children:E})}),(0,s.jsx)(n.Button,{type:"submit",disabled:T,className:(0,t.cn)("w-full font-black uppercase rounded-none","BUY"===v?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"),children:T?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.RefreshCw,{className:"h-4 w-4 mr-2 animate-spin"}),"EXECUTING..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.DollarSign,{className:"h-4 w-4 mr-2"}),"Review Order"]})})]}),_&&(0,s.jsx)("div",{className:(0,t.cn)("mt-4 p-4 border-2",_.success?"border-green-500 bg-green-50":"border-red-500 bg-red-50"),children:_.success?(0,s.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,s.jsx)("p",{className:"font-bold text-green-700 uppercase",children:"Order Executed Successfully"}),(0,s.jsxs)("p",{className:"font-mono text-xs",children:[_.asset," ",_.quantity," @ $",_.price?.toFixed(2)]}),(0,s.jsxs)("p",{className:"font-mono text-xs",children:["Total: $",_.total_value?.toLocaleString()]}),void 0!==_.profit_loss&&(0,s.jsxs)("p",{className:(0,t.cn)("font-mono text-xs font-bold",_.profit_loss>=0?"text-green-600":"text-red-600"),children:["P&L: $",_.profit_loss.toFixed(2)]})]}):(0,s.jsx)("p",{className:"text-red-700 font-bold text-sm uppercase",children:_.error})})]}),(0,s.jsx)(g,{open:P,onOpenChange:F,order:b&&j?{symbol:b,side:v,type:w,quantity:parseFloat(j),..."MARKET"!==w&&k&&{price:parseFloat(k)}}:null,onConfirm:A,isExecuting:T,result:_,onResultClose:()=>D(null)})]})}var v=e.i(95421),y=e.i(60983),w=e.i(60762),C=e.i(63333),k=e.i(32012),S=e.i(98040),T=e.i(32297),L=e.i(92658);function _({onRefresh:e,className:l}){let{portfolio:o,isLoading:c,isConnected:h,refreshPortfolio:b}=function(){let[e,s]=r.useState({portfolio:null,positions:[],orders:[],isConnected:!1,isLoading:!0,error:null}),t=r.useRef(null),a=r.useCallback(async()=>{try{let e=await p.apiClient.get("/paper-trading/account");s(s=>({...s,portfolio:e.summary,positions:e.summary.positions}))}catch(e){console.error("Failed to fetch portfolio:",e)}},[]),n=r.useCallback(async()=>{try{let e=await p.apiClient.get("/paper-trading/positions");s(s=>({...s,positions:e.positions}))}catch(e){console.error("Failed to fetch positions:",e)}},[]),l=r.useCallback(async e=>{try{let s="BUY"===e.side?"/paper-trading/buy":"/paper-trading/sell";return await p.apiClient.post(s,{asset:e.symbol,quantity:e.quantity,..."MARKET"!==e.type&&{price:e.price}}),await a(),await n(),{success:!0}}catch(e){return{success:!1,error:e.message||"Order execution failed"}}},[a,n]),o=r.useCallback(async e=>{try{return await p.apiClient.post(`/paper-trading/positions/${e}/close`),await a(),await n(),{success:!0}}catch(e){return{success:!1,error:e.message||"Failed to close position"}}},[a,n]),c=r.useCallback(async()=>{let e=(0,L.getWebSocketClient)();t.current=e,e.on("connection",e=>{s(s=>({...s,isConnected:2===e.state}))}),e.on("data",e=>{let r=e.type;"paper_portfolio_update"===r?s(s=>({...s,portfolio:e.data,positions:e.data.positions})):"paper_position_update"===r&&s(s=>({...s,positions:e.data}))});try{await e.connect(),e.subscribe({symbols:["PAPER_PORTFOLIO"],dataTypes:["portfolio","positions"]})}catch(e){console.error("WebSocket connection failed:",e)}},[]),d=r.useCallback(()=>{t.current&&(t.current.disconnect(),t.current=null,s(e=>({...e,isConnected:!1})))},[]);return r.useEffect(()=>(s(e=>({...e,isLoading:!0})),a(),n(),setTimeout(()=>{s(e=>({...e,isLoading:!1}))},500),c(),()=>{d()}),[a,n,c,d]),{...e,refreshPortfolio:a,refreshPositions:n,executeOrder:l,closePosition:o,connect:c,disconnect:d}}(),f=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),j=e=>`${e>=0?"+":""}${e.toFixed(2)}%`;return c?(0,s.jsxs)(a.Card,{className:(0,t.cn)("rounded-none border-2 border-foreground",l),children:[(0,s.jsx)(a.CardHeader,{className:"border-b-2 border-foreground",children:(0,s.jsx)(v.Skeleton,{className:"h-8 w-48"})}),(0,s.jsxs)(a.CardContent,{className:"p-6 space-y-4",children:[(0,s.jsx)(v.Skeleton,{className:"h-32 w-full"}),(0,s.jsx)(v.Skeleton,{className:"h-48 w-full"})]})]}):o?(0,s.jsxs)(a.Card,{className:(0,t.cn)("rounded-none border-2 border-foreground",l),children:[(0,s.jsx)(a.CardHeader,{className:"border-b-2 border-foreground",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(a.CardTitle,{className:"font-black uppercase flex items-center gap-2",children:[(0,s.jsx)(C.PieChart,{className:"h-5 w-5"}),"Portfolio Summary",(0,s.jsx)("span",{className:"ml-2",title:h?"Connected":"Disconnected",children:h?(0,s.jsx)(S.Wifi,{className:"h-4 w-4 text-green-500"}):(0,s.jsx)(T.WifiOff,{className:"h-4 w-4 text-red-500"})})]}),(0,s.jsx)(n.Button,{variant:"outline",size:"sm",onClick:b,className:"rounded-none border-2 font-bold uppercase",children:(0,s.jsx)(d.RefreshCw,{className:"h-4 w-4"})})]})}),(0,s.jsx)(a.CardContent,{className:"p-6",children:(0,s.jsxs)(y.Tabs,{defaultValue:"overview",className:"space-y-4",children:[(0,s.jsxs)(y.TabsList,{className:"rounded-none border-2 bg-transparent p-0 h-auto",children:[(0,s.jsx)(y.TabsTrigger,{value:"overview",className:"rounded-none border-2 border-b-0 data-[state=active]:bg-foreground data-[state=active]:text-background px-4 py-2 font-black uppercase",children:"Overview"}),(0,s.jsx)(y.TabsTrigger,{value:"positions",className:"rounded-none border-2 border-b-0 data-[state=active]:bg-foreground data-[state=active]:text-background px-4 py-2 font-black uppercase",children:"Positions"}),(0,s.jsx)(y.TabsTrigger,{value:"performance",className:"rounded-none border-2 border-b-0 data-[state=active]:bg-foreground data-[state=active]:text-background px-4 py-2 font-black uppercase",children:"Performance"})]}),(0,s.jsx)(y.TabsContent,{value:"overview",className:"space-y-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"border-2 border-foreground p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(u.Wallet,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Cash"})]}),(0,s.jsx)("p",{className:"font-mono text-xl font-black",children:f(o.cash_balance)})]}),(0,s.jsxs)("div",{className:"border-2 border-foreground p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(k.BarChart3,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Portfolio"})]}),(0,s.jsx)("p",{className:"font-mono text-xl font-black",children:f(o.portfolio_value)})]}),(0,s.jsxs)("div",{className:"border-2 border-foreground p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(m.DollarSign,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Total Value"})]}),(0,s.jsx)("p",{className:"font-mono text-xl font-black",children:f(o.total_value)})]}),(0,s.jsxs)("div",{className:(0,t.cn)("border-2 border-foreground p-4",o.total_return>=0?"bg-green-50":"bg-red-50"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[o.total_return>=0?(0,s.jsx)(i.TrendingUp,{className:"h-4 w-4 text-green-600"}):(0,s.jsx)(x.TrendingDown,{className:"h-4 w-4 text-red-600"}),(0,s.jsx)("span",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Return"})]}),(0,s.jsx)("p",{className:(0,t.cn)("font-mono text-xl font-black",o.total_return>=0?"text-green-600":"text-red-600"),children:j(o.total_return)})]})]})}),(0,s.jsx)(y.TabsContent,{value:"positions",children:0===o.positions.length?(0,s.jsx)("div",{className:"border-2 border-foreground p-8 text-center",children:(0,s.jsx)("p",{className:"font-mono text-sm text-muted-foreground",children:"No positions yet"})}):(0,s.jsx)("div",{className:"border-2 border-foreground",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{className:"border-b-2 border-foreground bg-muted/50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left p-3 font-black uppercase",children:"Symbol"}),(0,s.jsx)("th",{className:"text-right p-3 font-black uppercase",children:"Qty"}),(0,s.jsx)("th",{className:"text-right p-3 font-black uppercase",children:"Avg Price"}),(0,s.jsx)("th",{className:"text-right p-3 font-black uppercase",children:"Current"}),(0,s.jsx)("th",{className:"text-right p-3 font-black uppercase",children:"Value"}),(0,s.jsx)("th",{className:"text-right p-3 font-black uppercase",children:"P/L"})]})}),(0,s.jsx)("tbody",{children:o.positions.map(e=>(0,s.jsxs)("tr",{className:"border-b border-border last:border-0",children:[(0,s.jsx)("td",{className:"p-3",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-black uppercase",children:e.symbol}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:e.name})]})}),(0,s.jsx)("td",{className:"p-3 text-right font-mono",children:e.quantity.toFixed(4)}),(0,s.jsx)("td",{className:"p-3 text-right font-mono",children:f(e.avg_price)}),(0,s.jsx)("td",{className:"p-3 text-right font-mono",children:f(e.current_price)}),(0,s.jsx)("td",{className:"p-3 text-right font-mono",children:f(e.market_value)}),(0,s.jsxs)("td",{className:(0,t.cn)("p-3 text-right font-mono font-bold",e.profit_loss>=0?"text-green-600":"text-red-600"),children:[f(e.profit_loss),(0,s.jsx)("span",{className:"block text-xs",children:j(e.profit_loss_pct)})]})]},e.symbol))})]})})}),(0,s.jsx)(y.TabsContent,{value:"performance",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"border-2 border-foreground p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(w.Target,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Day Change"})]}),(0,s.jsx)("p",{className:(0,t.cn)("font-mono text-2xl font-black",(o.day_change||0)>=0?"text-green-600":"text-red-600"),children:j(o.day_change||0)})]}),(0,s.jsxs)("div",{className:"border-2 border-foreground p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(i.TrendingUp,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Positions"})]}),(0,s.jsx)("p",{className:"font-mono text-2xl font-black",children:o.positions?.length||0})]}),(0,s.jsxs)("div",{className:"border-2 border-foreground p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(m.DollarSign,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Cash Balance"})]}),(0,s.jsx)("p",{className:"font-mono text-2xl font-black",children:f(o.cash_balance)})]})]})})]})})]}):(0,s.jsx)(a.Card,{className:(0,t.cn)("rounded-none border-2 border-foreground",l),children:(0,s.jsxs)(a.CardContent,{className:"p-12 text-center",children:[(0,s.jsx)(u.Wallet,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"font-black uppercase text-lg mb-2",children:"No Portfolio Data"}),(0,s.jsx)("p",{className:"text-muted-foreground font-mono text-xs mb-4",children:"Your paper trading portfolio will appear here"}),e&&(0,s.jsxs)(n.Button,{onClick:e,variant:"outline",className:"rounded-none border-2 font-bold uppercase",children:[(0,s.jsx)(d.RefreshCw,{className:"h-4 w-4 mr-2"}),"Load Portfolio"]})]})})}var D=e.i(32118),U=e.i(33850);function B({onRefresh:e,className:o}){let[m,u]=r.useState(!0),[h,b]=r.useState([]),[f,j]=r.useState("all"),[g,N]=r.useState("50"),y=r.useCallback(async()=>{u(!0);try{let e=await p.apiClient.get(`/paper-trading/history?limit=${g}`);b(e.trades||[])}catch(e){console.error("Failed to fetch trades:",e)}finally{u(!1)}},[g]);r.useEffect(()=>{y()},[y]);let w=r.useMemo(()=>"all"===f?h:h.filter(e=>e.type===f),[h,f]),C=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return m?(0,s.jsxs)(a.Card,{className:(0,t.cn)("rounded-none border-2 border-foreground",o),children:[(0,s.jsx)(a.CardHeader,{className:"border-b-2 border-foreground",children:(0,s.jsx)(v.Skeleton,{className:"h-8 w-48"})}),(0,s.jsx)(a.CardContent,{className:"p-6",children:(0,s.jsx)(v.Skeleton,{className:"h-64 w-full"})})]}):(0,s.jsxs)(a.Card,{className:(0,t.cn)("rounded-none border-2 border-foreground",o),children:[(0,s.jsx)(a.CardHeader,{className:"border-b-2 border-foreground",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(a.CardTitle,{className:"font-black uppercase flex items-center gap-2",children:[(0,s.jsx)(D.History,{className:"h-5 w-5"}),"Trade History"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(c.Select,{value:f,onValueChange:j,children:[(0,s.jsxs)(c.SelectTrigger,{className:"w-24 rounded-none border-2 font-bold uppercase",children:[(0,s.jsx)(U.Filter,{className:"h-4 w-4 mr-2"}),(0,s.jsx)(c.SelectValue,{})]}),(0,s.jsxs)(c.SelectContent,{children:[(0,s.jsx)(c.SelectItem,{value:"all",children:"All"}),(0,s.jsx)(c.SelectItem,{value:"BUY",children:"Buy"}),(0,s.jsx)(c.SelectItem,{value:"SELL",children:"Sell"})]})]}),(0,s.jsx)(n.Button,{variant:"outline",size:"sm",onClick:y,className:"rounded-none border-2 font-bold uppercase",children:(0,s.jsx)(d.RefreshCw,{className:"h-4 w-4"})})]})]})}),(0,s.jsxs)(a.CardContent,{className:"p-0",children:[0===w.length?(0,s.jsxs)("div",{className:"p-8 text-center",children:[(0,s.jsx)(D.History,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"font-black uppercase text-lg mb-2",children:"No Trades Yet"}),(0,s.jsx)("p",{className:"text-muted-foreground font-mono text-xs",children:"Your paper trades will appear here"})]}):(0,s.jsx)("div",{className:"border-2 border-foreground m-4",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{className:"bg-muted/50 border-b-2 border-foreground",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left p-3 font-black uppercase",children:"Date"}),(0,s.jsx)("th",{className:"text-left p-3 font-black uppercase",children:"Asset"}),(0,s.jsx)("th",{className:"text-center p-3 font-black uppercase",children:"Type"}),(0,s.jsx)("th",{className:"text-right p-3 font-black uppercase",children:"Qty"}),(0,s.jsx)("th",{className:"text-right p-3 font-black uppercase",children:"Price"}),(0,s.jsx)("th",{className:"text-right p-3 font-black uppercase",children:"Total"}),(0,s.jsx)("th",{className:"text-right p-3 font-black uppercase",children:"P&L"})]})}),(0,s.jsx)("tbody",{children:w.map((e,r)=>(0,s.jsxs)("tr",{className:(0,t.cn)("border-b border-border last:border-0",r%2==0?"bg-muted/20":""),children:[(0,s.jsx)("td",{className:"p-3",children:(0,s.jsx)("span",{className:"font-mono text-xs",children:new Date(e.executed_at).toLocaleString()})}),(0,s.jsx)("td",{className:"p-3",children:(0,s.jsx)("span",{className:"font-black uppercase",children:e.asset})}),(0,s.jsx)("td",{className:"p-3 text-center",children:(0,s.jsxs)(l.Badge,{className:(0,t.cn)("rounded-none font-black uppercase","BUY"===e.type?"bg-green-600":"bg-red-600"),children:["BUY"===e.type?(0,s.jsx)(i.TrendingUp,{className:"h-3 w-3 mr-1"}):(0,s.jsx)(x.TrendingDown,{className:"h-3 w-3 mr-1"}),e.type]})}),(0,s.jsx)("td",{className:"p-3 text-right font-mono",children:e.quantity.toFixed(4)}),(0,s.jsx)("td",{className:"p-3 text-right font-mono",children:C(e.price)}),(0,s.jsx)("td",{className:"p-3 text-right font-mono",children:C(e.total_value)}),(0,s.jsx)("td",{className:"p-3 text-right",children:null!==e.profit_loss&&void 0!==e.profit_loss?(0,s.jsxs)("span",{className:(0,t.cn)("font-mono font-bold",e.profit_loss>=0?"text-green-600":"text-red-600"),children:[e.profit_loss>=0?"+":"",C(e.profit_loss)]}):(0,s.jsx)("span",{className:"text-muted-foreground font-mono text-xs",children:"-"})})]},e.id))})]})}),(0,s.jsxs)("div",{className:"p-4 border-t-2 border-foreground flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Show"}),(0,s.jsxs)(c.Select,{value:g,onValueChange:N,children:[(0,s.jsx)(c.SelectTrigger,{className:"w-20 rounded-none border-2 font-mono",children:(0,s.jsx)(c.SelectValue,{})}),(0,s.jsxs)(c.SelectContent,{children:[(0,s.jsx)(c.SelectItem,{value:"25",children:"25"}),(0,s.jsx)(c.SelectItem,{value:"50",children:"50"}),(0,s.jsx)(c.SelectItem,{value:"100",children:"100"})]})]})]}),(0,s.jsxs)("p",{className:"text-xs font-mono text-muted-foreground",children:["Showing ",w.length," trades"]})]})]})]})}var P=e.i(35949),F=e.i(21213),E=e.i(42509),I=e.i(34346),R=e.i(33003),A=e.i(4455),Y=e.i(89728),O=e.i(88782),q=e.i(5501);function H({className:e}){let[l,o]=r.useState(!0),[m,u]=r.useState([]),[h,b]=r.useState("7d"),[f,j]=r.useState({total_return:0,benchmark_return:0}),g=r.useCallback(async()=>{o(!0);try{let e=await p.apiClient.get(`/paper-trading/performance?period=${h}`);u(e.data||[]),j({total_return:e.total_return||0,benchmark_return:e.benchmark_return||0})}catch(e){console.error("Failed to fetch performance:",e)}finally{o(!1)}},[h]);r.useEffect(()=>{g()},[g]);let N=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),y=e=>{let s=new Date(e);return"1d"===h?s.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):s.toLocaleDateString("en-US",{month:"short",day:"numeric"})},w=e=>`${e>=0?"+":""}${e.toFixed(2)}%`;return l?(0,s.jsxs)(a.Card,{className:(0,t.cn)("rounded-none border-2 border-foreground",e),children:[(0,s.jsx)(a.CardHeader,{className:"border-b-2 border-foreground",children:(0,s.jsx)(v.Skeleton,{className:"h-8 w-48"})}),(0,s.jsx)(a.CardContent,{className:"p-6",children:(0,s.jsx)(v.Skeleton,{className:"h-64 w-full"})})]}):(0,s.jsxs)(a.Card,{className:(0,t.cn)("rounded-none border-2 border-foreground",e),children:[(0,s.jsx)(a.CardHeader,{className:"border-b-2 border-foreground",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(a.CardTitle,{className:"font-black uppercase flex items-center gap-2",children:[(0,s.jsx)(P.LineChart,{className:"h-5 w-5"}),"Performance"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(c.Select,{value:h,onValueChange:b,children:[(0,s.jsx)(c.SelectTrigger,{className:"w-24 rounded-none border-2 font-bold uppercase text-xs",children:(0,s.jsx)(c.SelectValue,{})}),(0,s.jsxs)(c.SelectContent,{children:[(0,s.jsx)(c.SelectItem,{value:"1d",children:"1D"}),(0,s.jsx)(c.SelectItem,{value:"7d",children:"7D"}),(0,s.jsx)(c.SelectItem,{value:"30d",children:"30D"}),(0,s.jsx)(c.SelectItem,{value:"90d",children:"90D"}),(0,s.jsx)(c.SelectItem,{value:"1y",children:"1Y"})]})]}),(0,s.jsx)(n.Button,{variant:"outline",size:"sm",onClick:g,className:"rounded-none border-2 font-bold uppercase",children:(0,s.jsx)(d.RefreshCw,{className:"h-4 w-4"})})]})]})}),(0,s.jsxs)(a.CardContent,{className:"p-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:(0,t.cn)("border-2 border-foreground p-4",f.total_return>=0?"bg-green-50":"bg-red-50"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[f.total_return>=0?(0,s.jsx)(i.TrendingUp,{className:"h-4 w-4 text-green-600"}):(0,s.jsx)(x.TrendingDown,{className:"h-4 w-4 text-red-600"}),(0,s.jsx)("span",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Your Return"})]}),(0,s.jsx)("p",{className:(0,t.cn)("font-mono text-2xl font-black",f.total_return>=0?"text-green-600":"text-red-600"),children:w(f.total_return)})]}),(0,s.jsxs)("div",{className:"border-2 border-foreground p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(i.TrendingUp,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-xs font-bold uppercase text-muted-foreground",children:"S&P 500"})]}),(0,s.jsx)("p",{className:(0,t.cn)("font-mono text-2xl font-black",f.benchmark_return>=0?"text-green-600":"text-red-600"),children:w(f.benchmark_return)})]})]}),0===m.length?(0,s.jsxs)("div",{className:"border-2 border-foreground p-12 text-center",children:[(0,s.jsx)(P.LineChart,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"font-black uppercase text-lg mb-2",children:"No Performance Data"}),(0,s.jsx)("p",{className:"text-muted-foreground font-mono text-xs",children:"Start trading to see your performance over time"})]}):(0,s.jsx)("div",{className:"border-2 border-foreground p-4",children:(0,s.jsx)(q.ResponsiveContainer,{width:"100%",height:256,children:(0,s.jsxs)(F.LineChart,{data:m,children:[(0,s.jsx)(A.CartesianGrid,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),(0,s.jsx)(I.XAxis,{dataKey:"timestamp",tickFormatter:y,stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),(0,s.jsx)(R.YAxis,{tickFormatter:e=>N(e),stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,width:80}),(0,s.jsx)(Y.Tooltip,{content:({active:e,payload:r,label:t})=>e&&r&&r.length?(0,s.jsxs)("div",{className:"border-2 border-foreground bg-background p-3 shadow-lg",children:[(0,s.jsx)("p",{className:"font-mono text-xs font-bold mb-2",children:y(t)}),r.map((e,r)=>(0,s.jsxs)("p",{className:"font-mono text-xs",style:{color:e.color},children:[e.name,": ",N(e.value)]},r))]}):null}),(0,s.jsx)(O.Legend,{}),(0,s.jsx)(E.Line,{type:"monotone",dataKey:"portfolio_value",stroke:"#8884d8",strokeWidth:2,dot:!1,activeDot:{r:6},name:"Portfolio"}),(0,s.jsx)(E.Line,{type:"monotone",dataKey:"benchmark",stroke:"#82ca9d",strokeWidth:2,strokeDasharray:"5 5",dot:!1,activeDot:{r:6},name:"S&P 500"})]})})})]})]})}var $=e.i(19039),M=e.i(23325);function V({className:e}){let[o,c]=r.useState(!1),i=async()=>{if(confirm("Are you sure you want to reset your paper trading account? All trades will be deleted.")){c(!0);try{await p.apiClient.post("/paper-trading/reset"),window.location.reload()}catch(e){console.error("Reset failed:",e)}finally{c(!1)}}};return(0,s.jsxs)("div",{className:(0,t.cn)("space-y-6",e),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-black uppercase tracking-tight",children:"Paper Trading"}),(0,s.jsx)("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"Practice trading with virtual money ($100,000 starting balance)"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(l.Badge,{variant:"outline",className:"font-mono text-sm border-2",children:[(0,s.jsx)(M.Zap,{className:"h-3 w-3 mr-1"}),"Virtual Trading"]}),(0,s.jsxs)(n.Button,{variant:"outline",onClick:i,disabled:o,className:"rounded-none border-2 font-bold uppercase",children:[(0,s.jsx)(d.RefreshCw,{className:(0,t.cn)("h-4 w-4 mr-2",o&&"animate-spin")}),"Reset Account"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,s.jsx)(N,{}),(0,s.jsxs)(a.Card,{className:"rounded-none border-2 border-foreground",children:[(0,s.jsx)(a.CardHeader,{className:"border-b-2 border-foreground",children:(0,s.jsxs)(a.CardTitle,{className:"font-black uppercase flex items-center gap-2 text-sm",children:[(0,s.jsx)($.Info,{className:"h-4 w-4"}),"How It Works"]})}),(0,s.jsxs)(a.CardContent,{className:"p-4 space-y-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)("div",{className:"h-6 w-6 bg-green-100 flex items-center justify-center border border-green-500 rounded-none text-xs font-black text-green-600",children:"1"}),(0,s.jsx)("p",{className:"font-mono text-xs",children:"Enter a symbol (e.g., AAPL, GOOGL) and quantity"})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)("div",{className:"h-6 w-6 bg-green-100 flex items-center justify-center border border-green-500 rounded-none text-xs font-black text-green-600",children:"2"}),(0,s.jsx)("p",{className:"font-mono text-xs",children:"Click BUY or SELL to execute your virtual trade"})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)("div",{className:"h-6 w-6 bg-green-100 flex items-center justify-center border border-green-500 rounded-none text-xs font-black text-green-600",children:"3"}),(0,s.jsx)("p",{className:"font-mono text-xs",children:"Track your portfolio and performance over time"})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)("div",{className:"h-6 w-6 bg-yellow-100 flex items-center justify-center border border-yellow-500 rounded-none text-xs font-black text-yellow-600",children:"!"}),(0,s.jsx)("p",{className:"font-mono text-xs text-yellow-700",children:"No real money involved - this is practice only"})]})]})]}),(0,s.jsx)(a.Card,{className:"rounded-none border-2 border-yellow-500/50 bg-yellow-50",children:(0,s.jsx)(a.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(j.AlertTriangle,{className:"h-5 w-5 text-yellow-600 shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-black uppercase text-sm text-yellow-800 mb-1",children:"Risk Warning"}),(0,s.jsx)("p",{className:"font-mono text-xs text-yellow-700",children:"Paper trading results do not guarantee real trading success. Actual market conditions may differ significantly."})]})]})})})]}),(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,s.jsx)(H,{}),(0,s.jsx)(_,{}),(0,s.jsx)(B,{})]})]})]})}function K(){return(0,s.jsx)(V,{})}e.s(["default",()=>K],4817)}]);