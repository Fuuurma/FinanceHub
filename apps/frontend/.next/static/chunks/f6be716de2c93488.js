(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95734,e=>{"use strict";var t=e.i(29845),r=e.i(59199),a=e.i(83043),s=e.i(24296),n=e.i(14548),i=e.i(26834),l=e.i(27600),o=e.i(75053),d=e.i(13394),c=e.i(79498),u="Checkbox",[m,p]=(0,s.createContextScope)(u),[h,x]=m(u);function f(e){let{__scopeCheckbox:a,checked:s,children:n,defaultChecked:l,disabled:o,form:d,name:c,onCheckedChange:m,required:p,value:x="on",internal_do_not_use_render:f}=e,[v,g]=(0,i.useControllableState)({prop:s,defaultProp:l??!1,onChange:m,caller:u}),[j,b]=r.useState(null),[y,w]=r.useState(null),N=r.useRef(!1),S=!j||!!d||!!j.closest("form"),_={checked:v,disabled:o,setChecked:g,control:j,setControl:b,name:c,form:d,value:x,hasConsumerStoppedPropagationRef:N,required:p,defaultChecked:!C(l)&&l,isFormControl:S,bubbleInput:y,setBubbleInput:w};return(0,t.jsx)(h,{scope:a,..._,children:"function"==typeof f?f(_):n})}var v="CheckboxTrigger",g=r.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:i,...l},o)=>{let{control:d,value:u,disabled:m,checked:p,required:h,setControl:f,setChecked:g,hasConsumerStoppedPropagationRef:j,isFormControl:b,bubbleInput:y}=x(v,e),w=(0,a.useComposedRefs)(o,f),N=r.useRef(p);return r.useEffect(()=>{let e=d?.form;if(e){let t=()=>g(N.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[d,g]),(0,t.jsx)(c.Primitive.button,{type:"button",role:"checkbox","aria-checked":C(p)?"mixed":p,"aria-required":h,"data-state":S(p),"data-disabled":m?"":void 0,disabled:m,value:u,...l,ref:w,onKeyDown:(0,n.composeEventHandlers)(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.composeEventHandlers)(i,e=>{g(e=>!!C(e)||!e),y&&b&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})})});g.displayName=v;var j=r.forwardRef((e,r)=>{let{__scopeCheckbox:a,name:s,checked:n,defaultChecked:i,required:l,disabled:o,value:d,onCheckedChange:c,form:u,...m}=e;return(0,t.jsx)(f,{__scopeCheckbox:a,checked:n,defaultChecked:i,disabled:o,required:l,onCheckedChange:c,name:s,form:u,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{...m,ref:r,__scopeCheckbox:a}),e&&(0,t.jsx)(N,{__scopeCheckbox:a})]})})});j.displayName=u;var b="CheckboxIndicator",y=r.forwardRef((e,r)=>{let{__scopeCheckbox:a,forceMount:s,...n}=e,i=x(b,a);return(0,t.jsx)(d.Presence,{present:s||C(i.checked)||!0===i.checked,children:(0,t.jsx)(c.Primitive.span,{"data-state":S(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r,style:{pointerEvents:"none",...e.style}})})});y.displayName=b;var w="CheckboxBubbleInput",N=r.forwardRef(({__scopeCheckbox:e,...s},n)=>{let{control:i,hasConsumerStoppedPropagationRef:d,checked:u,defaultChecked:m,required:p,disabled:h,name:f,value:v,form:g,bubbleInput:j,setBubbleInput:b}=x(w,e),y=(0,a.useComposedRefs)(n,b),N=(0,l.usePrevious)(u),S=(0,o.useSize)(i);r.useEffect(()=>{if(!j)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!d.current;if(N!==u&&e){let r=new Event("click",{bubbles:t});j.indeterminate=C(u),e.call(j,!C(u)&&u),j.dispatchEvent(r)}},[j,N,u,d]);let _=r.useRef(!C(u)&&u);return(0,t.jsx)(c.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??_.current,required:p,disabled:h,name:f,value:v,form:g,...s,tabIndex:-1,ref:y,style:{...s.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function C(e){return"indeterminate"===e}function S(e){return C(e)?"indeterminate":e?"checked":"unchecked"}N.displayName=w;var _=e.i(90052),k=e.i(22966);function P({className:e,...r}){return(0,t.jsx)(j,{"data-slot":"checkbox",className:(0,k.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(y,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,t.jsx)(_.CheckIcon,{className:"size-3.5"})})})}e.s(["Checkbox",()=>P],95734)},99587,e=>{"use strict";let t=(0,e.i(19952).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],99587)},30719,e=>{"use strict";var t=e.i(78313);e.s(["ChevronDown",()=>t.default])},73099,e=>{"use strict";let t={get url(){return`file://${e.P("apps/frontend/src/node_modules/zustand/esm/middleware.mjs")}`}},r=new Map,a=e=>{let t=r.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([e,t])=>[e,t.getState()])):{}},s=(e,s={})=>(i,l,o)=>{let d,{enabled:c,anonymousActionType:u,store:m,...p}=s;try{d=(null!=c?c:(t.env?t.env.MODE:void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(e){}if(!d)return e(i,l,o);let{connection:h,...x}=((e,t,a)=>{if(void 0===e)return{type:"untracked",connection:t.connect(a)};let s=r.get(a.name);if(s)return{type:"tracked",store:e,...s};let n={connection:t.connect(a),stores:{}};return r.set(a.name,n),{type:"tracked",store:e,...n}})(m,d,p),f=!0;o.setState=(e,t,r)=>{let s=i(e,t);if(!f)return s;let n=void 0===r?{type:u||(e=>{var t,r;if(!e)return;let a=e.split("\n"),s=a.findIndex(e=>e.includes("api.setState"));if(s<0)return;let n=(null==(t=a[s+1])?void 0:t.trim())||"";return null==(r=/.+ (.+) .+/.exec(n))?void 0:r[1]})(Error().stack)||"anonymous"}:"string"==typeof r?{type:r}:r;return void 0===m?null==h||h.send(n,l()):null==h||h.send({...n,type:`${m}/${n.type}`},{...a(p.name),[m]:o.getState()}),s},o.devtools={cleanup:()=>{h&&"function"==typeof h.unsubscribe&&h.unsubscribe(),((e,t)=>{if(void 0===t)return;let a=r.get(e);a&&(delete a.stores[t],0===Object.keys(a.stores).length&&r.delete(e))})(p.name,m)}};let v=(...e)=>{let t=f;f=!1,i(...e),f=t},g=e(o.setState,l,o);if("untracked"===x.type?null==h||h.init(g):(x.stores[x.store]=o,null==h||h.init(Object.fromEntries(Object.entries(x.stores).map(([e,t])=>[e,e===x.store?g:t.getState()])))),o.dispatchFromDevtools&&"function"==typeof o.dispatch){let e=!1,r=o.dispatch;o.dispatch=(...a)=>{(t.env?t.env.MODE:void 0)==="production"||"__setState"!==a[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),r(...a)}}return h.subscribe(e=>{var t;switch(e.type){case"ACTION":if("string"!=typeof e.payload)return void console.error("[zustand devtools middleware] Unsupported action format");return n(e.payload,e=>{if("__setState"===e.type){if(void 0===m)return void v(e.state);1!==Object.keys(e.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let t=e.state[m];return void(null==t||JSON.stringify(o.getState())!==JSON.stringify(t)&&v(t))}o.dispatchFromDevtools&&"function"==typeof o.dispatch&&o.dispatch(e)});case"DISPATCH":switch(e.payload.type){case"RESET":if(v(g),void 0===m)return null==h?void 0:h.init(o.getState());return null==h?void 0:h.init(a(p.name));case"COMMIT":if(void 0===m){null==h||h.init(o.getState());break}return null==h?void 0:h.init(a(p.name));case"ROLLBACK":return n(e.state,e=>{if(void 0===m){v(e),null==h||h.init(o.getState());return}v(e[m]),null==h||h.init(a(p.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return n(e.state,e=>{void 0===m?v(e):JSON.stringify(o.getState())!==JSON.stringify(e[m])&&v(e[m])});case"IMPORT_STATE":{let{nextLiftedState:r}=e.payload,a=null==(t=r.computedStates.slice(-1)[0])?void 0:t.state;if(!a)return;void 0===m?v(a):v(a[m]),null==h||h.send(null,r);break}case"PAUSE_RECORDING":return f=!f}return}}),g},n=(e,t)=>{let r;try{r=JSON.parse(e)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}void 0!==r&&t(r)},i=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>i(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>i(t)(e)}}},l=(e,t)=>(r,a,s)=>{let n,l={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let a=e=>null===e?null:JSON.parse(e,void 0),s=null!=(t=r.getItem(e))?t:null;return s instanceof Promise?s.then(a):a(s)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,d=0,c=new Set,u=new Set,m=l.storage;if(!m)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),r(...e)},a,s);let p=()=>{let e=l.partialize({...a()});return m.setItem(l.name,{state:e,version:l.version})},h=s.setState;s.setState=(e,t)=>(h(e,t),p());let x=e((...e)=>(r(...e),p()),a,s);s.getInitialState=()=>x;let f=()=>{var e,t;if(!m)return;let s=++d;o=!1,c.forEach(e=>{var t;return e(null!=(t=a())?t:x)});let h=(null==(t=l.onRehydrateStorage)?void 0:t.call(l,null!=(e=a())?e:x))||void 0;return i(m.getItem.bind(m))(l.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];else{if(l.migrate){let t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;if(s!==d)return;let[i,o]=e;if(r(n=l.merge(o,null!=(t=a())?t:x),!0),i)return p()}).then(()=>{s===d&&(null==h||h(n,void 0),n=a(),o=!0,u.forEach(e=>e(n)))}).catch(e=>{s===d&&(null==h||h(void 0,e))})};return s.persist={setOptions:e=>{l={...l,...e},e.storage&&(m=e.storage)},clearStorage:()=>{null==m||m.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>f(),hasHydrated:()=>o,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},l.skipHydration||f(),n||x};e.s(["devtools",()=>s,"persist",()=>l])},7595,e=>{"use strict";let t=(0,e.i(19952).default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);e.s(["ArrowUpDown",()=>t],7595)},85095,e=>{"use strict";var t=e.i(64067);e.s(["ChevronUp",()=>t.default])},39043,e=>{"use strict";let t=(0,e.i(19952).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],39043)},10244,e=>{"use strict";let t=(0,e.i(19952).default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit2",()=>t],10244)},34620,e=>{"use strict";var t=e.i(29845),r=e.i(59199),a=e.i(76083),s=e.i(14548),n=e.i(83043),i=e.i(24296),l=e.i(26834),o=e.i(23823),d=e.i(27600),c=e.i(75053),u=e.i(79498),m=e.i(27668),p=["PageUp","PageDown"],h=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],x={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},f="Slider",[v,g,j]=(0,m.createCollection)(f),[b,y]=(0,i.createContextScope)(f,[j]),[w,N]=b(f),C=r.forwardRef((e,n)=>{let{name:i,min:o=0,max:d=100,step:c=1,orientation:u="horizontal",disabled:m=!1,minStepsBetweenThumbs:x=0,defaultValue:f=[o],value:g,onValueChange:j=()=>{},onValueCommit:b=()=>{},inverted:y=!1,form:N,...C}=e,S=r.useRef(new Set),_=r.useRef(0),D="horizontal"===u,[E=[],M]=(0,l.useControllableState)({prop:g,defaultProp:f,onChange:e=>{let t=[...S.current];t[_.current]?.focus(),j(e)}}),R=r.useRef(E);function T(e,t,{commit:r}={commit:!1}){let s,n=(String(c).split(".")[1]||"").length,i=Math.round((Math.round((e-o)/c)*c+o)*(s=Math.pow(10,n)))/s,l=(0,a.clamp)(i,[o,d]);M((e=[])=>{let a=function(e=[],t,r){let a=[...e];return a[r]=t,a.sort((e,t)=>e-t)}(e,l,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,r)=>e[r+1]-t))>=t;return!0}(a,x*c))return e;{_.current=a.indexOf(l);let t=String(a)!==String(e);return t&&r&&b(a),t?a:e}})}return(0,t.jsx)(w,{scope:e.__scopeSlider,name:i,disabled:m,min:o,max:d,valueIndexToChangeRef:_,thumbs:S.current,values:E,orientation:u,form:N,children:(0,t.jsx)(v.Provider,{scope:e.__scopeSlider,children:(0,t.jsx)(v.Slot,{scope:e.__scopeSlider,children:(0,t.jsx)(D?k:P,{"aria-disabled":m,"data-disabled":m?"":void 0,...C,ref:n,onPointerDown:(0,s.composeEventHandlers)(C.onPointerDown,()=>{m||(R.current=E)}),min:o,max:d,inverted:y,onSlideStart:m?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let r=e.map(e=>Math.abs(e-t)),a=Math.min(...r);return r.indexOf(a)}(E,e);T(e,t)},onSlideMove:m?void 0:function(e){T(e,_.current)},onSlideEnd:m?void 0:function(){let e=R.current[_.current];E[_.current]!==e&&b(E)},onHomeKeyDown:()=>!m&&T(o,0,{commit:!0}),onEndKeyDown:()=>!m&&T(d,E.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!m){let r=p.includes(e.key)||e.shiftKey&&h.includes(e.key),a=_.current;T(E[a]+c*(r?10:1)*t,a,{commit:!0})}}})})})})});C.displayName=f;var[S,_]=b(f,{startEdge:"left",endEdge:"right",size:"width",direction:1}),k=r.forwardRef((e,a)=>{let{min:s,max:i,dir:l,inverted:d,onSlideStart:c,onSlideMove:u,onSlideEnd:m,onStepKeyDown:p,...h}=e,[f,v]=r.useState(null),g=(0,n.useComposedRefs)(a,e=>v(e)),j=r.useRef(void 0),b=(0,o.useDirection)(l),y="ltr"===b,w=y&&!d||!y&&d;function N(e){let t=j.current||f.getBoundingClientRect(),r=B([0,t.width],w?[s,i]:[i,s]);return j.current=t,r(e-t.left)}return(0,t.jsx)(S,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:(0,t.jsx)(D,{dir:b,"data-orientation":"horizontal",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=N(e.clientX);c?.(t)},onSlideMove:e=>{let t=N(e.clientX);u?.(t)},onSlideEnd:()=>{j.current=void 0,m?.()},onStepKeyDown:e=>{let t=x[w?"from-left":"from-right"].includes(e.key);p?.({event:e,direction:t?-1:1})}})})}),P=r.forwardRef((e,a)=>{let{min:s,max:i,inverted:l,onSlideStart:o,onSlideMove:d,onSlideEnd:c,onStepKeyDown:u,...m}=e,p=r.useRef(null),h=(0,n.useComposedRefs)(a,p),f=r.useRef(void 0),v=!l;function g(e){let t=f.current||p.current.getBoundingClientRect(),r=B([0,t.height],v?[i,s]:[s,i]);return f.current=t,r(e-t.top)}return(0,t.jsx)(S,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:(0,t.jsx)(D,{"data-orientation":"vertical",...m,ref:h,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=g(e.clientY);o?.(t)},onSlideMove:e=>{let t=g(e.clientY);d?.(t)},onSlideEnd:()=>{f.current=void 0,c?.()},onStepKeyDown:e=>{let t=x[v?"from-bottom":"from-top"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),D=r.forwardRef((e,r)=>{let{__scopeSlider:a,onSlideStart:n,onSlideMove:i,onSlideEnd:l,onHomeKeyDown:o,onEndKeyDown:d,onStepKeyDown:c,...m}=e,x=N(f,a);return(0,t.jsx)(u.Primitive.span,{...m,ref:r,onKeyDown:(0,s.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(d(e),e.preventDefault()):p.concat(h).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:(0,s.composeEventHandlers)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),x.thumbs.has(t)?t.focus():n(e)}),onPointerMove:(0,s.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&i(e)}),onPointerUp:(0,s.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),l(e))})})}),E="SliderTrack",M=r.forwardRef((e,r)=>{let{__scopeSlider:a,...s}=e,n=N(E,a);return(0,t.jsx)(u.Primitive.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...s,ref:r})});M.displayName=E;var R="SliderRange",T=r.forwardRef((e,a)=>{let{__scopeSlider:s,...i}=e,l=N(R,s),o=_(R,s),d=r.useRef(null),c=(0,n.useComposedRefs)(a,d),m=l.values.length,p=l.values.map(e=>H(e,l.min,l.max)),h=m>1?Math.min(...p):0,x=100-Math.max(...p);return(0,t.jsx)(u.Primitive.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...i,ref:c,style:{...e.style,[o.startEdge]:h+"%",[o.endEdge]:x+"%"}})});T.displayName=R;var I="SliderThumb",A=r.forwardRef((e,a)=>{let s=g(e.__scopeSlider),[i,l]=r.useState(null),o=(0,n.useComposedRefs)(a,e=>l(e)),d=r.useMemo(()=>i?s().findIndex(e=>e.ref.current===i):-1,[s,i]);return(0,t.jsx)(O,{...e,ref:o,index:d})}),O=r.forwardRef((e,a)=>{var i,l,o,d,m;let p,h,{__scopeSlider:x,index:f,name:g,...j}=e,b=N(I,x),y=_(I,x),[w,C]=r.useState(null),S=(0,n.useComposedRefs)(a,e=>C(e)),k=!w||b.form||!!w.closest("form"),P=(0,c.useSize)(w),D=b.values[f],E=void 0===D?0:H(D,b.min,b.max),M=(i=f,(l=b.values.length)>2?`Value ${i+1} of ${l}`:2===l?["Minimum","Maximum"][i]:void 0),R=P?.[y.size],T=R?(o=R,d=E,m=y.direction,h=B([0,50],[0,p=o/2]),(p-h(d)*m)*m):0;return r.useEffect(()=>{if(w)return b.thumbs.add(w),()=>{b.thumbs.delete(w)}},[w,b.thumbs]),(0,t.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[y.startEdge]:`calc(${E}% + ${T}px)`},children:[(0,t.jsx)(v.ItemSlot,{scope:e.__scopeSlider,children:(0,t.jsx)(u.Primitive.span,{role:"slider","aria-label":e["aria-label"]||M,"aria-valuemin":b.min,"aria-valuenow":D,"aria-valuemax":b.max,"aria-orientation":b.orientation,"data-orientation":b.orientation,"data-disabled":b.disabled?"":void 0,tabIndex:b.disabled?void 0:0,...j,ref:S,style:void 0===D?{display:"none"}:e.style,onFocus:(0,s.composeEventHandlers)(e.onFocus,()=>{b.valueIndexToChangeRef.current=f})})}),k&&(0,t.jsx)(F,{name:g??(b.name?b.name+(b.values.length>1?"[]":""):void 0),form:b.form,value:D},f)]})});A.displayName=I;var F=r.forwardRef(({__scopeSlider:e,value:a,...s},i)=>{let l=r.useRef(null),o=(0,n.useComposedRefs)(l,i),c=(0,d.usePrevious)(a);return r.useEffect(()=>{let e=l.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(c!==a&&t){let r=new Event("input",{bubbles:!0});t.call(e,a),e.dispatchEvent(r)}},[c,a]),(0,t.jsx)(u.Primitive.input,{style:{display:"none"},...s,ref:o,defaultValue:a})});function H(e,t,r){return(0,a.clamp)(100/(r-t)*(e-t),[0,100])}function B(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}F.displayName="RadioBubbleInput";var L=e.i(22966);function z({className:e,defaultValue:a,value:s,min:n=0,max:i=100,...l}){let o=r.useMemo(()=>Array.isArray(s)?s:Array.isArray(a)?a:[n,i],[s,a,n,i]);return(0,t.jsxs)(C,{"data-slot":"slider",defaultValue:a,value:s,min:n,max:i,className:(0,L.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...l,children:[(0,t.jsx)(M,{"data-slot":"slider-track",className:(0,L.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,t.jsx)(T,{"data-slot":"slider-range",className:(0,L.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(e,r)=>(0,t.jsx)(A,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},r))]})}e.s(["Slider",()=>z],34620)},98758,e=>{"use strict";var t=e.i(94650);e.s(["screenerApi",0,{runScreener:async e=>await t.apiClient.post("/fundamentals/screener",e),getFilters:async()=>await t.apiClient.get("/screener/filters"),getPresets:async()=>await t.apiClient.get("/screener/presets"),getUserPresets:async()=>await t.apiClient.get("/screener/presets"),savePreset:async(e,r)=>await t.apiClient.post("/screener/presets",{name:e,filters:r}),updatePreset:async(e,r)=>await t.apiClient.put(`/screener/presets/${e}`,r),deletePreset:async e=>await t.apiClient.delete(`/screener/presets/${e}`)}])},99842,e=>{"use strict";var t=e.i(29845),r=e.i(59199),a=e.i(61088),s=e.i(23615),n=e.i(39197),i=e.i(50050),l=e.i(41580),o=e.i(34709),d=e.i(99587),c=e.i(74741),u=e.i(5198),m=e.i(46045),p=e.i(34620),h=e.i(95734),x=e.i(33850),f=e.i(30719),v=e.i(85095),g=e.i(30977),j=e.i(73099),b=e.i(98758);let y=(0,g.create)()((0,j.persist)((e,t)=>({filters:{},results:[],loading:!1,error:null,total_count:0,total_screened:0,elapsed_seconds:0,last_updated:null,sort_field:"market_cap",sort_direction:"desc",selected_presets:[],limit:100,setFilter:(t,r)=>{e(e=>({filters:{...e.filters,[t]:r}}))},removeFilter:t=>{e(e=>{let r={...e.filters};return delete r[t],{filters:r}})},clearFilters:()=>{e({filters:{},selected_presets:[],results:[]})},applyPreset:r=>{e({filters:r.filters,selected_presets:[r.key]}),t().runScreener()},setSorting:(t,r)=>{e({sort_field:t,sort_direction:r})},setLimit:t=>{e({limit:t})},runScreener:async()=>{let{filters:r,limit:a}=t();e({loading:!0,error:null});try{let t=await b.screenerApi.runScreener({...r,limit:a});e({results:t.results||[],total_count:t.count||0,total_screened:t.total_screened||0,elapsed_seconds:t.elapsed_seconds||0,loading:!1,last_updated:new Date().toISOString()})}catch(t){e({error:t instanceof Error?t.message:"Failed to run screener",loading:!1,results:[]})}},exportResults:e=>{let{results:r}=t();if(0===r.length)return;let a=`screener-results-${new Date().toISOString().split("T")[0]}`;if("json"===e){let e=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`${a}.json`,s.click(),URL.revokeObjectURL(t)}else if("csv"===e){let e=Object.keys(r[0]),t=new Blob([[e.join(","),...r.map(t=>e.map(e=>{let r=t[e];return null==r?"":"string"==typeof r&&(r.includes(",")||r.includes('"'))?`"${r.replace(/"/g,'""')}"`:String(r)}).join(","))].join("\n")],{type:"text/csv"}),s=URL.createObjectURL(t),n=document.createElement("a");n.href=s,n.download=`${a}.csv`,n.click(),URL.revokeObjectURL(s)}}}),{name:"screener-storage",partialize:e=>({filters:e.filters,sort_field:e.sort_field,sort_direction:e.sort_direction,limit:e.limit})})),w=[{label:"Micro Cap (<$300M)",min:0,max:3e8},{label:"Small Cap ($300M-$2B)",min:3e8,max:2e9},{label:"Mid Cap ($2B-$10B)",min:2e9,max:1e10},{label:"Large Cap ($10B-$200B)",min:1e10,max:2e11},{label:"Mega Cap (>$200B)",min:2e11,max:1/0}],N=[{key:"high_dividend",name:"High Dividend",description:"Yield > 4%, Cap > $1B"},{key:"growth_stocks",name:"Growth Stocks",description:"P/E < 30, Cap > $500M"},{key:"value_stocks",name:"Value Stocks",description:"P/E < 15, P/B < 1.5"},{key:"momentum",name:"Momentum",description:"RSI < 30, Above 50-day MA"},{key:"small_cap_growth",name:"Small Cap Growth",description:"Cap $100M-$2B"}];function C({title:e,children:a,defaultOpen:s=!0}){let[n,i]=(0,r.useState)(s);return(0,t.jsxs)("div",{className:"border-b pb-4 last:border-0",children:[(0,t.jsxs)("button",{onClick:()=>i(!n),className:"flex items-center justify-between w-full py-2 text-left font-semibold hover:text-primary transition-colors",children:[(0,t.jsx)("span",{children:e}),n?(0,t.jsx)(v.ChevronUp,{className:"w-4 h-4"}):(0,t.jsx)(f.ChevronDown,{className:"w-4 h-4"})]}),n&&(0,t.jsx)("div",{className:"pt-2 space-y-3",children:a})]})}function S(){let{filters:e,setFilter:s,removeFilter:i,clearFilters:l,runScreener:o,loading:d,selected_presets:f}=y(),[v,g]=(0,r.useState)(e),j=(0,r.useCallback)((e,t)=>{g(r=>({...r,[e]:t}))},[]),b=(0,r.useCallback)(()=>{Object.entries(v).forEach(([e,t])=>{null!=t&&""!==t&&s(e,t)}),o()},[v,s,o]),S=Object.values(e).filter(e=>null!=e&&""!==e).length;return(0,t.jsxs)(c.Card,{className:"h-full",children:[(0,t.jsx)(c.CardHeader,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(c.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(x.Filter,{className:"w-4 h-4"}),"Filters",S>0&&(0,t.jsx)(n.Badge,{variant:"secondary",children:S})]}),(0,t.jsx)(c.CardDescription,{children:"Screen stocks by criteria"})]}),(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",onClick:l,children:"Clear All"})]})}),(0,t.jsxs)(c.CardContent,{className:"space-y-4 overflow-y-auto max-h-[calc(100vh-200px)]",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(m.Label,{className:"text-sm font-semibold mb-2 block",children:"Quick Presets"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:N.map(e=>(0,t.jsx)(n.Badge,{variant:f.includes(e.key)?"default":"outline",className:"cursor-pointer hover:opacity-80 transition-opacity",title:e.description,children:e.name},e.key))})]}),(0,t.jsx)(C,{title:"Market Cap",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(u.Input,{type:"number",placeholder:"Min",value:v.market_cap_min||"",onChange:e=>j("market_cap_min",e.target.value?Number(e.target.value):void 0),"aria-label":"Minimum market cap"}),(0,t.jsx)(u.Input,{type:"number",placeholder:"Max",value:v.market_cap_max||"",onChange:e=>j("market_cap_max",e.target.value?Number(e.target.value):void 0),"aria-label":"Maximum market cap"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:w.slice(0,3).map(e=>(0,t.jsx)(a.Button,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>{j("market_cap_min",e.min),j("market_cap_max",e.max)},children:e.label.split("(")[0].trim()},e.label))})]})}),(0,t.jsx)(C,{title:"Price",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(u.Input,{type:"number",placeholder:"Min",value:v.price_min||"",onChange:e=>j("price_min",e.target.value?Number(e.target.value):void 0),"aria-label":"Minimum price"}),(0,t.jsx)(u.Input,{type:"number",placeholder:"Max",value:v.price_max||"",onChange:e=>j("price_max",e.target.value?Number(e.target.value):void 0),"aria-label":"Maximum price"})]})}),(0,t.jsx)(C,{title:"Volume",children:(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(u.Input,{type:"number",placeholder:"Min Volume",value:v.volume_min||"",onChange:e=>j("volume_min",e.target.value?Number(e.target.value):void 0)}),(0,t.jsx)(u.Input,{type:"number",placeholder:"Avg Volume",value:v.volume_avg_min||"",onChange:e=>j("volume_avg_min",e.target.value?Number(e.target.value):void 0)})]})})}),(0,t.jsx)(C,{title:"Valuation (P/E)",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(u.Input,{type:"number",placeholder:"Min P/E",value:v.pe_min||"",onChange:e=>j("pe_min",e.target.value?Number(e.target.value):void 0)}),(0,t.jsx)(u.Input,{type:"number",placeholder:"Max P/E",value:v.pe_max||"",onChange:e=>j("pe_max",e.target.value?Number(e.target.value):void 0)})]})}),(0,t.jsx)(C,{title:"P/B Ratio",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(u.Input,{type:"number",placeholder:"Min P/B",value:v.pb_min||"",onChange:e=>j("pb_min",e.target.value?Number(e.target.value):void 0)}),(0,t.jsx)(u.Input,{type:"number",placeholder:"Max P/B",value:v.pb_max||"",onChange:e=>j("pb_max",e.target.value?Number(e.target.value):void 0)})]})}),(0,t.jsx)(C,{title:"Dividend Yield",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(m.Label,{children:["Minimum Yield: ",v.dividend_yield_min||0,"%"]}),(0,t.jsx)(p.Slider,{value:[v.dividend_yield_min||0],onValueChange:([e])=>j("dividend_yield_min",e),max:10,step:.5,className:"w-full"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:"0%"}),(0,t.jsx)("span",{children:"5%"}),(0,t.jsx)("span",{children:"10%"})]})]})}),(0,t.jsx)(C,{title:"Technical Indicators",defaultOpen:!1,children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.Label,{children:"RSI Range"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(u.Input,{type:"number",placeholder:"Min",min:0,max:100,value:v.rsi_min||"",onChange:e=>j("rsi_min",e.target.value?Number(e.target.value):void 0)}),(0,t.jsx)(u.Input,{type:"number",placeholder:"Max",min:0,max:100,value:v.rsi_max||"",onChange:e=>j("rsi_max",e.target.value?Number(e.target.value):void 0)})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(h.Checkbox,{id:"above_ma_20",checked:v.above_ma_20||!1,onCheckedChange:e=>j("above_ma_20",e)}),(0,t.jsx)(m.Label,{htmlFor:"above_ma_20",className:"text-sm cursor-pointer",children:"Above 20-day MA"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(h.Checkbox,{id:"above_ma_50",checked:v.above_ma_50||!1,onCheckedChange:e=>j("above_ma_50",e)}),(0,t.jsx)(m.Label,{htmlFor:"above_ma_50",className:"text-sm cursor-pointer",children:"Above 50-day MA"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(h.Checkbox,{id:"above_ma_200",checked:v.above_ma_200||!1,onCheckedChange:e=>j("above_ma_200",e)}),(0,t.jsx)(m.Label,{htmlFor:"above_ma_200",className:"text-sm cursor-pointer",children:"Above 200-day MA"})]})]})]})}),(0,t.jsx)(C,{title:"Sector",defaultOpen:!1,children:(0,t.jsx)(u.Input,{placeholder:"Enter sector...",value:v.sector||"",onChange:e=>j("sector",e.target.value)})}),(0,t.jsx)("div",{className:"pt-4 space-y-2",children:(0,t.jsx)(a.Button,{onClick:b,className:"w-full",disabled:d,children:d?"Screening...":"Apply Filters"})})]})]})}var _=e.i(35644),k=e.i(95421),P=e.i(286),D=e.i(7595),E=e.i(62687),M=e.i(9e4),R=e.i(51174),T=e.i(87962),I=e.i(18004),A=e.i(77791),O=e.i(22966);function F(e,t=2){if(null==e)return"--";let r="string"==typeof e?parseFloat(e):e;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:t,maximumFractionDigits:t}).format(r)}function H({label:e,field:r,currentField:s,direction:n,onSort:i}){let l=s===r;return(0,t.jsxs)(a.Button,{variant:"ghost",size:"sm",className:(0,O.cn)("h-8 px-2 font-normal",l&&"bg-muted"),onClick:()=>i(r,l&&"asc"===n?"desc":"asc"),children:[e,l&&"asc"===n&&(0,t.jsx)(E.ArrowUp,{className:"ml-1 w-3 h-3"}),l&&"desc"===n&&(0,t.jsx)(M.ArrowDown,{className:"ml-1 w-3 h-3"}),!l&&(0,t.jsx)(D.ArrowUpDown,{className:"ml-1 w-3 h-3 opacity-50"})]})}function B(){let{results:e,loading:s,error:n,total_count:i,total_screened:l,elapsed_seconds:o,last_updated:d,sort_field:u,sort_direction:m,setSorting:p,exportResults:h,limit:x}=y(),[f,v]=(0,r.useState)(null),g=(0,r.useMemo)(()=>e&&0!==e.length?[...e].sort((e,t)=>{let r=e[u],a=t[u];return null==r?1:null==a?-1:"string"==typeof r&&"string"==typeof a?"asc"===j?r.localeCompare(a):a.localeCompare(r):"number"==typeof r&&"number"==typeof a?"asc"===j?r-a:a-r:0}):[],[e,u,m]),j=m;return s?(0,t.jsxs)(c.Card,{className:"h-full",children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsx)(k.Skeleton,{className:"h-6 w-32"}),(0,t.jsx)(k.Skeleton,{className:"h-4 w-48"})]}),(0,t.jsx)(c.CardContent,{children:(0,t.jsx)("div",{className:"space-y-2",children:[1,2,3,4,5].map(e=>(0,t.jsx)(k.Skeleton,{className:"h-12 w-full"},e))})})]}):n?(0,t.jsx)(c.Card,{className:"h-full",children:(0,t.jsx)(c.CardContent,{className:"flex items-center justify-center h-full",children:(0,t.jsxs)("div",{className:"text-center text-destructive",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Error loading results"}),(0,t.jsx)("p",{className:"text-sm",children:n})]})})}):0===e.length?(0,t.jsx)(c.Card,{className:"h-full",children:(0,t.jsx)(c.CardContent,{className:"flex items-center justify-center h-full",children:(0,t.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,t.jsx)("p",{className:"font-semibold",children:"No results found"}),(0,t.jsx)("p",{className:"text-sm",children:"Try adjusting your filters"})]})})}):(0,t.jsxs)(c.Card,{className:"h-full flex flex-col",children:[(0,t.jsx)(c.CardHeader,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.CardTitle,{children:"Screener Results"}),(0,t.jsxs)(c.CardDescription,{children:[i," results found from ",l," screened",o>0&&` (${o}s)`]})]}),(0,t.jsxs)(P.DropdownMenu,{children:[(0,t.jsx)(P.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(a.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(R.Download,{className:"w-4 h-4 mr-2"}),"Export"]})}),(0,t.jsxs)(P.DropdownMenuContent,{align:"end",children:[(0,t.jsx)(P.DropdownMenuItem,{onClick:()=>h("csv"),children:"Export as CSV"}),(0,t.jsx)(P.DropdownMenuItem,{onClick:()=>h("json"),children:"Export as JSON"})]})]})]})}),(0,t.jsxs)(c.CardContent,{className:"flex-1 overflow-auto",children:[(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(_.Table,{children:[(0,t.jsx)(_.TableHeader,{children:(0,t.jsxs)(_.TableRow,{className:"bg-muted/50",children:[(0,t.jsx)(_.TableHead,{className:"w-[100px]",children:(0,t.jsx)(H,{label:"Symbol",field:"symbol",currentField:u,direction:j,onSort:p})}),(0,t.jsx)(_.TableHead,{children:(0,t.jsx)(H,{label:"Name",field:"name",currentField:u,direction:j,onSort:p})}),(0,t.jsx)(_.TableHead,{className:"text-right",children:(0,t.jsx)(H,{label:"Price",field:"current_price",currentField:u,direction:j,onSort:p})}),(0,t.jsx)(_.TableHead,{className:"text-right",children:(0,t.jsx)(H,{label:"Change",field:"change_percent",currentField:u,direction:j,onSort:p})}),(0,t.jsx)(_.TableHead,{className:"text-right",children:(0,t.jsx)(H,{label:"Volume",field:"volume",currentField:u,direction:j,onSort:p})}),(0,t.jsx)(_.TableHead,{className:"text-right",children:(0,t.jsx)(H,{label:"Market Cap",field:"market_cap",currentField:u,direction:j,onSort:p})}),(0,t.jsx)(_.TableHead,{className:"text-right",children:(0,t.jsx)(H,{label:"P/E",field:"pe_ratio",currentField:u,direction:j,onSort:p})}),(0,t.jsx)(_.TableHead,{className:"text-right",children:(0,t.jsx)(H,{label:"Div Yield",field:"dividend_yield",currentField:u,direction:j,onSort:p})}),(0,t.jsx)(_.TableHead,{className:"text-center",children:"Actions"})]})}),(0,t.jsx)(_.TableBody,{children:g.map(e=>(0,t.jsxs)(_.TableRow,{className:(0,O.cn)("cursor-pointer transition-colors",f===e.id&&"bg-muted"),onClick:()=>v(f===e.id?null:e.id),children:[(0,t.jsx)(_.TableCell,{className:"font-medium",children:e.symbol}),(0,t.jsx)(_.TableCell,{className:"max-w-[200px] truncate",title:e.name,children:e.name}),(0,t.jsx)(_.TableCell,{className:"text-right",children:F(e.current_price)}),(0,t.jsx)(_.TableCell,{className:"text-right",children:(0,t.jsxs)("div",{className:(0,O.cn)("flex items-center justify-end gap-1",e.change_percent>=0?"text-green-600":"text-red-600"),children:[e.change_percent>=0?(0,t.jsx)(I.TrendingUp,{className:"w-3 h-3"}):(0,t.jsx)(A.TrendingDown,{className:"w-3 h-3"}),e.change_percent?.toFixed(2),"%"]})}),(0,t.jsx)(_.TableCell,{className:"text-right text-muted-foreground",children:function(e){if(null==e)return"--";let t="string"==typeof e?parseFloat(e):e;return new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}(e.volume)}),(0,t.jsxs)(_.TableCell,{className:"text-right",children:[F(e.market_cap/1e6,0),"M"]}),(0,t.jsx)(_.TableCell,{className:"text-right",children:void 0!==e.pe_ratio&&null!==e.pe_ratio?e.pe_ratio.toFixed(2):"-"}),(0,t.jsx)(_.TableCell,{className:"text-right",children:void 0!==e.dividend_yield&&null!==e.dividend_yield?`${e.dividend_yield.toFixed(2)}%`:"-"}),(0,t.jsx)(_.TableCell,{className:"text-center",children:(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:t=>{t.stopPropagation(),window.open(`/assets/${e.symbol}`,"_blank")},children:(0,t.jsx)(T.ExternalLink,{className:"w-3 h-3"})})})]},e.id))})]})}),e.length>=x&&(0,t.jsxs)("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:["Showing ",x," of ",i," results. Adjust filters to see more."]})]})]})}var L=e.i(94688),z=e.i(39043),U=e.i(10244),$=e.i(58488);let V=(0,e.i(19952).default)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var J=e.i(86800);let K=(0,g.create)()((0,j.persist)((e,t)=>({presets:[],loading:!1,error:null,fetchPresets:async()=>{e({loading:!0,error:null});try{let t=await b.screenerApi.getUserPresets();e({presets:t,loading:!1})}catch(t){e({error:t instanceof Error?t.message:"Failed to fetch presets",loading:!1})}},savePreset:async(t,r)=>{e({loading:!0,error:null});try{let a=await b.screenerApi.savePreset(t,r);return e(e=>({presets:[a,...e.presets],loading:!1})),a}catch(r){let t=r instanceof Error?r.message:"Failed to save preset";throw e({error:t,loading:!1}),Error(t)}},updatePreset:async(t,r)=>{e({loading:!0,error:null});try{let a=await b.screenerApi.updatePreset(t,r);return e(e=>({presets:e.presets.map(e=>e.id===t?a:e),loading:!1})),a}catch(r){let t=r instanceof Error?r.message:"Failed to update preset";throw e({error:t,loading:!1}),Error(t)}},deletePreset:async t=>{e({loading:!0,error:null});try{await b.screenerApi.deletePreset(t),e(e=>({presets:e.presets.filter(e=>e.id!==t),loading:!1}))}catch(r){let t=r instanceof Error?r.message:"Failed to delete preset";throw e({error:t,loading:!1}),Error(t)}},clearError:()=>{e({error:null})}}),{name:"screener-presets-storage",partialize:e=>({presets:e.presets})}));function Y(e){return Object.values(e).filter(e=>null!=e&&""!==e).length}function X({onSave:e}){let[s,n]=(0,r.useState)(!1),[l,o]=(0,r.useState)(""),{savePreset:d,loading:c,error:m}=K(),{filters:p}=y(),h=async()=>{if(l.trim())try{await d(l.trim(),p),n(!1),o(""),e?.()}catch(e){}},x=Y(p),f=l.trim()&&x>0;return(0,t.jsxs)(J.Dialog,{open:s,onOpenChange:n,children:[(0,t.jsx)(J.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(a.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(L.Plus,{className:"h-4 w-4 mr-2"}),"Save Preset"]})}),(0,t.jsxs)(J.DialogContent,{children:[(0,t.jsxs)(J.DialogHeader,{children:[(0,t.jsx)(J.DialogTitle,{children:"Save Screener Preset"}),(0,t.jsx)(J.DialogDescription,{children:"Save your current filter criteria as a named preset for quick access later."})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Preset Name"}),(0,t.jsx)(u.Input,{placeholder:"e.g., Tech Growth Stocks",value:l,onChange:e=>o(e.target.value),disabled:c})]}),m&&(0,t.jsx)("p",{className:"text-sm text-destructive",children:m}),x>0?(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["This preset will save ",x," filter",1!==x?"s":"","."]}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No filters applied. Add some filters before saving."})]}),(0,t.jsxs)(J.DialogFooter,{children:[(0,t.jsx)(a.Button,{variant:"outline",onClick:()=>n(!1),disabled:c,children:"Cancel"}),(0,t.jsx)(a.Button,{onClick:h,disabled:!f||c,children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Preset"})]})]})]})}function G({preset:e,onRename:s}){let[n,l]=(0,r.useState)(!1),[o,d]=(0,r.useState)(e.name),{updatePreset:c,loading:m,error:p}=K(),h=async()=>{if(!o.trim()||o.trim()===e.name)return void l(!1);try{await c(e.id,{name:o.trim()}),l(!1),s?.()}catch(e){}};return(0,t.jsxs)(J.Dialog,{open:n,onOpenChange:l,children:[(0,t.jsx)(J.DialogTrigger,{asChild:!0,children:(0,t.jsx)(a.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,t.jsx)(U.Edit2,{className:"h-4 w-4"})})}),(0,t.jsxs)(J.DialogContent,{children:[(0,t.jsxs)(J.DialogHeader,{children:[(0,t.jsx)(J.DialogTitle,{children:"Rename Preset"}),(0,t.jsx)(J.DialogDescription,{children:"Give your preset a new name."})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsx)(u.Input,{placeholder:"Preset name",value:o,onChange:e=>d(e.target.value),disabled:m}),p&&(0,t.jsx)("p",{className:"text-sm text-destructive",children:p})]}),(0,t.jsxs)(J.DialogFooter,{children:[(0,t.jsx)(a.Button,{variant:"outline",onClick:()=>l(!1),disabled:m,children:"Cancel"}),(0,t.jsx)(a.Button,{onClick:h,disabled:!o.trim()||m,children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Rename"})]})]})]})}function q({onSelectPreset:e}){let{presets:s,loading:n,fetchPresets:l,deletePreset:o}=K(),{filters:d,applyPreset:u}=y(),[m,p]=(0,r.useState)(null),h=async e=>{if(confirm("Are you sure you want to delete this preset?")){p(e);try{await o(e)}finally{p(null)}}},x=s.length>0||!n;return(0,t.jsxs)(c.Card,{children:[(0,t.jsx)(c.CardHeader,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(c.CardTitle,{className:"text-lg",children:"Saved Screeners"}),(0,t.jsx)(X,{onSave:l})]})}),(0,t.jsx)(c.CardContent,{children:n&&!x?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)(i.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):0===s.length?(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(V,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{className:"text-sm",children:"No saved presets"}),(0,t.jsx)("p",{className:"text-xs mt-1",children:"Save your current filters as a preset for quick access"})]}):(0,t.jsx)("div",{className:"space-y-2",children:s.map(r=>{let s,n,o,d,c;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-muted/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0 mr-3",children:[(0,t.jsx)("p",{className:"font-medium truncate",children:r.name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[Y(r.filters)," filters â€¢ ",(s=new Date(r.updated_at),o=Math.floor((n=new Date().getTime()-s.getTime())/6e4),d=Math.floor(n/36e5),c=Math.floor(n/864e5),o<1?"Just now":o<60?`${o}m ago`:d<24?`${d}h ago`:c<7?`${c}d ago`:s.toLocaleDateString())]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)(a.Button,{variant:"ghost",size:"sm",onClick:()=>{u({key:r.id,name:r.name,description:"",filters:r.filters}),e?.(r.filters)},disabled:m===r.id,children:[(0,t.jsx)($.Upload,{className:"h-4 w-4 mr-1"}),"Load"]}),(0,t.jsx)(G,{preset:r,onRename:l}),(0,t.jsx)(a.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h(r.id),disabled:m===r.id,children:m===r.id?(0,t.jsx)(i.Loader2,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(z.Trash2,{className:"h-4 w-4"})})]})]},r.id)})})})]})}function Q(){let{runScreener:e,clearFilters:c,loading:u,error:m,filters:p,last_updated:h}=y(),{fetchPresets:x}=K(),f=(0,r.useCallback)(()=>{e()},[e]),v=(0,r.useCallback)(()=>{c()},[c]);(0,r.useEffect)(()=>{e(),x()},[]);let g=Object.values(p).filter(e=>null!=e&&""!==e).length,j=g>0;return(0,t.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Stock Screener"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Find stocks and assets that match your investment criteria"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-sm",children:[j&&(0,t.jsxs)(n.Badge,{variant:"secondary",children:[g," filter",1!==g?"s":""," applied"]}),(0,t.jsxs)("span",{className:"text-muted-foreground flex items-center gap-1",children:[(0,t.jsx)(d.Clock,{className:"h-3 w-3"}),"Last updated: ",h?new Date(h).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"Never"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(a.Button,{variant:"outline",onClick:v,disabled:u||!j,children:[(0,t.jsx)(l.RotateCcw,{className:"h-4 w-4 mr-2"}),"Clear All"]}),(0,t.jsxs)(a.Button,{onClick:f,disabled:u,children:[u?(0,t.jsx)(i.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,t.jsx)(o.Play,{className:"h-4 w-4 mr-2"}),"Run Screener"]})]})]}),m&&(0,t.jsx)(s.Alert,{variant:"destructive",children:(0,t.jsx)(s.AlertDescription,{children:m})}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-4 gap-6 h-[calc(100vh-200px)]",children:[(0,t.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[(0,t.jsx)(q,{}),(0,t.jsx)(S,{})]}),(0,t.jsx)("div",{className:"lg:col-span-3",children:(0,t.jsx)(B,{})})]})]})}e.s(["default",()=>Q],99842)}]);