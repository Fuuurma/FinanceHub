(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54145,e=>{"use strict";let s=(0,e.i(19952).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>s],54145)},61560,e=>{"use strict";var s=e.i(94650);e.s(["watchlistApi",0,{list:()=>s.apiClient.get("/watchlist"),get:e=>s.apiClient.get(`/watchlist/${e}`),create:e=>s.apiClient.post("/watchlist",e),update:(e,t)=>s.apiClient.put(`/watchlist/${e}`,t),delete:e=>s.apiClient.delete(`/watchlist/${e}`),addAsset:(e,t)=>s.apiClient.post(`/watchlist/${e}/assets`,{symbol:t}),removeAsset:(e,t)=>s.apiClient.delete(`/watchlist/${e}/assets/${t}`)}])},37271,e=>{"use strict";var s=e.i(29845),t=e.i(59199),a=e.i(61560),i=e.i(74741),l=e.i(61088),c=e.i(5198),r=e.i(46045),n=e.i(95734),d=e.i(95421),h=e.i(86800),o=e.i(39197),m=e.i(39043),x=e.i(94688),u=e.i(10244),p=e.i(904),j=e.i(86270),g=e.i(54145);function C(){let[e,C]=(0,t.useState)([]),[w,v]=(0,t.useState)(!0),[y,f]=(0,t.useState)(""),[b,N]=(0,t.useState)(!1),[k,S]=(0,t.useState)(""),[D,A]=(0,t.useState)(""),[F,B]=(0,t.useState)(!1),[L,T]=(0,t.useState)(null),[P,E]=(0,t.useState)(!1);(0,t.useEffect)(()=>{W()},[]);let W=async()=>{v(!0),f("");try{let e=await a.watchlistApi.list();C(e)}catch(e){f(e instanceof Error?e.message:"Failed to fetch watchlists")}finally{v(!1)}},I=async e=>{e.preventDefault();let s=D.split(",").map(e=>e.trim().toUpperCase()).filter(e=>e.length>0);try{await a.watchlistApi.create({name:k,symbols:s,is_public:F}),N(!1),S(""),A(""),B(!1),W()}catch(e){f(e instanceof Error?e.message:"Failed to create watchlist")}},M=async e=>{if(confirm("Are you sure you want to delete this watchlist?"))try{await a.watchlistApi.delete(e),W()}catch(e){f(e instanceof Error?e.message:"Failed to delete watchlist")}},O=async e=>{if(e.preventDefault(),!L)return;let s=D.split(",").map(e=>e.trim().toUpperCase()).filter(e=>e.length>0);try{await a.watchlistApi.update(L.id,{name:k,symbols:s,is_public:F}),E(!1),T(null),S(""),A(""),B(!1),W()}catch(e){f(e instanceof Error?e.message:"Failed to update watchlist")}},$=async(e,s)=>{try{await a.watchlistApi.removeAsset(e,s),W()}catch(e){f(e instanceof Error?e.message:"Failed to remove asset")}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Watchlists"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage your asset watchlists"})]}),(0,s.jsxs)(h.Dialog,{open:b,onOpenChange:N,children:[(0,s.jsx)(h.DialogTrigger,{asChild:!0,children:(0,s.jsxs)(l.Button,{children:[(0,s.jsx)(x.Plus,{className:"w-4 h-4 mr-2"}),"New Watchlist"]})}),(0,s.jsxs)(h.DialogContent,{children:[(0,s.jsxs)(h.DialogHeader,{children:[(0,s.jsx)(h.DialogTitle,{children:"Create Watchlist"}),(0,s.jsx)(h.DialogDescription,{children:"Create a new watchlist to track assets"})]}),(0,s.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{htmlFor:"name",children:"Watchlist Name"}),(0,s.jsx)(c.Input,{id:"name",value:k,onChange:e=>S(e.target.value),placeholder:"My Watchlist",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{htmlFor:"symbols",children:"Symbols (comma separated)"}),(0,s.jsx)(c.Input,{id:"symbols",value:D,onChange:e=>A(e.target.value),placeholder:"AAPL, GOOGL, MSFT"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(n.Checkbox,{id:"isPublic",checked:F,onCheckedChange:e=>B(e)}),(0,s.jsx)(r.Label,{htmlFor:"isPublic",children:"Make this watchlist public"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancel"}),(0,s.jsx)(l.Button,{type:"submit",children:"Create"})]})]})]})]})]}),y&&(0,s.jsx)("div",{className:"bg-destructive/10 text-destructive p-4 rounded-lg",children:(0,s.jsx)("p",{children:y})}),w?(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:[1,2,3].map(e=>(0,s.jsxs)(i.Card,{children:[(0,s.jsx)(i.CardHeader,{children:(0,s.jsx)(d.Skeleton,{className:"h-6 w-32"})}),(0,s.jsx)(i.CardContent,{children:(0,s.jsx)(d.Skeleton,{className:"h-20"})})]},e))}):0===e.length?(0,s.jsx)(i.Card,{children:(0,s.jsxs)(i.CardContent,{className:"py-12 text-center",children:[(0,s.jsx)(p.Star,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"No watchlists yet"}),(0,s.jsxs)(l.Button,{onClick:()=>N(!0),children:[(0,s.jsx)(x.Plus,{className:"w-4 h-4 mr-2"}),"Create Your First Watchlist"]})]})}):(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,s.jsxs)(i.Card,{children:[(0,s.jsx)(i.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[e.name,e.is_public?(0,s.jsx)(j.Globe,{className:"w-4 h-4 text-muted-foreground"}):(0,s.jsx)(g.Lock,{className:"w-4 h-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardDescription,{children:[e.assets.length," assets • Created ",new Date(e.created_at).toLocaleDateString()]})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:()=>{T(e),S(e.name),A(e.assets.join(", ")),B(e.is_public),E(!0)},children:(0,s.jsx)(u.Edit2,{className:"w-4 h-4"})}),(0,s.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:()=>M(e.id),children:(0,s.jsx)(m.Trash2,{className:"w-4 h-4 text-destructive"})})]})]})}),(0,s.jsx)(i.CardContent,{children:e.assets.length>0?(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.assets.map(t=>(0,s.jsxs)(o.Badge,{variant:"secondary",className:"flex items-center gap-1",children:[t.symbol,(0,s.jsx)("button",{onClick:()=>$(e.id,t.symbol),className:"ml-1 hover:text-destructive",children:"×"})]},t.id))}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No assets in this watchlist"})})]},e.id))}),(0,s.jsx)(h.Dialog,{open:P,onOpenChange:E,children:(0,s.jsxs)(h.DialogContent,{children:[(0,s.jsxs)(h.DialogHeader,{children:[(0,s.jsx)(h.DialogTitle,{children:"Edit Watchlist"}),(0,s.jsx)(h.DialogDescription,{children:"Update your watchlist details"})]}),(0,s.jsxs)("form",{onSubmit:O,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{htmlFor:"editName",children:"Watchlist Name"}),(0,s.jsx)(c.Input,{id:"editName",value:k,onChange:e=>S(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{htmlFor:"editSymbols",children:"Symbols (comma separated)"}),(0,s.jsx)(c.Input,{id:"editSymbols",value:D,onChange:e=>A(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(n.Checkbox,{id:"editIsPublic",checked:F,onCheckedChange:e=>B(e)}),(0,s.jsx)(r.Label,{htmlFor:"editIsPublic",children:"Make this watchlist public"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>E(!1),children:"Cancel"}),(0,s.jsx)(l.Button,{type:"submit",children:"Save Changes"})]})]})]})})]})}e.s(["default",()=>C])}]);