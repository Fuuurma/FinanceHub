(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58117,e=>{"use strict";var t=e.i(29845),a=e.i(59199);e.i(44062);var r=e.i(18450),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let l=(0,r.createSlot)(`Primitive.${s}`),i=a.forwardRef((e,a)=>{let{asChild:r,...i}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?l:s,{...i,ref:a})});return i.displayName=`Primitive.${s}`,{...e,[s]:i}},{}),l="Progress",[i,n]=function(e,r=[]){let s=[],l=()=>{let t=s.map(e=>a.createContext(e));return function(r){let s=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return l.scopeName=e,[function(r,l){let i=a.createContext(l);i.displayName=r+"Context";let n=s.length;s=[...s,l];let o=r=>{let{scope:s,children:l,...o}=r,d=s?.[e]?.[n]||i,c=a.useMemo(()=>o,Object.values(o));return(0,t.jsx)(d.Provider,{value:c,children:l})};return o.displayName=r+"Provider",[o,function(t,s){let o=s?.[e]?.[n]||i,d=a.useContext(o);if(d)return d;if(void 0!==l)return l;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:a,scopeName:r})=>{let s=a(e)[`__scope${r}`];return{...t,...s}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(l,...r)]}(l),[o,d]=i(l),c=a.forwardRef((e,a)=>{var r,l;let{__scopeProgress:i,value:n=null,max:d,getValueLabel:c=p,...u}=e;(d||0===d)&&!f(d)&&console.error((r=`${d}`,`Invalid prop \`max\` of value \`${r}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=f(d)?d:100;null===n||x(n,m)||console.error((l=`${n}`,`Invalid prop \`value\` of value \`${l}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let y=x(n,m)?n:null,b=g(y)?c(y,m):void 0;return(0,t.jsx)(o,{scope:i,value:y,max:m,children:(0,t.jsx)(s.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":g(y)?y:void 0,"aria-valuetext":b,role:"progressbar","data-state":h(y,m),"data-value":y??void 0,"data-max":m,...u,ref:a})})});c.displayName=l;var u="ProgressIndicator",m=a.forwardRef((e,a)=>{let{__scopeProgress:r,...l}=e,i=d(u,r);return(0,t.jsx)(s.div,{"data-state":h(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...l,ref:a})});function p(e,t){return`${Math.round(e/t*100)}%`}function h(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function g(e){return"number"==typeof e}function f(e){return g(e)&&!isNaN(e)&&e>0}function x(e,t){return g(e)&&!isNaN(e)&&e<=t&&e>=0}m.displayName=u;var y=e.i(22966);function b({className:e,value:a,...r}){return(0,t.jsx)(c,{"data-slot":"progress",className:(0,y.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:(0,t.jsx)(m,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})})}e.s(["Progress",()=>b],58117)},17135,e=>{"use strict";let t=(0,e.i(19952).default)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);e.s(["LayoutGrid",()=>t],17135)},5497,e=>{"use strict";let t=(0,e.i(19952).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],5497)},61560,e=>{"use strict";var t=e.i(94650);e.s(["watchlistApi",0,{list:()=>t.apiClient.get("/watchlist"),get:e=>t.apiClient.get(`/watchlist/${e}`),create:e=>t.apiClient.post("/watchlist",e),update:(e,a)=>t.apiClient.put(`/watchlist/${e}`,a),delete:e=>t.apiClient.delete(`/watchlist/${e}`),addAsset:(e,a)=>t.apiClient.post(`/watchlist/${e}/assets`,{symbol:a}),removeAsset:(e,a)=>t.apiClient.delete(`/watchlist/${e}/assets/${a}`)}])},35206,e=>{"use strict";var t=e.i(28624);e.s(["X",()=>t.default])},11752,e=>{"use strict";var t=e.i(94650);e.s(["alertsApi",0,{list:e=>t.apiClient.get("/alerts/",{params:{limit:50,offset:0,...e}}),get:e=>t.apiClient.get(`/alerts/${e}`),create:e=>t.apiClient.post("/alerts/",e),update:(e,a)=>t.apiClient.put(`/alerts/${e}`,a),delete:e=>t.apiClient.delete(`/alerts/${e}`),enable:e=>t.apiClient.post(`/alerts/${e}/enable`,{}),disable:e=>t.apiClient.post(`/alerts/${e}/disable`,{}),getHistory:(e,a=20)=>t.apiClient.get(`/alerts/${e}/history`,{params:{limit:a}}),getStats:()=>t.apiClient.get("/alerts/stats"),test:e=>t.apiClient.post(`/alerts/${e}/test`,{})}])},54192,e=>{"use strict";var t=e.i(94650);e.s(["holdingsApi",0,{list:(e,a)=>{let r={};return a&&(a.asset_class&&(r.asset_class=Array.isArray(a.asset_class)?a.asset_class.join(","):a.asset_class),a.symbol&&(r.symbol=a.symbol),a.search&&(r.search=a.search),void 0!==a.min_value&&(r.min_value=a.min_value),void 0!==a.max_value&&(r.max_value=a.max_value),a.sort_by&&(r.sort_by=a.sort_by),a.sort_order&&(r.sort_order=a.sort_order),void 0!==a.page&&(r.page=a.page),void 0!==a.limit&&(r.limit=a.limit)),t.apiClient.get(`/portfolios/${e}/holdings/`,{params:r})},get:(e,a)=>t.apiClient.get(`/portfolios/${e}/holdings/${a}/`),create:(e,a)=>t.apiClient.post(`/portfolios/${e}/holdings/`,a),update:(e,a,r)=>t.apiClient.put(`/portfolios/${e}/holdings/${a}/`,r),delete:(e,a)=>t.apiClient.delete(`/portfolios/${e}/holdings/${a}/`),listTransactions:(e,a)=>{let r={};return a&&(a.type&&(r.type=Array.isArray(a.type)?a.type.join(","):a.type),a.symbol&&(r.symbol=a.symbol),a.start_date&&(r.start_date=a.start_date),a.end_date&&(r.end_date=a.end_date),void 0!==a.min_amount&&(r.min_amount=a.min_amount),void 0!==a.max_amount&&(r.max_amount=a.max_amount),a.sort_by&&(r.sort_by=a.sort_by),a.sort_order&&(r.sort_order=a.sort_order),void 0!==a.page&&(r.page=a.page),void 0!==a.limit&&(r.limit=a.limit)),t.apiClient.get(`/portfolios/${e}/transactions/`,{params:r})},getTransaction:(e,a)=>t.apiClient.get(`/portfolios/${e}/transactions/${a}/`),createTransaction:(e,a)=>t.apiClient.post(`/portfolios/${e}/transactions/`,a),deleteTransaction:(e,a)=>t.apiClient.delete(`/portfolios/${e}/transactions/${a}/`),getPnL:(e,a)=>t.apiClient.get(`/portfolios/${e}/pnl/`,{params:{period:a}}),getAllocation:e=>t.apiClient.get(`/portfolios/${e}/allocation/`),getSummary:e=>t.apiClient.get(`/portfolios/${e}/summary/`),bulkUpdatePrices:e=>t.apiClient.post(`/portfolios/${e}/holdings/refresh-prices/`),recalculateAllocations:e=>t.apiClient.post(`/portfolios/${e}/recalculate-allocations/`)}])},80063,e=>{"use strict";var t=e.i(94650);e.s(["fundamentalsApi",0,{getEquityFundamentals:e=>t.apiClient.get(`/fundamentals/fundamentals/${e}`),getEquityValuation:(e,a)=>{let r={};return a&&(r.period_type=a),t.apiClient.get(`/fundamentals/valuation/${e}`,{params:r})},getEquityFinancials:(e,a)=>{let r={};return a&&(r.period_type=a),t.apiClient.get(`/fundamentals/financials/${e}`,{params:r})},getHistoricalFundamentals:(e,a="annual",r=5)=>t.apiClient.get(`/fundamentals/historical/${e}`,{params:{period_type:a,limit:r}}),getCryptoProtocol:e=>t.apiClient.get(`/fundamentals/crypto/protocol/${e}`),getAllCryptoProtocols:()=>t.apiClient.get("/fundamentals/crypto/protocols"),getChainTVL:e=>t.apiClient.get(`/fundamentals/crypto/chain/${e}`),getBondMetrics:e=>{let a={};return e&&(a.symbol=e),t.apiClient.get("/fundamentals/bonds/metrics",{params:a})},getYieldCurve:()=>t.apiClient.get("/fundamentals/bonds/yield-curve"),getTreasuryHistory:(e=5)=>t.apiClient.get("/fundamentals/bonds/treasury-history",{params:{years:e}}),screenStocks:e=>{let a={};return Object.entries(e).forEach(([e,t])=>{void 0!==t&&(a[e]=t)}),t.apiClient.get("/fundamentals/screener",{params:a})},batchFetchEquities:e=>t.apiClient.post("/fundamentals/batch/equities",{symbols:e.join(",")}),getSectorPerformance:()=>t.apiClient.get("/fundamentals/sectors"),getCacheStats:()=>t.apiClient.get("/fundamentals/cache/stats"),invalidateCache:e=>t.apiClient.post(`/fundamentals/cache/invalidate/${e}`)}])},3908,e=>{"use strict";var t=e.i(94650);let a="/ai/v2/enhanced";async function r(e){return t.apiClient.post(`${a}/suggest-strategy`,e)}async function s(e){let r={symbols:e.symbols.join(","),horizon:e.horizon};return e.scenario&&(r.scenario=e.scenario),void 0!==e.include_sentiment&&(r.include_sentiment=Number(e.include_sentiment)),t.apiClient.get(`${a}/forecast-narrative`,{params:r})}async function l(e){let r=e?{feature:e}:void 0;return t.apiClient.get(`${a}/access`,r?{params:r}:void 0)}async function*i(e){let r=await fetch(`${t.apiClient.baseUrl}${a}/chat`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"text-event-stream",...t.apiClient.defaultHeaders},body:JSON.stringify({...e,stream:!0})});if(!r.ok){let e=await r.json().catch(()=>({}));throw new t.ApiError(e.error||"AI chat failed",r.status,e.code||"AI_CHAT_ERROR")}let s=r.body?.getReader();if(!s)throw Error("No stream available");let l=new TextDecoder,i="";for(;;){let{done:e,value:t}=await s.read();if(e)break;let a=(i+=l.decode(t,{stream:!0})).split("\n");for(let e of(i=a.pop()||"",a))if(e.startsWith("data: ")){let t=e.slice(6);if("[DONE]"===t)return;try{let e=JSON.parse(t);e.token&&(yield e.token)}catch{yield t}}}}async function n(e){return t.apiClient.get(`${a}/sector/${encodeURIComponent(e)}`)}async function o(){return t.apiClient.get(`${a}/risk-commentary`)}async function d(e="SPY"){return t.apiClient.get(`${a}/volatility-outlook`,{params:{symbol:e}})}async function c(){return t.apiClient.get(`${a}/bond-market`)}e.s(["checkAccessStatus",()=>l,"getBondMarketAnalysis",()=>c,"getForecastNarrative",()=>s,"getRiskCommentary",()=>o,"getSectorAnalysis",()=>n,"getVolatilityOutlook",()=>d,"streamChatMessage",()=>i,"suggestStrategy",()=>r])},2632,e=>{"use strict";var t=e.i(94650);e.s(["economicApi",0,{async getMacroDashboard(){try{return await t.apiClient.get("/economic/macro-dashboard")}catch(e){return console.error("Failed to fetch macro dashboard:",e),null}},async getIndicator(e,a){try{let r={};return a?.observation_start&&(r.observation_start=a.observation_start),a?.observation_end&&(r.observation_end=a.observation_end),a?.frequency&&(r.frequency=a.frequency),a?.limit&&(r.limit=a.limit),await t.apiClient.get(`/economic/indicators/${e}`,{params:r})}catch(t){return console.error(`Failed to fetch indicator ${e}:`,t),null}},async getDataPoints(e,a){try{let r={};return a?.start_date&&(r.start_date=a.start_date),a?.end_date&&(r.end_date=a.end_date),a?.limit&&(r.limit=a.limit),await t.apiClient.get(`/economic/data/${e}`,{params:r})}catch(t){return console.error(`Failed to fetch data points for ${e}:`,t),null}},async getYieldCurve(e){try{let a={};return e?.start_date&&(a.start_date=e.start_date),e?.end_date&&(a.end_date=e.end_date),await t.apiClient.get("/economic/yield-curve",{params:a})}catch(e){return console.error("Failed to fetch yield curve:",e),null}},async getCreditSpreads(){try{return await t.apiClient.get("/economic/credit-spreads")}catch(e){return console.error("Failed to fetch credit spreads:",e),null}},async getInflationData(){try{return await t.apiClient.get("/economic/inflation")}catch(e){return console.error("Failed to fetch inflation data:",e),null}},async getGDP(e){try{let a={};return e?.real_gdp!==void 0&&(a.real_gdp=+!!e.real_gdp),e?.start_date&&(a.start_date=e.start_date),e?.end_date&&(a.end_date=e.end_date),await t.apiClient.get("/economic/gdp",{params:a})}catch(e){return console.error("Failed to fetch GDP data:",e),null}},async getUnemployment(e){try{let a={};return e?.start_date&&(a.start_date=e.start_date),e?.end_date&&(a.end_date=e.end_date),await t.apiClient.get("/economic/unemployment",{params:a})}catch(e){return console.error("Failed to fetch unemployment data:",e),null}},async getInterestRates(e){try{let a={};return e?.maturity&&(a.maturity=e.maturity),e?.start_date&&(a.start_date=e.start_date),e?.end_date&&(a.end_date=e.end_date),await t.apiClient.get("/economic/interest-rates",{params:a})}catch(e){return console.error("Failed to fetch interest rates:",e),null}},async getHousingData(e){try{let a={};return e?.start_date&&(a.start_date=e.start_date),e?.end_date&&(a.end_date=e.end_date),await t.apiClient.get("/economic/housing",{params:a})}catch(e){return console.error("Failed to fetch housing data:",e),null}},async refreshDashboard(){try{return await t.apiClient.post("/economic/refresh")}catch(e){return console.error("Failed to refresh dashboard:",e),{success:!1,message:"Failed to refresh dashboard"}}},async getCategoryIndicators(e){try{return await t.apiClient.get(`/economic/categories/${e}`)}catch(t){return console.error(`Failed to fetch category ${e}:`,t),null}},async searchIndicators(e,a=20){try{return await t.apiClient.get("/economic/search",{params:{search:e,limit:a}})}catch(e){return console.error("Failed to search indicators:",e),null}}}])},98040,32297,e=>{"use strict";var t=e.i(19952);let a=(0,t.default)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);e.s(["Wifi",()=>a],98040);let r=(0,t.default)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["WifiOff",()=>r],32297)},54875,e=>{"use strict";var t=e.i(29845),a=e.i(98040),r=e.i(32297),s=e.i(8562),l=e.i(61088),i=e.i(39197),n=e.i(60021),o=e.i(92658),d=e.i(96513);function c(){let{connectionState:e,error:c,connect:u}=(0,n.useRealtimeStore)(),m=(0,o.getWebSocketClient)(),p=e===d.CONNECTION_STATES.DISCONNECTED||e===d.CONNECTION_STATES.ERROR;return(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 border rounded-lg bg-background",children:[(0,t.jsx)("div",{className:`w-3 h-3 rounded-full ${(e=>{switch(e){case d.CONNECTION_STATES.CONNECTED:return"bg-green-500";case d.CONNECTION_STATES.CONNECTING:return"bg-yellow-500";case d.CONNECTION_STATES.DISCONNECTED:case d.CONNECTION_STATES.ERROR:return"bg-red-500";default:return"bg-gray-500"}})(e)}`}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[e===d.CONNECTION_STATES.CONNECTED?(0,t.jsx)(a.Wifi,{className:"h-4 w-4"}):e===d.CONNECTION_STATES.CONNECTING?(0,t.jsx)(s.RefreshCw,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(r.WifiOff,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"font-medium",children:d.CONNECTION_MESSAGES[e]})]}),c&&(0,t.jsx)(i.Badge,{variant:"destructive",className:"text-xs",children:c}),e===d.CONNECTION_STATES.CONNECTED&&(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Ping: ",m.getPingMs(),"ms"]})]}),p&&(0,t.jsx)(l.Button,{size:"sm",onClick:()=>{u(localStorage.getItem("access_token")||void 0)},disabled:"connecting"===e,className:"shrink-0",children:(0,t.jsx)(s.RefreshCw,{className:`h-4 w-4 ${"connecting"===e?"animate-spin":""}`})})]})}e.s(["ConnectionStatus",()=>c])},53116,85447,e=>{"use strict";var t,a=e.i(29845),r=e.i(59199);e.i(73396);var s=e.i(42051);let l="label";function i(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function n(e,t,a=l){let r=[];e.datasets=t.map(t=>{let s=e.datasets.find(e=>e[a]===t[a]);return!s||!t.data||r.includes(s)?{...t}:(r.push(s),Object.assign(s,t),s)})}let o=(0,r.forwardRef)(function(e,t){let{height:o=150,width:d=300,redraw:c=!1,datasetIdKey:u,type:m,data:p,options:h,plugins:g=[],fallbackContent:f,updateMode:x,...y}=e,b=(0,r.useRef)(null),v=(0,r.useRef)(null),C=()=>{b.current&&(v.current=new s.Chart(b.current,{type:m,data:function(e,t=l){let a={labels:[],datasets:[]};return a.labels=e.labels,n(a,e.datasets,t),a}(p,u),options:h&&{...h},plugins:g}),i(t,v.current))},N=()=>{i(t,null),v.current&&(v.current.destroy(),v.current=null)};return(0,r.useEffect)(()=>{var e;let t;!c&&v.current&&h&&(e=v.current,(t=e.options)&&h&&Object.assign(t,h))},[c,h]),(0,r.useEffect)(()=>{!c&&v.current&&(v.current.config.data.labels=p.labels)},[c,p.labels]),(0,r.useEffect)(()=>{!c&&v.current&&p.datasets&&n(v.current.config.data,p.datasets,u)},[c,p.datasets]),(0,r.useEffect)(()=>{v.current&&(c?(N(),setTimeout(C)):v.current.update(x))},[c,h,p.labels,p.datasets,x]),(0,r.useEffect)(()=>{v.current&&(N(),setTimeout(C))},[m]),(0,r.useEffect)(()=>(C(),()=>N()),[]),(0,a.jsx)("canvas",{ref:b,role:"img",height:o,width:d,...y,children:f})});s.LineController;let d=(t=s.BarController,s.Chart.register(t),(0,r.forwardRef)((e,t)=>(0,a.jsx)(o,{...e,ref:t,type:"bar"})));s.RadarController,s.DoughnutController,s.PolarAreaController,s.BubbleController,s.PieController,s.ScatterController;var c=e.i(74601),u=e.i(60983),m=e.i(60021),p=e.i(96513);function h({symbol:e,depth:t=p.ORDERBOOK_CONFIG.DEFAULT_DEPTH}){let{orderBooks:s,subscribeSingle:l,unsubscribeSingle:i}=(0,m.useRealtimeStore)(),[n,o]=(0,r.useState)(t),[h,g]=(0,r.useState)(null);(0,r.useEffect)(()=>(l(e,["orderbook"]),()=>{i(e,["orderbook"])}),[e,l,i]);let f=s[e];if((0,r.useEffect)(()=>{g(null);let e=setTimeout(()=>{g(null)},p.ORDERBOOK_CONFIG.UPDATE_DEBOUNCE_MS);return g(e),()=>{e&&clearTimeout(e)}},[f]),!f||0===f.levels.length)return(0,a.jsx)("div",{className:"flex items-center justify-center h-96 border rounded-lg bg-background",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No order book data available"})});let x=f.levels.slice(0,n),y=f.midPrice||f.levels.reduce((e,t)=>e+t.price,0)/f.levels.length,b=x.filter(e=>e.price<y).reverse(),v=x.filter(e=>e.price>y),C=b.map(e=>e.price),N=b.map(e=>e.volume),j=v.map(e=>e.price),_=v.map(e=>e.volume),w={labels:[...C.reverse(),...j],datasets:[{label:"Bids",data:[...N.reverse()],backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgb(34, 197, 94)",borderWidth:1,borderRadius:4},{label:"Asks",data:_,backgroundColor:"rgba(239, 68, 68, 0.8)",borderColor:"rgb(239, 68, 68)",borderWidth:1,borderRadius:4}]},$=Math.max(...b.map(e=>e.volume),...v.map(e=>e.volume));return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold",children:["Order Book - ",e]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Depth:"}),(0,a.jsxs)(c.Select,{value:String(n),onValueChange:e=>{o(e)},children:[(0,a.jsx)(c.SelectTrigger,{className:"w-24",children:(0,a.jsx)(c.SelectValue,{})}),(0,a.jsx)(c.SelectContent,{children:p.ORDERBOOK_CONFIG.DEPTH_OPTIONS.map(e=>(0,a.jsx)(c.SelectItem,{value:String(e),children:e},e))})]})]})]}),(0,a.jsxs)(u.Tabs,{defaultValue:"depth",className:"w-full",children:[(0,a.jsxs)(u.TabsList,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(u.TabsTrigger,{value:"depth",children:"Depth Chart"}),(0,a.jsx)(u.TabsTrigger,{value:"ladder",children:"Bid/Ask Ladder"})]}),(0,a.jsx)(u.TabsContent,{value:"depth",children:(0,a.jsx)("div",{className:"h-96",children:(0,a.jsx)(d,{data:w,options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,padding:12,cornerRadius:8,callbacks:{label:e=>{let t=e.dataset,a=e.label,r=e.parsed.x;return`${t.label}: ${r?.toLocaleString()} @ $${a?.toFixed(2)}`}}}},scales:{x:{stacked:!0,grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"rgba(148, 163, 184, 0.5)",callback:e=>e?.toLocaleString()}},y:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"rgba(148, 163, 184, 0.5)",callback:e=>`$${e?.toFixed(2)}`}}}}})})}),(0,a.jsxs)(u.TabsContent,{value:"ladder",className:"h-96 overflow-auto",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-center text-green-600 p-2 border-b",children:"BIDS"}),b.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 hover:bg-muted/50",children:[(0,a.jsxs)("span",{className:"text-sm font-mono text-green-600",children:["$",e.price.toFixed(2)]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[(0,a.jsx)("div",{className:"h-4 bg-green-600/20 rounded",style:{width:`${e.volume/$*100}%`}}),(0,a.jsx)("span",{className:"text-sm font-mono",children:e.volume.toLocaleString()})]})]},`bid-${t}`))]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-center text-red-600 p-2 border-b",children:"ASKS"}),v.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 hover:bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,a.jsx)("div",{className:"h-4 bg-red-600/20 rounded",style:{width:`${e.volume/$*100}%`}}),(0,a.jsx)("span",{className:"text-sm font-mono",children:e.volume.toLocaleString()})]}),(0,a.jsxs)("span",{className:"text-sm font-mono text-red-600",children:["$",e.price.toFixed(2)]})]},`ask-${t}`))]})]}),y&&(0,a.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-background border-2 border-primary px-4 py-2 rounded-lg shadow-lg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Mid Price"}),(0,a.jsxs)("div",{className:"text-lg font-bold font-mono",children:["$",y.toFixed(2)]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Spread: $",f.spread.toFixed(2)]})]})})]})]})]})}s.Chart.register(s.BarElement,s.CategoryScale,s.LinearScale,s.Tooltip,s.Legend),e.s(["OrderBook",()=>h],53116);var g=e.i(62687),f=e.i(9e4),x=e.i(61088);function y({symbol:e,limit:t=p.WS_CONFIG.TRADE_FEED_LIMIT}){let{trades:s,subscribeSingle:l,unsubscribeSingle:i}=(0,m.useRealtimeStore)(),[n,o]=(0,r.useState)("all"),[d,c]=(0,r.useState)(!0),u=(0,r.useRef)(null),[h,y]=(0,r.useState)(new Set);(0,r.useEffect)(()=>(l(e,["trades"]),()=>{i(e,["trades"])}),[e,l,i]);let b=(s[e]||[]).slice(0,t);(0,r.useEffect)(()=>{let e=setTimeout(()=>{y(new Set)},500);return()=>clearTimeout(e)},[b]),(0,r.useEffect)(()=>{d&&u.current&&b.length>0&&(u.current.scrollTop=0)},[b,d]);let v=b.filter(e=>"all"===n||("buys"===n?e.isBuy:"sells"!==n||!e.isBuy));return 0===b.length?(0,a.jsxs)("div",{className:"flex flex-col h-96 border rounded-lg bg-background",children:[(0,a.jsx)("div",{className:"p-4 border-b",children:(0,a.jsxs)("h3",{className:"text-lg font-semibold",children:["Trade Feed - ",e]})}),(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No trades available"})})]}):(0,a.jsxs)("div",{className:"flex flex-col h-96 border rounded-lg bg-background",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold",children:["Trade Feed - ",e]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Filter:"}),(0,a.jsx)("div",{className:"flex",children:[{value:"all",label:"All"},{value:"buys",label:"Buys"},{value:"sells",label:"Sells"}].map(e=>(0,a.jsx)(x.Button,{size:"sm",variant:n===e.value?"default":"outline",onClick:()=>o(e.value),className:"rounded-none rounded-l-none first:rounded-l-l first:rounded-r-none last:rounded-r-l last:rounded-r-none",children:e.label},e.value))})]}),(0,a.jsx)(x.Button,{size:"sm",variant:"outline",onClick:()=>c(!d),className:"text-xs",children:d?"Auto-scroll: On":"Auto-scroll: Off"})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-auto",ref:u,children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"sticky top-0 bg-background",children:(0,a.jsxs)("tr",{className:"text-xs text-muted-foreground",children:[(0,a.jsx)("th",{className:"p-3 text-left",children:"Time"}),(0,a.jsx)("th",{className:"p-3 text-right",children:"Price"}),(0,a.jsx)("th",{className:"p-3 text-right",children:"Size"}),(0,a.jsx)("th",{className:"p-3 text-left",children:"Type"}),(0,a.jsx)("th",{className:"p-3 text-left",children:"Exchange"})]})}),(0,a.jsx)("tbody",{children:v.map((e,t)=>{let r;return(0,a.jsxs)("tr",{className:`
                  border-b hover:bg-muted/50 transition-colors
                  ${h.has(parseInt(e.tradeId))?"bg-muted/30":""}
                `,children:[(0,a.jsx)("td",{className:"p-3 text-sm font-mono text-muted-foreground",children:new Date(e.timestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}),(0,a.jsx)("td",{className:"p-3 text-sm font-mono text-right",children:(r=e.price,`$${r.toFixed(2)}`)}),(0,a.jsx)("td",{className:"p-3 text-sm font-mono text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)("div",{className:"h-1 bg-foreground/30 rounded",style:{width:`${e.quantity/Math.max(...b.map(e=>e.quantity))*100}px`}}),(0,a.jsx)("span",{children:e.quantity.toLocaleString()})]})}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsxs)("div",{className:`
                    inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold
                    ${e.isBuy?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600"}
                  `,children:[e.isBuy?(0,a.jsx)(g.ArrowUp,{className:"h-3 w-3"}):(0,a.jsx)(f.ArrowDown,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:e.tradeType})]})}),(0,a.jsx)("td",{className:"p-3 text-sm text-muted-foreground",children:e.exchange})]},e.tradeId)})})]})}),(0,a.jsx)("div",{className:"p-2 border-t bg-muted/20",children:(0,a.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:["Showing ",v.length," of ",b.length," trades","all"!==n&&` (${n})`]})})]})}e.s(["TradeFeed",()=>y],85447)},95811,e=>{e.v(t=>Promise.all(["static/chunks/d732d145ae0cd53d.js"].map(t=>e.l(t))).then(()=>t(85352)))}]);