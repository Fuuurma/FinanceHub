module.exports=[78708,a=>{"use strict";var b=a.i(86531),c=a.i(9644),d=a.i(31385),e=a.i(61219),f=a.i(48047),g=a.i(49657),h=a.i(6047),i=a.i(59820),j=a.i(84429),k=a.i(50727),l=a.i(28054),m=a.i(46280),n=a.i(53427),o=a.i(81726),p=a.i(25166),q=a.i(14767),r=a.i(56215),s=a.i(53875);function t({data:a,title:c,color:d="#3b82f6",showPrice:e=!1,priceData:f,type:t="line",referenceLines:u,height:v=300,loading:w,error:x}){if(w)return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:c})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)(i.Skeleton,{className:"w-full",style:{height:v}})})]});if(x||!a||0===a.length)return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:c})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-red-500",children:x||"No data available"})})]});let y=a.map((a,b)=>{let c={timestamp:a.timestamp,value:a.value};return void 0!==a.upper&&(c.upper=a.upper,c.middle=a.middle,c.lower=a.lower),void 0!==a.histogram&&(c.histogram=a.histogram),void 0!==a.macd&&(c.macd=a.macd,c.signalLine=a.signal),void 0!==a.k&&(c.k=a.k,c.d=a.d),e&&f?.[b]&&(c.price=f[b].close),c}),z=(a,c,d)=>void 0===a?null:a>c?(0,b.jsx)(h.Badge,{variant:"destructive",children:"Overbought"}):a<d?(0,b.jsx)(h.Badge,{variant:"default",children:"Oversold"}):(0,b.jsx)(h.Badge,{variant:"secondary",children:"Neutral"}),A=a[a.length-1]?.value;return(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(g.CardTitle,{children:c}),void 0!==A&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-2xl font-bold",children:A.toFixed(4)}),c.includes("RSI")&&z(A,70,30),c.includes("Stochastic")&&z(A,80,20),c.includes("CCI")&&z(A,100,-100),c.includes("MFI")&&z(A,80,20),c.includes("Williams")&&z(A,-20,-80)]})]}),a.length>0&&(0,b.jsxs)(g.CardDescription,{children:["Last updated: ",(0,s.format)(new Date(a[a.length-1]?.timestamp),"MMM dd, yyyy HH:mm")]})]}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)(p.ResponsiveContainer,{width:"100%",height:v,children:(0,b.jsxs)(j.LineChart,{data:y,children:[(0,b.jsx)(n.CartesianGrid,{strokeDasharray:"3 3",className:"stroke-muted"}),(0,b.jsx)(l.XAxis,{dataKey:"timestamp",tickFormatter:a=>{try{return(0,s.format)(new Date(a),"MMM dd")}catch{return""}},className:"text-xs",tick:{fill:"muted-foreground"}}),(0,b.jsx)(m.YAxis,{className:"text-xs",tick:{fill:"muted-foreground"},domain:["auto","auto"]}),(0,b.jsx)(o.Tooltip,{content:(0,b.jsx)(({active:a,payload:c,label:d})=>a&&c&&c.length?(0,b.jsxs)("div",{className:"bg-background border rounded-lg p-3 shadow-lg",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-2",children:(a=>{try{return(0,s.format)(new Date(a),"MMM dd, yyyy HH:mm")}catch{return a}})(d)}),c.map((a,c)=>(0,b.jsxs)("p",{className:"text-sm",style:{color:a.color},children:[a.name,": ",a.value?.toFixed(4)]},c))]}):null,{})}),(0,b.jsx)(q.Legend,{}),e&&(0,b.jsx)(k.Line,{type:"monotone",dataKey:"price",stroke:"#8884d8",strokeWidth:1,dot:!1,name:"Price"}),(0,b.jsx)(k.Line,{type:"monotone",dataKey:"value",stroke:d,strokeWidth:2,dot:!1,name:c,connectNulls:!0}),a[0]?.upper!==void 0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Line,{type:"monotone",dataKey:"upper",stroke:"#ef4444",strokeWidth:1,strokeDasharray:"5 5",dot:!1,name:"Upper"}),(0,b.jsx)(k.Line,{type:"monotone",dataKey:"middle",stroke:d,strokeWidth:1,dot:!1,name:"Middle"}),(0,b.jsx)(k.Line,{type:"monotone",dataKey:"lower",stroke:"#22c55e",strokeWidth:1,strokeDasharray:"5 5",dot:!1,name:"Lower"})]}),a[0]?.histogram!==void 0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Line,{type:"monotone",dataKey:"macd",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:"MACD"}),(0,b.jsx)(k.Line,{type:"monotone",dataKey:"signalLine",stroke:"#ef4444",strokeWidth:2,dot:!1,name:"Signal"})]}),a[0]?.k!==void 0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Line,{type:"monotone",dataKey:"k",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:"%K"}),(0,b.jsx)(k.Line,{type:"monotone",dataKey:"d",stroke:"#ef4444",strokeWidth:2,dot:!1,name:"%D"})]}),u?.map((a,c)=>(0,b.jsx)(r.ReferenceLine,{y:a.value,stroke:a.color,strokeDasharray:"3 3",label:{value:a.label,fill:a.color,fontSize:12}},c))]})})})]})}var u=a.i(7807),v=a.i(37436),w=a.i(88029),x=a.i(17778),y=a.i(6991),z=a.i(12582);let A=[{id:"sma",name:"SMA",color:"#3b82f6",params:{period:20}},{id:"ema",name:"EMA",color:"#8b5cf6",params:{period:12}},{id:"rsi",name:"RSI",color:"#ef4444",params:{period:14},referenceLines:[{value:70,label:"Overbought",color:"#ef4444"},{value:30,label:"Oversold",color:"#22c55e"}]},{id:"macd",name:"MACD",color:"#10b981",params:{}},{id:"bollinger",name:"Bollinger Bands",color:"#f59e0b",params:{period:20,std_dev:2}},{id:"stochastic",name:"Stochastic",color:"#f97316",params:{k_period:14,d_period:3},referenceLines:[{value:80,label:"Overbought",color:"#ef4444"},{value:20,label:"Oversold",color:"#22c55e"}]},{id:"wma",name:"WMA",color:"#06b6d4",params:{period:20}},{id:"mfi",name:"MFI",color:"#ec4899",params:{period:14},referenceLines:[{value:80,label:"Overbought",color:"#ef4444"},{value:20,label:"Oversold",color:"#22c55e"}]},{id:"vwap",name:"VWAP",color:"#84cc16",params:{}},{id:"ichimoku",name:"Ichimoku",color:"#6366f1",params:{}},{id:"parabolic-sar",name:"Parabolic SAR",color:"#f43f5e",params:{}},{id:"atr",name:"ATR",color:"#a855f7",params:{period:14}},{id:"cci",name:"CCI",color:"#14b8a6",params:{period:20},referenceLines:[{value:100,label:"Overbought",color:"#ef4444"},{value:-100,label:"Oversold",color:"#22c55e"}]},{id:"williams_r",name:"Williams %R",color:"#eab308",params:{period:14},referenceLines:[{value:-20,label:"Overbought",color:"#ef4444"},{value:-80,label:"Oversold",color:"#22c55e"}]},{id:"obv",name:"OBV",color:"#22c55e",params:{}}];function B(){let a=(0,d.useParams)(),[j,k]=(0,c.useState)(a.symbol||"AAPL"),[l,m]=(0,c.useState)(j),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)([]),[B,C]=(0,c.useState)({}),[D,E]=(0,c.useState)(["sma","rsi","macd"]),[F,G]=(0,c.useState)(90),H=async(a,b)=>{try{let c=null;switch(a){case"sma":c=await ((a,b=20,c=90)=>u.apiClient.get(`/api/v1/indicators/${a}/sma`,{params:{period:b,days:c}}))(j,b.params.period,F);break;case"ema":c=await ((a,b=20,c=90)=>u.apiClient.get(`/api/v1/indicators/${a}/ema`,{params:{period:b,days:c}}))(j,b.params.period,F);break;case"rsi":c=await ((a,b=14,c=90)=>u.apiClient.get(`/api/v1/indicators/${a}/rsi`,{params:{period:b,days:c}}))(j,b.params.period,F);break;case"macd":c=await ((a,b=12,c=26,d=9,e=90)=>u.apiClient.get(`/api/v1/indicators/${a}/macd`,{params:{fast_period:b,slow_period:c,signal_period:d,days:e}}))(j);break;case"bollinger":c=await ((a,b=20,c=2,d=90)=>u.apiClient.get(`/api/v1/indicators/${a}/bollinger`,{params:{period:b,std_dev:c,days:d}}))(j,b.params.period,b.params.std_dev,F);break;case"stochastic":c=await ((a,b=14,c=3,d=3,e=90)=>u.apiClient.get(`/api/v1/indicators/${a}/stochastic`,{params:{k_period:b,d_period:c,smooth_k:d,days:e}}))(j,b.params.k_period,b.params.d_period,3,F);break;case"wma":c=await ((a,b=20,c=90)=>u.apiClient.get(`/api/v1/indicators/${a}/wma`,{params:{period:b,days:c}}))(j,b.params.period,F);break;case"mfi":c=await ((a,b=14,c=90)=>u.apiClient.get(`/api/v1/indicators/${a}/mfi`,{params:{period:b,days:c}}))(j,b.params.period,F);break;case"vwap":c=await ((a,b=90)=>u.apiClient.get(`/api/v1/indicators/${a}/vwap`,{params:{days:b}}))(j,F);break;case"ichimoku":c=await ((a,b=9,c=26,d=52,e=180)=>u.apiClient.get(`/api/v1/indicators/${a}/ichimoku`,{params:{tenkan_period:b,kijun_period:c,senkou_span_b_period:d,days:e}}))(j);break;case"parabolic-sar":c=await ((a,b=.02,c=.2,d=90)=>u.apiClient.get(`/api/v1/indicators/${a}/parabolic-sar`,{params:{acceleration:b,maximum:c,days:d}}))(j);break;case"atr":c=await ((a,b=14,c=90)=>u.apiClient.get(`/api/v1/indicators/${a}/atr`,{params:{period:b,days:c}}))(j,b.params.period,F);break;case"cci":c=await ((a,b=20,c=90)=>u.apiClient.get(`/api/v1/indicators/${a}/cci`,{params:{period:b,days:c}}))(j,b.params.period,F);break;case"williams_r":c=await ((a,b=14,c=90)=>u.apiClient.get(`/api/v1/indicators/${a}/williams_r`,{params:{period:b,days:c}}))(j,b.params.period,F);break;case"obv":c=await ((a,b=90)=>u.apiClient.get(`/api/v1/indicators/${a}/obv`,{params:{days:b}}))(j,F)}return c}catch(b){return console.error(`Failed to fetch ${a}:`,b),null}},I=async()=>{o(!0),q("");try{let a=await ((a,b="1y")=>u.apiClient.get(`/api/v1/iex/chart/${a}`,{params:{period:b}}))(j,"1y");if(a&&Array.isArray(a)){let b=a.map(a=>({timestamp:a.timestamp||a.date,close:a.close||a.latestPrice}));s(b)}let b={};for(let a of D){let c=A.find(b=>b.id===a);if(c){let d=await H(a,c);d&&(b[a]=d)}}C(b)}catch(a){q(a instanceof Error?a.message:"Failed to fetch data")}finally{o(!1)}};(0,c.useEffect)(()=>{j&&I()},[j,D,F]);let J=a=>{let b=B[a];return b?Array.isArray(b)?b:b.data?Array.isArray(b.data)?b.data:"ichimoku"===a&&b.data.tenkan?b.data.tenkan.map((a,c)=>({timestamp:a.timestamp,value:a.tenkan||a.value||a.kijun,...b.data.senkou_a?.[c]&&{senkou_a:b.data.senkou_a[c].senkou_a},...b.data.senkou_b?.[c]&&{senkou_b:b.data.senkou_b[c].senkou_b},...b.data.chikou?.[c]&&{chikou:b.data.chikou[c].chikou}})):b.data.macd?b.data.macd.map((a,b)=>({timestamp:a.timestamp,value:a.macd||a.value,signal:a.signal,histogram:a.histogram})):b.data.psar?b.data.psar.map(a=>({timestamp:a.timestamp,value:a.psar,trend:a.trend,signal:a.signal})):Object.values(b.data).flat():[]:[]},K=a=>A.find(b=>b.id===a);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Technical Analysis"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Comprehensive technical indicators and chart analysis"})]}),(0,b.jsxs)(e.Button,{onClick:()=>{j&&I()},disabled:n,variant:"outline",children:[(0,b.jsx)(w.RefreshCw,{className:`mr-2 h-4 w-4 ${n?"animate-spin":""}`}),"Refresh"]})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),l.trim()&&k(l.toUpperCase())},className:"flex gap-2",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,b.jsx)(v.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(f.Input,{type:"text",placeholder:"Enter stock/crypto symbol...",value:l,onChange:a=>m(a.target.value.toUpperCase()),className:"pl-9"})]}),(0,b.jsxs)("select",{value:F,onChange:a=>G(Number(a.target.value)),className:"px-3 py-2 border rounded-md",children:[(0,b.jsx)("option",{value:30,children:"30 days"}),(0,b.jsx)("option",{value:60,children:"60 days"}),(0,b.jsx)("option",{value:90,children:"90 days"}),(0,b.jsx)("option",{value:180,children:"180 days"}),(0,b.jsx)("option",{value:365,children:"1 year"})]}),(0,b.jsx)(e.Button,{type:"submit",disabled:n,children:"Analyze"})]}),p&&(0,b.jsx)(g.Card,{className:"border-red-500",children:(0,b.jsx)(g.CardContent,{className:"pt-6",children:(0,b.jsx)("p",{className:"text-sm text-red-500",children:p})})}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(x.BarChart2,{className:"h-5 w-5"}),"Select Indicators"]}),(0,b.jsx)(g.CardDescription,{children:"Toggle indicators to display on chart"})]}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:A.map(a=>(0,b.jsxs)(e.Button,{variant:D.includes(a.id)?"default":"outline",size:"sm",onClick:()=>{var b;return b=a.id,void E(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:"gap-2",children:[D.includes(a.id)&&(0,b.jsx)(y.Activity,{className:"h-3 w-3"}),a.name]},a.id))})})]}),n?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(i.Skeleton,{className:"h-96 w-full"}),D.slice(0,3).map(a=>(0,b.jsx)(i.Skeleton,{className:"h-64 w-full"},a))]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(t,{data:r.map(a=>({timestamp:a.timestamp,value:a.close})),title:`${j} Price`,color:"#3b82f6",showPrice:!1,height:350}),D.map(a=>{let c=K(a),d=J(a);return c&&0!==d.length?(0,b.jsx)(t,{data:d,title:c.name,color:c.color,showPrice:"vwap"===a,priceData:r,referenceLines:c.referenceLines,height:250},a):null})]}),Object.keys(B).length>0&&!n&&(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(z.LineChart,{className:"h-5 w-5"}),"Technical Summary"]})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:D.slice(0,9).map(a=>{let c=K(a),d=J(a),e=d[d.length-1];return c&&e?(0,b.jsxs)("div",{className:"p-3 rounded-lg border",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:c.name}),(0,b.jsx)(h.Badge,{variant:"outline",style:{borderColor:c.color,color:c.color},children:e.value?.toFixed(4)||"N/A"})]}),e.signal&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Signal: ",e.signal]})]},a):null})})})]})]})}a.s(["default",()=>B],78708)}];

//# sourceMappingURL=apps_frontend_src_app_%28dashboard%29_technical_%5Bsymbol%5D_page_tsx_dfaaf3a3._.js.map