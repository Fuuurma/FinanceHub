module.exports=[44615,a=>{"use strict";var b=a.i(86531),c=a.i(9644),d=a.i(31385),e=a.i(53671),f=a.i(49657),g=a.i(59820),h=a.i(6047),i=a.i(61219),j=a.i(53405),k=a.i(17683),l=a.i(13989),m=a.i(48121),n=a.i(81623),o=a.i(60663),p=a.i(12685),q=a.i(66647),r=a.i(76321),s=a.i(53675);function t(){let a=(0,d.useParams)().portfolioId,[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(!0),[D,E]=(0,c.useState)(null);if((0,c.useEffect)(()=>{(async()=>{if(a){C(!0),E(null);try{let[b,c,d,f]=await Promise.all([e.portfoliosApi.getPortfolio(a),e.portfoliosApi.getHoldings(a).catch(()=>[]),e.portfoliosApi.getHistory(a,"1m").catch(()=>[]),e.portfoliosApi.getMetrics(a,"1m").catch(()=>null)]);u(b),w(c),y(d),A(f)}catch(a){E(a instanceof Error?a.message:"Failed to load portfolio")}finally{C(!1)}}})()},[a]),B)return(0,b.jsxs)("div",{className:"space-y-6 p-6",children:[(0,b.jsx)(g.Skeleton,{className:"h-12 w-64"}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsx)(g.Skeleton,{className:"h-32"}),(0,b.jsx)(g.Skeleton,{className:"h-32"}),(0,b.jsx)(g.Skeleton,{className:"h-32"})]}),(0,b.jsx)(g.Skeleton,{className:"h-96"})]});if(D||!t)return(0,b.jsx)("div",{className:"space-y-6 p-6",children:(0,b.jsx)(f.Card,{className:"border-destructive",children:(0,b.jsxs)(f.CardContent,{className:"pt-6 text-center",children:[(0,b.jsx)(l.Wallet,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Portfolio Not Found"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:D||"This portfolio may be private or no longer exists."}),(0,b.jsx)(s.default,{href:"/portfolios",children:(0,b.jsx)(i.Button,{children:"Go to My Portfolios"})})]})})});let F=t.total_value,G=t.day_pnl,H=t.total_pnl,I=v.reduce((a,b)=>{let c=b.asset_type||"other";return a[c]=(a[c]||0)+b.current_value,a},{}),J=Object.values(I).reduce((a,b)=>a+b,0);return(0,b.jsxs)("div",{className:"space-y-6 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:t.name}),(0,b.jsx)(h.Badge,{variant:"outline",className:"text-xs",children:"Shared Portfolio"})]}),t.description&&(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:t.description}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Last updated: ",(0,r.formatDate)(t.updated_at)]})]}),(0,b.jsx)(s.default,{href:"/portfolios",children:(0,b.jsxs)(i.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(q.ExternalLink,{className:"w-4 h-4 mr-2"}),"View My Portfolios"]})})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Total Value"}),(0,b.jsx)(l.Wallet,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:(0,r.formatCurrency)(F)}),(0,b.jsxs)("div",{className:"flex items-center text-sm",children:[G>=0?(0,b.jsx)(j.ArrowUpRight,{className:"w-4 h-4 text-green-500 mr-1"}):(0,b.jsx)(k.ArrowDownRight,{className:"w-4 h-4 text-red-500 mr-1"}),(0,b.jsxs)("span",{className:(0,r.cn)(G>=0?"text-green-500":"text-red-500"),children:[(0,r.formatCurrency)(Math.abs(G))," (",(0,r.formatPercent)(t.day_pnl_percent),")"]}),(0,b.jsx)("span",{className:"text-muted-foreground ml-1",children:"today"})]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Total Gain/Loss"}),H>=0?(0,b.jsx)(m.TrendingUp,{className:"h-4 w-4 text-green-500"}):(0,b.jsx)(n.TrendingDown,{className:"h-4 w-4 text-red-500"})]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:(0,r.formatCurrency)(H)}),(0,b.jsxs)("div",{className:"flex items-center text-sm",children:[(0,b.jsx)("span",{className:(0,r.cn)(H>=0?"text-green-500":"text-red-500"),children:(0,r.formatPercent)(t.total_pnl_percent)}),(0,b.jsx)("span",{className:"text-muted-foreground ml-1",children:"all time"})]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Holdings"}),(0,b.jsx)(o.PieChart,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:v.length}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"assets in portfolio"})]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(o.PieChart,{className:"w-5 h-5"}),"Asset Allocation"]}),(0,b.jsx)(f.CardDescription,{children:"Distribution by asset type"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsx)("div",{className:"space-y-3",children:Object.entries(I).map(([a,c])=>(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"capitalize",children:a}),(0,b.jsx)("span",{className:"text-muted-foreground",children:(0,r.formatCurrency)(c)})]}),(0,b.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-primary rounded-full",style:{width:`${c/J*100}%`}})})]},a))}),(0,b.jsx)("div",{className:"flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),(0,b.jsx)("p",{className:"text-3xl font-bold",children:(0,r.formatCurrency)(J)})]})})]})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(p.BarChart3,{className:"w-5 h-5"}),"Top Holdings"]}),(0,b.jsx)(f.CardDescription,{children:"By current value"})]}),(0,b.jsx)(f.CardContent,{children:0===v.length?(0,b.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No holdings in this portfolio"}):(0,b.jsx)("div",{className:"space-y-3",children:v.sort((a,b)=>b.current_value-a.current_value).slice(0,10).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-muted/50",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.symbol}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.name})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"font-medium",children:(0,r.formatCurrency)(a.current_value)}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.quantity.toLocaleString()," @ ",(0,r.formatCurrency)(a.current_price)]})]})]},a.id))})})]}),z&&(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(m.TrendingUp,{className:"w-5 h-5"}),"Performance Metrics"]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,b.jsxs)("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Return"}),(0,b.jsx)("p",{className:(0,r.cn)("text-2xl font-bold",z.total_return>=0?"text-green-600":"text-red-600"),children:(0,r.formatPercent)(z.total_return_percent)})]}),(0,b.jsxs)("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Annualized"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:(0,r.formatPercent)(z.annualized_return)})]}),(0,b.jsxs)("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Volatility"}),(0,b.jsx)("p",{className:"text2xl font-bold",children:(0,r.formatPercent)(z.volatility)})]}),(0,b.jsxs)("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sharpe Ratio"}),(0,b.jsx)("p",{className:"text2xl font-bold",children:z.sharpe_ratio.toFixed(2)})]})]})})]}),(0,b.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:(0,b.jsx)("p",{children:"Shared via FinanceHub"})})]})}a.s(["default",()=>t])}];

//# sourceMappingURL=0da96_frontend_src_app_%28dashboard%29_portfolios_shared_%5BportfolioId%5D_page_tsx_a457e2ec._.js.map