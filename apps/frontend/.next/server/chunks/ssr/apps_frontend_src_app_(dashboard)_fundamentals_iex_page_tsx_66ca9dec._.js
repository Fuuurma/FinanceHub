module.exports=[82172,a=>{"use strict";var b=a.i(86531),c=a.i(9644),d=a.i(31385),e=a.i(61219),f=a.i(48047),g=a.i(49657),h=a.i(4631),i=a.i(6047),j=a.i(59820),k=a.i(48121),l=a.i(81623),m=a.i(62485);function n({stats:a,loading:c,error:d}){var e;if(c)return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(j.Skeleton,{className:"h-6 w-32"})}),(0,b.jsx)(g.CardContent,{className:"space-y-4",children:[1,2,3,4,5,6].map(a=>(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)(j.Skeleton,{className:"h-4 w-24"}),(0,b.jsx)(j.Skeleton,{className:"h-4 w-20"})]},a))})]});if(d||!a)return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Key Statistics"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-red-500",children:d||"No data available"})})]});let f=(a,b=2)=>null==a?"N/A":Math.abs(a)>=1e9?`${(a/1e9).toFixed(b)}B`:Math.abs(a)>=1e6?`${(a/1e6).toFixed(b)}M`:Math.abs(a)>=1e3?`${(a/1e3).toFixed(b)}K`:a.toFixed(b),h=[{label:"Market Cap",value:f(a.marketCap),change:void 0},{label:"PE Ratio",value:a.peRatio?.toFixed(2)||"N/A",change:void 0},{label:"Forward PE",value:a.forwardPE?.toFixed(2)||"N/A",change:void 0},{label:"EPS",value:f(a.eps),change:void 0},{label:"Dividend Yield",value:null==(e=a.dividendYield)?"N/A":`${e.toFixed(2)}%`,change:void 0},{label:"Beta",value:a.beta?.toFixed(2)||"N/A",change:void 0},{label:"52W High",value:f(a.week52High,2),change:void 0},{label:"52W Low",value:f(a.week52Low,2),change:void 0},{label:"Avg Volume",value:f(a.avgTotalVolume),change:void 0},{label:"Shares Outstanding",value:f(a.sharesOutstanding),change:void 0},{label:"Price to Book",value:a.priceToBook?.toFixed(2)||"N/A",change:void 0},{label:"EV to EBITDA",value:a.evToEbitda?.toFixed(2)||"N/A",change:void 0}];return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Key Statistics"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:h.map((a,c)=>{var d;return(0,b.jsxs)("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:a.label}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[void 0!==a.change&&(null==(d=a.change)||0===d?(0,b.jsx)(m.Minus,{className:"h-3 w-3 text-muted-foreground"}):d>0?(0,b.jsx)(k.TrendingUp,{className:"h-3 w-3 text-green-500"}):(0,b.jsx)(l.TrendingDown,{className:"h-3 w-3 text-red-500"})),(0,b.jsx)("span",{className:"text-sm font-medium",children:a.value})]})]},c)})})})]})}var o=a.i(33678);function p({earnings:a,loading:c,error:d}){if(c)return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(j.Skeleton,{className:"h-6 w-32"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:[1,2,3,4].map(a=>(0,b.jsx)(j.Skeleton,{className:"h-12 w-full"},a))})})]});if(d||!a||0===a.length)return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Earnings"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-red-500",children:d||"No earnings data available"})})]});let e=(a,b=2)=>null==a?"N/A":a.toFixed(b);return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Earnings"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)(o.Table,{children:[(0,b.jsx)(o.TableHeader,{children:(0,b.jsxs)(o.TableRow,{children:[(0,b.jsx)(o.TableHead,{children:"Fiscal Period"}),(0,b.jsx)(o.TableHead,{className:"text-right",children:"EPS Estimate"}),(0,b.jsx)(o.TableHead,{className:"text-right",children:"EPS Actual"}),(0,b.jsx)(o.TableHead,{className:"text-right",children:"Surprise (%)"}),(0,b.jsx)(o.TableHead,{className:"text-right",children:"Result"})]})}),(0,b.jsx)(o.TableBody,{children:a.map((a,c)=>{var d,f,g;return(0,b.jsxs)(o.TableRow,{children:[(0,b.jsx)(o.TableCell,{className:"font-medium",children:a.fiscalPeriod}),(0,b.jsxs)(o.TableCell,{className:"text-right",children:["$",e(a.estimatedEPS)]}),(0,b.jsxs)(o.TableCell,{className:"text-right",children:["$",e(a.actualEPS)]}),(0,b.jsx)(o.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[null==(d=a.surprisePercent)||0===d?(0,b.jsx)(m.Minus,{className:"h-4 w-4 text-muted-foreground"}):d>0?(0,b.jsx)(k.TrendingUp,{className:"h-4 w-4 text-green-500"}):(0,b.jsx)(l.TrendingDown,{className:"h-4 w-4 text-red-500"}),(0,b.jsx)("span",{children:null==(f=a.surprisePercent)?"N/A":`${f.toFixed(2)}%`})]})}),(0,b.jsx)(o.TableCell,{className:"text-right",children:null==(g=a.surprisePercent)?(0,b.jsx)(i.Badge,{variant:"secondary",children:"N/A"}):g>5?(0,b.jsx)(i.Badge,{variant:"default",className:"bg-green-500",children:"Beat"}):g<-5?(0,b.jsx)(i.Badge,{variant:"destructive",children:"Miss"}):(0,b.jsx)(i.Badge,{variant:"secondary",children:"In-line"})})]},c)})})]})})]})}var q=a.i(10658),r=a.i(63547),s=a.i(63638),t=a.i(25166),u=a.i(14767),v=a.i(81726);let w=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];function x({ownership:a,loading:c,error:d}){if(c)return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(j.Skeleton,{className:"h-6 w-32"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)(j.Skeleton,{className:"h-64 w-full"})})]});if(d||!a)return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Ownership"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-red-500",children:d||"No ownership data available"})})]});let e=a.institutionalOwnership.slice(0,10).map(a=>({name:a.ownerName,value:a.shares,percentage:a.positionPct})),f=a.fundOwnership.slice(0,10).map(a=>({name:a.fundName,value:a.shares,percentage:a.positionPct})),h=({active:a,payload:c})=>{if(a&&c&&c.length){let a=c[0].payload;return(0,b.jsxs)("div",{className:"bg-background border rounded-lg p-3 shadow-lg",children:[(0,b.jsx)("p",{className:"font-medium",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Shares: ",a.value.toLocaleString()]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.percentage?.toFixed(2),"% of outstanding"]})]})}return null};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Institutional Ownership"})}),(0,b.jsx)(g.CardContent,{children:e.length>0?(0,b.jsx)(t.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(q.PieChart,{children:[(0,b.jsx)(r.Pie,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:a=>`${a.name}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.map((a,c)=>(0,b.jsx)(s.Cell,{fill:w[c%w.length]},`cell-${c}`))}),(0,b.jsx)(v.Tooltip,{content:(0,b.jsx)(h,{})}),(0,b.jsx)(u.Legend,{})]})}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No institutional ownership data available"})})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Fund Ownership"})}),(0,b.jsx)(g.CardContent,{children:f.length>0?(0,b.jsx)(t.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(q.PieChart,{children:[(0,b.jsx)(r.Pie,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:a=>`${a.name}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:f.map((a,c)=>(0,b.jsx)(s.Cell,{fill:w[c%w.length]},`cell-${c}`))}),(0,b.jsx)(v.Tooltip,{content:(0,b.jsx)(h,{})}),(0,b.jsx)(u.Legend,{})]})}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No fund ownership data available"})})]})]})}function y({peers:a,symbol:d,loading:f,error:h}){let[n,p]=(0,c.useState)("marketCap"),[q,r]=(0,c.useState)("desc");if(f)return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(j.Skeleton,{className:"h-6 w-32"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:[1,2,3,4,5].map(a=>(0,b.jsx)(j.Skeleton,{className:"h-12 w-full"},a))})})]});if(h||!a||0===a.length)return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Peer Comparison"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-red-500",children:h||"No peer data available"})})]});let s=[...a].sort((a,b)=>{let c,d;switch(n){case"symbol":return"asc"===q?a.symbol.localeCompare(b.symbol):b.symbol.localeCompare(a.symbol);case"marketCap":c=a.marketCap,d=b.marketCap;break;case"peRatio":c=a.peRatio,d=b.peRatio;break;case"dividendYield":c=a.dividendYield,d=b.dividendYield;break;case"beta":c=a.beta,d=b.beta}return null==c?1:null==d?-1:"asc"===q?c-d:d-c}),t=({field:a})=>(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",className:"h-6 p-0 font-normal",onClick:()=>{n===a?r("asc"===q?"desc":"asc"):(p(a),r("desc"))},children:[n===a&&("asc"===q?(0,b.jsx)(k.TrendingUp,{className:"h-3 w-3"}):(0,b.jsx)(l.TrendingDown,{className:"h-3 w-3"})),n!==a&&(0,b.jsx)(m.Minus,{className:"h-3 w-3 opacity-20"})]});return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Peer Comparison"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:"rounded-md border",children:(0,b.jsxs)(o.Table,{children:[(0,b.jsx)(o.TableHeader,{children:(0,b.jsxs)(o.TableRow,{children:[(0,b.jsx)(o.TableHead,{children:"Symbol"}),(0,b.jsx)(o.TableHead,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1",children:["Market Cap",(0,b.jsx)(t,{field:"marketCap"})]})}),(0,b.jsx)(o.TableHead,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1",children:["P/E Ratio",(0,b.jsx)(t,{field:"peRatio"})]})}),(0,b.jsx)(o.TableHead,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1",children:["Dividend Yield",(0,b.jsx)(t,{field:"dividendYield"})]})}),(0,b.jsx)(o.TableHead,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1",children:["Beta",(0,b.jsx)(t,{field:"beta"})]})})]})}),(0,b.jsx)(o.TableBody,{children:s.map(a=>{var c;return(0,b.jsxs)(o.TableRow,{children:[(0,b.jsx)(o.TableCell,{className:"font-medium",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a.symbol,a.symbol===d&&(0,b.jsx)(i.Badge,{variant:"secondary",className:"text-xs",children:"You"})]})}),(0,b.jsx)(o.TableCell,{className:"text-right",children:((a,b=2)=>null==a?"N/A":Math.abs(a)>=1e9?`${(a/1e9).toFixed(b)}B`:Math.abs(a)>=1e6?`${(a/1e6).toFixed(b)}M`:Math.abs(a)>=1e3?`${(a/1e3).toFixed(b)}K`:a.toFixed(b))(a.marketCap)}),(0,b.jsx)(o.TableCell,{className:"text-right",children:a.peRatio?.toFixed(2)||"N/A"}),(0,b.jsx)(o.TableCell,{className:"text-right",children:null==(c=a.dividendYield)?"N/A":`${c.toFixed(2)}%`}),(0,b.jsx)(o.TableCell,{className:"text-right",children:a.beta?.toFixed(2)||"N/A"})]},a.symbol)})})]})})})]})}var z=a.i(32857),A=a.i(37436),B=a.i(26199),C=a.i(23409),D=a.i(12685),E=a.i(88029),F=a.i(47208);function G(){let a=(0,d.useParams)(),[j,l]=(0,c.useState)(a.symbol||"AAPL"),[m,o]=(0,c.useState)(j),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)([]),[w,G]=(0,c.useState)(null),[H,I]=(0,c.useState)([]),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(""),N=async a=>{K(!0),M("");try{let[b,c,d,e,f]=await Promise.all([z.iexCloudApi.getCompanyInfo(a),z.iexCloudApi.getKeyStats(a),z.iexCloudApi.getEarnings(a),z.iexCloudApi.getOwnership(a),z.iexCloudApi.getPeers(a)]);r(b),t(c);let g=d.map(a=>({...a,fiscalPeriod:a.fiscalPeriod?.toString()||"N/A",surprisePercent:a.EPSSurprisePercent}));v(g),G(e),I(f)}catch(a){M(a instanceof Error?a.message:"Failed to fetch data")}finally{K(!1)}};return(0,c.useEffect)(()=>{j&&N(j)},[j]),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"IEX Cloud Fundamentals"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Comprehensive stock fundamentals, earnings, ownership, and peer analysis"})]}),(0,b.jsxs)(e.Button,{onClick:()=>{j&&N(j)},disabled:J,variant:"outline",children:[(0,b.jsx)(E.RefreshCw,{className:`mr-2 h-4 w-4 ${J?"animate-spin":""}`}),"Refresh"]})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),m.trim()&&l(m.toUpperCase())},className:"flex gap-2",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,b.jsx)(A.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(f.Input,{type:"text",placeholder:"Enter stock symbol...",value:m,onChange:a=>o(a.target.value),className:"pl-9"})]}),(0,b.jsx)(e.Button,{type:"submit",disabled:J,children:"Search"})]}),L&&(0,b.jsx)(g.Card,{className:"border-red-500",children:(0,b.jsx)(g.CardContent,{className:"pt-6",children:(0,b.jsx)("p",{className:"text-sm text-red-500",children:L})})}),q&&!J&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(B.Building2,{className:"h-5 w-5"}),q.companyName]}),(0,b.jsxs)(g.CardDescription,{className:"mt-2",children:[(0,b.jsx)(i.Badge,{variant:"secondary",className:"mr-2",children:q.symbol}),q.industry," â€¢ ",q.sector]})]})})}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:q.description}),(0,b.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"CEO:"})," ",q.CEO]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Employees:"})," ",q.employees?.toLocaleString()]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Website:"})," ",(0,b.jsx)("a",{href:q.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:q.website})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Exchange:"})," ",q.exchange]})]})]})]}),(0,b.jsxs)(h.Tabs,{defaultValue:"keystats",className:"space-y-4",children:[(0,b.jsxs)(h.TabsList,{className:"grid w-full grid-cols-4",children:[(0,b.jsxs)(h.TabsTrigger,{value:"keystats",children:[(0,b.jsx)(D.BarChart3,{className:"mr-2 h-4 w-4"}),"Key Stats"]}),(0,b.jsxs)(h.TabsTrigger,{value:"earnings",children:[(0,b.jsx)(C.DollarSign,{className:"mr-2 h-4 w-4"}),"Earnings"]}),(0,b.jsxs)(h.TabsTrigger,{value:"ownership",children:[(0,b.jsx)(F.Building,{className:"mr-2 h-4 w-4"}),"Ownership"]}),(0,b.jsxs)(h.TabsTrigger,{value:"peers",children:[(0,b.jsx)(k.TrendingUp,{className:"mr-2 h-4 w-4"}),"Peers"]})]}),(0,b.jsx)(h.TabsContent,{value:"keystats",className:"space-y-4",children:(0,b.jsx)(n,{stats:s,loading:J})}),(0,b.jsx)(h.TabsContent,{value:"earnings",className:"space-y-4",children:(0,b.jsx)(p,{earnings:u,loading:J})}),(0,b.jsx)(h.TabsContent,{value:"ownership",className:"space-y-4",children:(0,b.jsx)(x,{ownership:w,loading:J})}),(0,b.jsx)(h.TabsContent,{value:"peers",className:"space-y-4",children:(0,b.jsx)(y,{peers:H,symbol:j,loading:J})})]})]}),J&&(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"pt-6",children:(0,b.jsx)("div",{className:"space-y-3",children:[1,2,3,4].map(a=>(0,b.jsx)("div",{className:"h-12 w-full animate-pulse rounded bg-muted"},a))})})})})]})}a.s(["default",()=>G],82172)}];

//# sourceMappingURL=apps_frontend_src_app_%28dashboard%29_fundamentals_iex_page_tsx_66ca9dec._.js.map