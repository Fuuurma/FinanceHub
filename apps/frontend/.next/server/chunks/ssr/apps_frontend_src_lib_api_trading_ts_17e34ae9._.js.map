{"version":3,"sources":["../../../../../../apps/frontend/src/lib/api/trading.ts"],"sourcesContent":["import { apiClient } from './client'\nimport type {\n  Order,\n  OrderCreateInput,\n  Position,\n  AccountSummary,\n  PositionSummary,\n  Trade,\n  TradeFilters,\n  TradeStats,\n  OrderFilters,\n  OrderStats,\n  OrderStatusFilter,\n  OrderTypeFilter,\n} from '../types/trading'\n\nexport const tradingApi = {\n  orders: {\n    list: async (params?: OrderFilters & { limit?: number; offset?: number }) => {\n      const queryParams = new URLSearchParams()\n      if (params?.portfolio_id) queryParams.append('portfolio_id', params.portfolio_id)\n      if (params?.asset_id) queryParams.append('asset_id', params.asset_id)\n      if (params?.asset_symbol) queryParams.append('asset_symbol', params.asset_symbol)\n      if (params?.side) queryParams.append('side', params.side)\n      if (params?.status && params.status !== 'all') queryParams.append('status', params.status)\n      if (params?.order_type && params.order_type !== 'all') queryParams.append('order_type', params.order_type)\n      if (params?.start_date) queryParams.append('start_date', params.start_date)\n      if (params?.end_date) queryParams.append('end_date', params.end_date)\n      if (params?.limit) queryParams.append('limit', params.limit.toString())\n      if (params?.offset) queryParams.append('offset', params.offset.toString())\n\n      return apiClient.get<Order[]>(`/trading/orders?${queryParams.toString()}`)\n    },\n\n    get: async (orderId: string) => {\n      return apiClient.get<Order>(`/trading/orders/${orderId}`)\n    },\n\n    create: async (data: OrderCreateInput) => {\n      return apiClient.post<Order>('/trading/orders', data)\n    },\n\n    update: async (orderId: string, data: Partial<OrderCreateInput>) => {\n      return apiClient.put<Order>(`/trading/orders/${orderId}`, data)\n    },\n\n    cancel: async (orderId: string, reason?: string) => {\n      const body = reason ? { reason } : {}\n      return apiClient.post<{ success: boolean; message: string }>(`/trading/orders/${orderId}/cancel`, body)\n    },\n\n    getStats: async (params?: { portfolio_id?: string }) => {\n      const queryParams = new URLSearchParams()\n      if (params?.portfolio_id) queryParams.append('portfolio_id', params.portfolio_id)\n\n      return apiClient.get<OrderStats>(`/trading/orders/stats?${queryParams.toString()}`)\n    },\n  },\n\n  positions: {\n    list: async (params?: {\n      portfolio_id?: string\n      is_open?: boolean\n      limit?: number\n      offset?: number\n    }) => {\n      const queryParams = new URLSearchParams()\n      if (params?.portfolio_id) queryParams.append('portfolio_id', params.portfolio_id)\n      if (params?.is_open !== undefined) queryParams.append('is_open', params.is_open.toString())\n      if (params?.limit) queryParams.append('limit', params.limit.toString())\n      if (params?.offset) queryParams.append('offset', params.offset.toString())\n\n      return apiClient.get<Position[]>(`/trading/positions?${queryParams.toString()}`)\n    },\n\n    get: async (positionId: string) => {\n      return apiClient.get<Position>(`/trading/positions/${positionId}`)\n    },\n\n    close: async (positionId: string) => {\n      return apiClient.post<{ success: boolean; message: string; realized_pnl: number; closed_price: number }>(`/trading/positions/${positionId}/close`)\n    },\n  },\n\n  account: {\n    getSummary: async () => {\n      return apiClient.get<AccountSummary>('/trading/account/summary')\n    },\n  },\n\n  positionsSummary: {\n    get: async (params?: { portfolio_id?: string }) => {\n      const queryParams = new URLSearchParams()\n      if (params?.portfolio_id) queryParams.append('portfolio_id', params.portfolio_id)\n\n      return apiClient.get<PositionSummary>(`/trading/positions/summary?${queryParams.toString()}`)\n    },\n  },\n\n  trades: {\n    list: async (params?: TradeFilters & { limit?: number; offset?: number }) => {\n      const queryParams = new URLSearchParams()\n      if (params?.portfolio_id) queryParams.append('portfolio_id', params.portfolio_id)\n      if (params?.asset_id) queryParams.append('asset_id', params.asset_id)\n      if (params?.asset_symbol) queryParams.append('asset_symbol', params.asset_symbol)\n      if (params?.side) queryParams.append('side', params.side)\n      if (params?.start_date) queryParams.append('start_date', params.start_date)\n      if (params?.end_date) queryParams.append('end_date', params.end_date)\n      if (params?.min_value) queryParams.append('min_value', params.min_value.toString())\n      if (params?.max_value) queryParams.append('max_value', params.max_value.toString())\n      if (params?.limit) queryParams.append('limit', params.limit.toString())\n      if (params?.offset) queryParams.append('offset', params.offset.toString())\n\n      return apiClient.get<Trade[]>(`/trading/trades?${queryParams.toString()}`)\n    },\n\n    get: async (tradeId: string) => {\n      return apiClient.get<Trade>(`/trading/trades/${tradeId}`)\n    },\n\n    getStats: async (params?: { portfolio_id?: string; start_date?: string; end_date?: string }) => {\n      const queryParams = new URLSearchParams()\n      if (params?.portfolio_id) queryParams.append('portfolio_id', params.portfolio_id)\n      if (params?.start_date) queryParams.append('start_date', params.start_date)\n      if (params?.end_date) queryParams.append('end_date', params.end_date)\n\n      return apiClient.get<TradeStats>(`/trading/trades/stats?${queryParams.toString()}`)\n    },\n  },\n}\n"],"names":[],"mappings":"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"}