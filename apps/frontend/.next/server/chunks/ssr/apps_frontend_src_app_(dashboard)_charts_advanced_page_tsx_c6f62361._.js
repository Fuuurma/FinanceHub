module.exports=[50797,a=>{"use strict";var b=a.i(86531),c=a.i(9644);a.i(85803);var d=a.i(43145),e=a.i(97573),f=a.i(79121),g=a.i(49657),h=a.i(61219),i=a.i(4631),j=a.i(6047),k=a.i(53642),l=a.i(59820),m=a.i(22194),n=a.i(12582),o=a.i(48121),p=a.i(81623),q=a.i(6991),r=a.i(23409),s=a.i(31239),t=a.i(85191),u=a.i(55694),v=a.i(88585),w=a.i(49452),x=a.i(1688),y=a.i(18588),z=a.i(62121),A=a.i(49313),B=a.i(92780);function C(){let[a,m]=(0,c.useState)("AAPL"),[C,D]=(0,c.useState)("1d"),[E,F]=(0,c.useState)("candlestick"),[G,H]=(0,c.useState)(!0),[I,J]=(0,c.useState)([]),[K,L]=(0,c.useState)({}),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)(!1),[Q,R]=(0,c.useState)({current:null,change:null,changePercent:null,high:null,low:null,open:null,previousClose:null,volume:null}),[S,T]=(0,c.useState)(null),U=(0,c.useCallback)(async()=>{try{P(!0);let b=await B.assetsApi.getPrice(a);if(b){let a=b.change_percent||0;T(a),R({current:b.price||null,change:b.change||null,changePercent:a,high:b.high||null,low:b.low||null,open:b.open||null,previousClose:null,volume:b.volume||null})}}catch(a){console.error("Failed to load price data:",a)}finally{P(!1)}},[a]);(0,c.useEffect)(()=>{U()},[U]);let V=(0,c.useCallback)(a=>{m(a)},[]),W=(0,c.useCallback)(a=>{D(a)},[]),X=(0,c.useCallback)(a=>{F(a)},[]),Y=(0,c.useCallback)(a=>{H(a)},[]),Z=(0,c.useCallback)((a,b)=>{J(c=>b?[...c,a]:c.filter(b=>b!==a))},[]),$=a=>null===a?"--":`$${a.toFixed(2)}`,_=(0,c.useMemo)(()=>{var a;return[{title:"Current Price",value:$(Q.current),icon:r.DollarSign,color:"text-foreground"},{title:"24h Change",value:(a=>{if(null===a)return"--";let b=a>=0?"+":"";return`${b}${a.toFixed(2)}%`})(Q.changePercent),icon:null!==Q.changePercent&&Q.changePercent>=0?o.TrendingUp:p.TrendingDown,color:null!==Q.changePercent&&Q.changePercent>=0?"text-green-500":"text-red-500",badge:null!==Q.changePercent&&Q.changePercent>=0?"+":""},{title:"24h High / Low",value:`${$(Q.high)} / ${$(Q.low)}`,icon:q.Activity,color:"text-foreground",mono:!0},{title:"24h Volume",value:null===(a=Q.volume)?"--":a>=1e9?`${(a/1e9).toFixed(2)}B`:a>=1e6?`${(a/1e6).toFixed(2)}M`:a>=1e3?`${(a/1e3).toFixed(2)}K`:a.toString(),icon:x.Clock,color:"text-muted-foreground"}]},[Q]);return(0,b.jsxs)("div",{className:`container mx-auto py-6 space-y-6 ${M?"fixed inset-0 z-50 bg-background p-6":""}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Advanced Charts"}),(0,b.jsxs)(j.Badge,{variant:"outline",className:"text-sm",children:[a," / USD"]}),null!==S&&(0,b.jsxs)(j.Badge,{variant:S>=0?"default":"destructive",className:S>=0?"bg-green-500":"",children:[S>=0?(0,b.jsx)(o.TrendingUp,{className:"h-3 w-3 mr-1"}):(0,b.jsx)(p.TrendingDown,{className:"h-3 w-3 mr-1"}),S>=0?"+":"",S.toFixed(2),"%"]})]}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Professional charting powered by TradingView Lightweight Charts with technical indicators"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.IndicatorConfigModal,{showIndicators:I,indicatorConfig:K,onShowIndicatorsChange:J,onIndicatorConfigChange:L,children:(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(A.Settings,{className:"h-4 w-4 mr-1"}),"Indicators",I.length>0&&(0,b.jsx)("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-primary text-primary-foreground rounded-full",children:I.length})]})}),(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",onClick:()=>N(!M),children:[M?(0,b.jsx)(t.Minimize2,{className:"h-4 w-4 mr-1"}):(0,b.jsx)(s.Maximize2,{className:"h-4 w-4 mr-1"}),M?"Exit Fullscreen":"Fullscreen"]}),(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(v.Share2,{className:"h-4 w-4 mr-1"}),"Share"]}),(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(w.Bell,{className:"h-4 w-4 mr-1"}),"Alert"]})]})]}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:_.map((a,c)=>(0,b.jsxs)(g.Card,{className:1===c&&null!==Q.changePercent&&Q.changePercent<0?"border-red-200 dark:border-red-900":"",children:[(0,b.jsx)(g.CardHeader,{className:"pb-2",children:(0,b.jsxs)(g.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(a.icon,{className:"h-4 w-4"}),a.title]})}),(0,b.jsx)(g.CardContent,{children:O?(0,b.jsx)(l.Skeleton,{className:"h-8 w-24"}):(0,b.jsxs)("div",{className:`text-2xl font-bold ${a.color}`,children:[a.badge&&(0,b.jsx)("span",{className:"text-sm mr-0.5",children:a.badge}),a.value]})})]},a.title))}),(0,b.jsxs)(i.Tabs,{defaultValue:"chart",className:"space-y-4",children:[(0,b.jsxs)(i.TabsList,{children:[(0,b.jsxs)(i.TabsTrigger,{value:"chart",children:[(0,b.jsx)(n.LineChart,{className:"h-4 w-4 mr-2"}),"Chart"]}),(0,b.jsxs)(i.TabsTrigger,{value:"analysis",children:[(0,b.jsx)(q.Activity,{className:"h-4 w-4 mr-2"}),"Technical Analysis"]}),(0,b.jsxs)(i.TabsTrigger,{value:"watchlist",children:[(0,b.jsx)(z.Zap,{className:"h-4 w-4 mr-2"}),"Watchlist"]})]}),(0,b.jsxs)(i.TabsContent,{value:"chart",className:"space-y-4",children:[(0,b.jsx)(f.IndicatorConfigModal,{showIndicators:I,indicatorConfig:K,onShowIndicatorsChange:J,onIndicatorConfigChange:L,children:(0,b.jsx)("div",{})}),(0,b.jsx)(e.ChartControls,{symbol:a,currentTimeframe:C,currentType:E,showVolume:G,activeIndicators:I,onSymbolChange:V,onTimeframeChange:W,onTypeChange:X,onVolumeToggle:Y,onIndicatorToggle:Z}),(0,b.jsx)(d.TradingViewChart,{symbol:a,chartType:E,timeframe:C,height:M?window.innerHeight-300:700,showVolume:G,showIndicators:I,indicatorConfig:K,onSymbolChange:V}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"w-3 h-3 rounded-sm bg-green-500"}),"Bullish"]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"w-3 h-3 rounded-sm bg-red-500"}),"Bearish"]}),(0,b.jsx)("span",{children:"Keyboard shortcuts: 1-8 for timeframes, C/L/A/B for chart types"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Separator,{orientation:"vertical",className:"h-4"}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(u.Download,{className:"h-4 w-4"}),"Data by Polygon.io"]})]})]})]}),(0,b.jsx)(i.TabsContent,{value:"analysis",children:(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(q.Activity,{className:"h-5 w-5"}),"Technical Analysis"]}),(0,b.jsx)(g.CardDescription,{children:"Select indicators to overlay on the chart. Active indicators will appear on your chart."})]}),(0,b.jsxs)(g.CardContent,{children:[I.length>0&&(0,b.jsxs)("div",{className:"mb-4 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:"Active Indicators"}),(0,b.jsx)(h.Button,{variant:"ghost",size:"sm",className:"text-xs",onClick:()=>J([]),children:"Clear all"})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:I.map(a=>{let c=[{id:"sma20",name:"SMA 20"},{id:"sma50",name:"SMA 50"},{id:"sma200",name:"SMA 200"},{id:"ema12",name:"EMA 12"},{id:"ema26",name:"EMA 26"},{id:"rsi",name:"RSI 14"},{id:"macd",name:"MACD"},{id:"bollinger",name:"Bollinger Bands"}].find(b=>b.id===a);return(0,b.jsxs)(j.Badge,{variant:"secondary",className:"flex items-center gap-1",children:[c?.name||a,(0,b.jsx)("button",{className:"ml-1 hover:text-destructive",onClick:()=>Z(a,!1),children:"Ã—"})]},a)})})]}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[{id:"sma20",name:"SMA 20",desc:"Simple Moving Average (20 periods)",category:"Moving Averages",color:"#3b82f6"},{id:"sma50",name:"SMA 50",desc:"Simple Moving Average (50 periods)",category:"Moving Averages",color:"#22c55e"},{id:"sma200",name:"SMA 200",desc:"Simple Moving Average (200 periods)",category:"Moving Averages",color:"#f59e0b"},{id:"ema12",name:"EMA 12",desc:"Exponential Moving Average (12 periods)",category:"Moving Averages",color:"#8b5cf6"},{id:"ema26",name:"EMA 26",desc:"Exponential Moving Average (26 periods)",category:"Moving Averages",color:"#ec4899"},{id:"rsi",name:"RSI 14",desc:"Relative Strength Index (14 periods)",category:"Oscillators",color:"#06b6d4"},{id:"macd",name:"MACD",desc:"Moving Average Convergence Divergence",category:"Oscillators",color:"#f97316"},{id:"bollinger",name:"Bollinger Bands",desc:"Bollinger Bands (20, 2)",category:"Volatility",color:"#84cc16"}].map(a=>(0,b.jsxs)("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${I.includes(a.id)?"border-primary bg-primary/5 shadow-sm":"hover:border-primary/50 hover:bg-muted/50"}`,onClick:()=>Z(a.id,!I.includes(a.id)),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("span",{className:"font-medium flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color}}),a.name]}),I.includes(a.id)&&(0,b.jsx)(j.Badge,{variant:"default",className:"text-xs",children:"Active"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.desc}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:a.category})]},a.id))})]})]})}),(0,b.jsx)(i.TabsContent,{value:"watchlist",children:(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(z.Zap,{className:"h-5 w-5"}),"Quick Access Watchlist"]}),(0,b.jsx)(g.CardDescription,{children:"Click on any symbol to load it in the chart"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"grid gap-2 md:grid-cols-4 lg:grid-cols-6",children:["AAPL","MSFT","GOOGL","AMZN","TSLA","META","NVDA","JPM","BTC","ETH","SPY","QQQ"].map(c=>(0,b.jsx)(h.Button,{variant:a===c?"default":"outline",size:"sm",className:"font-mono",onClick:()=>V(c),children:c},c))}),(0,b.jsx)(k.Separator,{className:"my-4"}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(y.Calendar,{className:"h-4 w-4"}),"Press number keys 1-8 to change timeframe"]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"font-mono",children:"C"})," / ",(0,b.jsx)("span",{className:"font-mono",children:"L"})," / ",(0,b.jsx)("span",{className:"font-mono",children:"A"})," / ",(0,b.jsx)("span",{className:"font-mono",children:"B"})," to change chart type"]})]})]})]})})]})]})}function D(){return(0,b.jsx)(m.PageErrorBoundary,{onError:(a,b)=>{console.error("Advanced Charts page error:",a,b)},children:(0,b.jsx)(C,{})})}a.s(["default",()=>D])}];

//# sourceMappingURL=apps_frontend_src_app_%28dashboard%29_charts_advanced_page_tsx_c6f62361._.js.map