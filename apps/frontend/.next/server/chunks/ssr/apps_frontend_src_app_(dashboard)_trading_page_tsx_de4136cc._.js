module.exports=[33757,a=>{"use strict";var b=a.i(86531),c=a.i(9644),d=a.i(31385);let e=(0,a.i(69779).create)((b,c)=>({orders:[],positions:[],accountSummary:null,loading:{orders:!1,positions:!1,account:!1},error:null,fetchOrders:async()=>{let d=c();b({loading:{...d.loading,orders:!0},error:null});try{let{tradingApi:c}=await a.A(81643),e=await c.orders.list({limit:100});b({orders:e,loading:{...d.loading,orders:!1}})}catch(a){b({error:a instanceof Error?a.message:"Failed to fetch orders",loading:{...d.loading,orders:!1}})}},createOrder:async d=>{let e=c();b({loading:{...e.loading,orders:!0},error:null});try{let{tradingApi:c}=await a.A(81643),f=await c.orders.create(d);b({orders:[f,...e.orders],loading:{...e.loading,orders:!1}})}catch(a){throw b({error:a instanceof Error?a.message:"Failed to create order",loading:{...e.loading,orders:!1}}),a}},updateOrder:async(d,e)=>{let f=c();b({loading:{...f.loading,orders:!0},error:null});try{let{tradingApi:c}=await a.A(81643),g=await c.orders.update(d,e);b({orders:f.orders.map(a=>a.id===d?g:a),loading:{...f.loading,orders:!1}})}catch(a){throw b({error:a instanceof Error?a.message:"Failed to update order",loading:{...f.loading,orders:!1}}),a}},cancelOrder:async d=>{let e=c();b({loading:{...e.loading,orders:!0},error:null});try{let{tradingApi:c}=await a.A(81643);await c.orders.cancel(d),b({orders:e.orders.map(a=>a.id===d?{...a,status:"cancelled"}:a),loading:{...e.loading,orders:!1}})}catch(a){throw b({error:a instanceof Error?a.message:"Failed to cancel order",loading:{...e.loading,orders:!1}}),a}},fetchPositions:async()=>{let d=c();b({loading:{...d.loading,positions:!0},error:null});try{let{tradingApi:c}=await a.A(81643),e=await c.positions.list({limit:100});b({positions:e,loading:{...d.loading,positions:!1}})}catch(a){b({error:a instanceof Error?a.message:"Failed to fetch positions",loading:{...d.loading,positions:!1}})}},closePosition:async d=>{let e=c();b({loading:{...e.loading,positions:!0},error:null});try{let{tradingApi:f}=await a.A(81643);await f.positions.close(d),await c().fetchPositions(),b({loading:{...e.loading,positions:!1}})}catch(a){throw b({error:a instanceof Error?a.message:"Failed to close position",loading:{...e.loading,positions:!1}}),a}},fetchAccountSummary:async()=>{let d=c();b({loading:{...d.loading,account:!0},error:null});try{let{tradingApi:c}=await a.A(81643),e=await c.account.getSummary();b({accountSummary:e,loading:{...d.loading,account:!1}})}catch(a){b({error:a instanceof Error?a.message:"Failed to fetch account summary",loading:{...d.loading,account:!1}})}},clearError:()=>b({error:null})}));var f=a.i(61219),g=a.i(48047),h=a.i(51145),i=a.i(47627),j=a.i(49657),k=a.i(48121),l=a.i(81623),m=a.i(23409),n=a.i(78360);let o=(0,n.default)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);function p({onSubmit:a,defaultSymbol:d=""}){let n,p,q,r,[s,t]=(0,c.useState)("buy"),[u,v]=(0,c.useState)("market"),[w,x]=(0,c.useState)(d),[y,z]=(0,c.useState)("1"),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)("day"),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(!1),{accountSummary:K,loading:L}=e();(0,c.useEffect)(()=>{d&&x(d)},[d]);let M=(n=parseFloat(y)||0,p=parseFloat(A)||0,q=parseFloat(C)||0,r=0,"market"===u?r=0:"limit"===u?r=n*p:"stop"===u?r=n*q:"stop_limit"===u&&(r=n*p),r),N=.001*M,O=M+N;return(0,b.jsxs)(j.Card,{className:"border-2 border-foreground",children:[(0,b.jsxs)(j.CardHeader,{children:[(0,b.jsxs)(j.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(o,{className:"h-5 w-5"}),"Order Entry"]}),(0,b.jsx)(j.CardDescription,{children:"Place new buy or sell orders"})]}),(0,b.jsx)(j.CardContent,{children:(0,b.jsxs)("form",{onSubmit:b=>{b.preventDefault();let c={portfolio_id:"",asset_id:"",order_type:u,side:s,quantity:parseFloat(y),price:"market"!==u?parseFloat(A):void 0,stop_price:"stop"===u||"stop_limit"===u?parseFloat(C):void 0,time_in_force:E,notes:G||void 0};a&&a(c),J(!1)},className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Button,{type:"button",variant:"buy"===s?"default":"outline",className:`flex-1 ${"buy"===s?"bg-green-600 hover:bg-green-700":""}`,onClick:()=>t("buy"),children:[(0,b.jsx)(k.TrendingUp,{className:"h-4 w-4 mr-2"}),"BUY"]}),(0,b.jsxs)(f.Button,{type:"button",variant:"sell"===s?"default":"outline",className:`flex-1 ${"sell"===s?"bg-red-600 hover:bg-red-700":""}`,onClick:()=>t("sell"),children:[(0,b.jsx)(l.TrendingDown,{className:"h-4 w-4 mr-2"}),"SELL"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"symbol",children:"Symbol"}),(0,b.jsx)(g.Input,{id:"symbol",value:w,onChange:a=>x(a.target.value.toUpperCase()),placeholder:"AAPL",className:"font-mono uppercase",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"orderType",children:"Order Type"}),(0,b.jsxs)(i.Select,{value:u,onValueChange:a=>v(a),children:[(0,b.jsx)(i.SelectTrigger,{id:"orderType",children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"market",children:"Market Order"}),(0,b.jsx)(i.SelectItem,{value:"limit",children:"Limit Order"}),(0,b.jsx)(i.SelectItem,{value:"stop",children:"Stop Order"}),(0,b.jsx)(i.SelectItem,{value:"stop_limit",children:"Stop-Limit Order"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"quantity",children:"Quantity"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Input,{id:"quantity",type:"number",step:"0.0001",min:"0",value:y,onChange:a=>z(a.target.value),placeholder:"0.00",className:"flex-1",required:!0}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)(f.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>z("100"),children:"25%"}),(0,b.jsx)(f.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>z("250"),children:"50%"}),(0,b.jsx)(f.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>z("500"),children:"75%"}),(0,b.jsx)(f.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>z("1000"),children:"100%"})]})]})]}),"limit"===u||"stop_limit"===u?(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"price",children:"Limit Price"}),(0,b.jsx)(g.Input,{id:"price",type:"number",step:"0.01",min:"0",value:A,onChange:a=>B(a.target.value),placeholder:"0.00",className:"font-mono",required:!0})]}):null,"stop"===u||"stop_limit"===u?(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"stopPrice",children:"Stop Price"}),(0,b.jsx)(g.Input,{id:"stopPrice",type:"number",step:"0.01",min:"0",value:C,onChange:a=>D(a.target.value),placeholder:"0.00",className:"font-mono",required:!0})]}):null,(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"timeInForce",children:"Time in Force"}),(0,b.jsxs)(i.Select,{value:E,onValueChange:a=>F(a),children:[(0,b.jsx)(i.SelectTrigger,{id:"timeInForce",children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"day",children:"Day Order"}),(0,b.jsx)(i.SelectItem,{value:"gtc",children:"Good Till Cancelled"}),(0,b.jsx)(i.SelectItem,{value:"ioc",children:"Immediate or Cancel"}),(0,b.jsx)(i.SelectItem,{value:"fok",children:"Fill or Kill"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"notes",children:"Notes (Optional)"}),(0,b.jsx)(g.Input,{id:"notes",value:G,onChange:a=>H(a.target.value),placeholder:"Order notes..."})]}),(0,b.jsx)(j.Card,{className:"bg-muted/30",children:(0,b.jsxs)(j.CardContent,{className:"pt-6 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Estimated Cost"}),(0,b.jsxs)("span",{className:"font-mono font-semibold",children:["$",M.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Est. Fees (0.1%)"}),(0,b.jsxs)("span",{className:"font-mono",children:["$",N.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"border-t pt-2 flex justify-between",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Total"}),(0,b.jsxs)("span",{className:"font-mono font-bold text-lg",children:["$",O.toFixed(2)]})]})]})}),"market"===u&&(0,b.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:(0,b.jsxs)("p",{className:"text-xs text-yellow-600 dark:text-yellow-500",children:[(0,b.jsx)("strong",{children:"Market Order:"})," Will execute at the best available price. Slippage may occur during periods of high volatility."]})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Button,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{z("1"),B(""),D(""),H("")},children:"Reset"}),(0,b.jsxs)(f.Button,{type:"button",className:"buy"===s?"flex-2 bg-green-600 hover:bg-green-700":"flex-2 bg-red-600 hover:bg-red-700",onClick:()=>J(!0),disabled:L.orders,children:[(0,b.jsx)(m.DollarSign,{className:"h-4 w-4 mr-2"}),"Review Order"]})]})]})})]})}var q=a.i(6047),r=a.i(33678),s=a.i(67884),t=a.i(88029),u=a.i(80298),v=a.i(55694),w=a.i(37590),x=a.i(76321),y=a.i(40062);function z(){let{positions:a,loading:d,closePosition:h,fetchPositions:i}=e(),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)("unrealized_pnl"),[z,A]=(0,c.useState)("desc"),[B,C]=(0,c.useState)(null),{downloadCSV:D}=(0,y.useDownloadFile)();(0,c.useEffect)(()=>{i();let a=setInterval(()=>i(),5e3);return()=>clearInterval(a)},[i]);let E=a.filter(a=>a.asset_symbol.toLowerCase().includes(m.toLowerCase())||a.asset_name.toLowerCase().includes(m.toLowerCase())).sort((a,b)=>{let c=a[o],d=b[o];return"number"==typeof c&&"number"==typeof d?"asc"===z?c-d:d-c:0}),F=a=>{o===a?A("asc"===z?"desc":"asc"):(p(a),A("desc"))},G=async a=>{confirm("Are you sure you want to close this position?")&&await h(a)};return d.positions?(0,b.jsx)(j.Card,{children:(0,b.jsx)(j.CardContent,{className:"py-12",children:(0,b.jsx)("div",{className:"flex items-center justify-center",children:(0,b.jsx)(t.RefreshCw,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}):(0,b.jsxs)(j.Card,{className:"border-2 border-foreground",children:[(0,b.jsx)(j.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(j.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(k.TrendingUp,{className:"h-5 w-5"}),"Position Tracker",(0,b.jsxs)(q.Badge,{variant:"secondary",children:[E.length," positions"]})]}),(0,b.jsx)(j.CardDescription,{children:"Real-time P&L tracking for open positions"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>{D(["Symbol,Side,Quantity,Avg Price,Current Price,Market Value,P&L,P&L %,Days Open",...E.map(a=>[a.asset_symbol,a.side,a.quantity,a.avg_entry_price,a.current_price||"N/A",a.market_value||"N/A",a.unrealized_pnl.toFixed(2),a.unrealized_pnl_percent.toFixed(2),a.days_open]).map(a=>a.join(","))].join("\n"),`positions-${new Date().toISOString().split("T")[0]}.csv`)},children:[(0,b.jsx)(v.Download,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:i,disabled:d.positions,children:[(0,b.jsx)(t.RefreshCw,{className:(0,x.cn)("h-4 w-4 mr-2",d.positions&&"animate-spin")}),"Refresh"]})]})]})}),(0,b.jsxs)(j.CardContent,{children:[(0,b.jsx)("div",{className:"mb-4 flex gap-4",children:(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(u.Filter,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(g.Input,{placeholder:"Search positions...",value:m,onChange:a=>n(a.target.value),className:"pl-8"})]})})}),(0,b.jsx)("div",{className:"rounded-md border",children:(0,b.jsxs)(r.Table,{children:[(0,b.jsx)(r.TableHeader,{children:(0,b.jsxs)(r.TableRow,{children:[(0,b.jsxs)(r.TableHead,{className:"cursor-pointer hover:bg-muted",onClick:()=>F("asset_symbol"),children:["Symbol","asset_symbol"===o&&(0,b.jsx)("span",{className:"ml-2",children:"asc"===z?"↑":"↓"})]}),(0,b.jsxs)(r.TableHead,{className:"cursor-pointer hover:bg-muted",onClick:()=>F("side"),children:["Side","side"===o&&(0,b.jsx)("span",{className:"ml-2",children:"asc"===z?"↑":"↓"})]}),(0,b.jsxs)(r.TableHead,{className:"cursor-pointer hover:bg-muted text-right",onClick:()=>F("quantity"),children:["Quantity","quantity"===o&&(0,b.jsx)("span",{className:"ml-2",children:"asc"===z?"↑":"↓"})]}),(0,b.jsxs)(r.TableHead,{className:"cursor-pointer hover:bg-muted text-right",onClick:()=>F("avg_entry_price"),children:["Avg Price","avg_entry_price"===o&&(0,b.jsx)("span",{className:"ml-2",children:"asc"===z?"↑":"↓"})]}),(0,b.jsxs)(r.TableHead,{className:"cursor-pointer hover:bg-muted text-right",onClick:()=>F("current_price"),children:["Current Price","current_price"===o&&(0,b.jsx)("span",{className:"ml-2",children:"asc"===z?"↑":"↓"})]}),(0,b.jsxs)(r.TableHead,{className:"cursor-pointer hover:bg-muted text-right",onClick:()=>F("market_value"),children:["Market Value","market_value"===o&&(0,b.jsx)("span",{className:"ml-2",children:"asc"===z?"↑":"↓"})]}),(0,b.jsxs)(r.TableHead,{className:"cursor-pointer hover:bg-muted text-right",onClick:()=>F("unrealized_pnl"),children:["P&L","unrealized_pnl"===o&&(0,b.jsx)("span",{className:"ml-2",children:"asc"===z?"↑":"↓"})]}),(0,b.jsxs)(r.TableHead,{className:"cursor-pointer hover:bg-muted text-right",onClick:()=>F("unrealized_pnl_percent"),children:["P&L %","unrealized_pnl_percent"===o&&(0,b.jsx)("span",{className:"ml-2",children:"asc"===z?"↑":"↓"})]}),(0,b.jsxs)(r.TableHead,{className:"cursor-pointer hover:bg-muted text-right",onClick:()=>F("days_open"),children:["Days","days_open"===o&&(0,b.jsx)("span",{className:"ml-2",children:"asc"===z?"↑":"↓"})]}),(0,b.jsx)(r.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(r.TableBody,{children:E.map(a=>(0,b.jsxs)(r.TableRow,{children:[(0,b.jsx)(r.TableCell,{className:"font-medium",children:(0,b.jsx)("a",{href:`/dashboard/assets/${a.asset_id}`,className:"hover:underline",children:a.asset_symbol})}),(0,b.jsx)(r.TableCell,{children:(0,b.jsxs)(q.Badge,{variant:"long"===a.side?"default":"secondary",children:["long"===a.side?(0,b.jsx)(k.TrendingUp,{className:"h-3 w-3 mr-1"}):(0,b.jsx)(l.TrendingDown,{className:"h-3 w-3 mr-1"}),a.side.toUpperCase()]})}),(0,b.jsx)(r.TableCell,{className:"text-right font-mono",children:a.quantity.toFixed(4)}),(0,b.jsxs)(r.TableCell,{className:"text-right font-mono",children:["$",a.avg_entry_price.toFixed(2)]}),(0,b.jsxs)(r.TableCell,{className:"text-right font-mono",children:["$",a.current_price?.toFixed(2)||"N/A"]}),(0,b.jsxs)(r.TableCell,{className:"text-right font-mono",children:["$",a.market_value?.toFixed(2)||"N/A"]}),(0,b.jsxs)(r.TableCell,{className:(0,x.cn)("text-right font-mono font-semibold",a.unrealized_pnl>=0?"text-green-600":"text-red-600"),children:[a.unrealized_pnl>=0?"+":"","$",a.unrealized_pnl.toFixed(2)]}),(0,b.jsxs)(r.TableCell,{className:(0,x.cn)("text-right font-mono",a.unrealized_pnl_percent>=0?"text-green-600":"text-red-600"),children:[a.unrealized_pnl_percent>=0?"+":"",a.unrealized_pnl_percent.toFixed(2),"%"]}),(0,b.jsx)(r.TableCell,{className:"text-right font-mono text-muted-foreground",children:a.days_open}),(0,b.jsx)(r.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>C(a),children:(0,b.jsx)(w.Star,{className:"h-4 w-4"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>G(a.id),className:"hover:bg-destructive hover:text-destructive-foreground",children:(0,b.jsx)(s.X,{className:"h-4 w-4"})})]})})]},a.id))})]})}),0===E.length&&(0,b.jsx)("div",{className:"py-12 text-center text-muted-foreground",children:"No positions found"})]})]})}var A=a.i(72091),B=a.i(13989),C=a.i(6991),D=a.i(32610);function E(){let{accountSummary:a,loading:d,fetchAccountSummary:f}=e();if((0,c.useEffect)(()=>{f();let a=setInterval(f,1e4);return()=>clearInterval(a)},[f]),d.account||!a)return(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(a=>(0,b.jsx)(j.Card,{children:(0,b.jsx)(j.CardContent,{className:"pt-6",children:(0,b.jsx)("div",{className:"h-20 animate-pulse bg-muted rounded"})})},a))});let g=a.margin_used/(a.margin_used+a.margin_available)*100,h=a.unrealized_pnl+a.realized_pnl_today,i=h>=0?"text-green-600":"text-red-600";return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsxs)(j.Card,{className:"border-2 border-primary",children:[(0,b.jsxs)(j.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(j.CardTitle,{className:"text-sm font-medium",children:"Total Account Value"}),(0,b.jsx)(B.Wallet,{className:"h-4 w-4 text-primary"})]}),(0,b.jsxs)(j.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",a.total_account_value.toLocaleString()]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Cash + Positions"})]})]}),(0,b.jsxs)(j.Card,{children:[(0,b.jsxs)(j.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(j.CardTitle,{className:"text-sm font-medium",children:"Buying Power"}),(0,b.jsx)(m.DollarSign,{className:"h-4 w-4 text-green-600"})]}),(0,b.jsxs)(j.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",a.buying_power.toLocaleString()]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Available for trading"})]})]}),(0,b.jsxs)(j.Card,{children:[(0,b.jsxs)(j.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(j.CardTitle,{className:"text-sm font-medium",children:"Total Cash"}),(0,b.jsx)(m.DollarSign,{className:"h-4 w-4 text-blue-600"})]}),(0,b.jsxs)(j.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",a.total_cash.toLocaleString()]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["$",a.available_cash.toLocaleString()," available"]})]})]}),(0,b.jsxs)(j.Card,{children:[(0,b.jsxs)(j.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(j.CardTitle,{className:"text-sm font-medium",children:"Positions Value"}),(0,b.jsx)(C.Activity,{className:"h-4 w-4 text-purple-600"})]}),(0,b.jsxs)(j.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",a.total_positions_value.toLocaleString()]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.day_trading_volume.toLocaleString()," vol today"]})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsxs)(j.Card,{children:[(0,b.jsxs)(j.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(j.CardTitle,{className:"text-sm font-medium",children:"Today's P&L"}),(0,b.jsx)(k.TrendingUp,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(j.CardContent,{children:[(0,b.jsxs)("div",{className:(0,x.cn)("text-2xl font-bold",i),children:[h>=0?"+":"","$",h.toLocaleString()]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Unrealized: $",a.unrealized_pnl.toLocaleString(),(0,b.jsx)("br",{}),"Realized: $",a.realized_pnl_today.toLocaleString()]})]})]}),(0,b.jsxs)(j.Card,{children:[(0,b.jsxs)(j.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(j.CardTitle,{className:"text-sm font-medium",children:"Margin Used"}),(0,b.jsx)(D.AlertTriangle,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsx)(j.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{children:["$",a.margin_used.toLocaleString()]}),(0,b.jsxs)("span",{className:"text-muted-foreground",children:["/ $",(a.margin_used+a.margin_available).toLocaleString()]})]}),(0,b.jsx)(A.Progress,{value:g,className:"h-2"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[g.toFixed(1),"% utilized"]})]})})]}),(0,b.jsxs)(j.Card,{children:[(0,b.jsxs)(j.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(j.CardTitle,{className:"text-sm font-medium",children:"Trading Activity"}),(0,b.jsx)(C.Activity,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsx)(j.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Day Trades"}),(0,b.jsx)("span",{className:"font-semibold",children:a.day_trades_count})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Volume"}),(0,b.jsxs)("span",{className:"font-semibold",children:["$",a.day_trading_volume.toLocaleString()]})]})]})})]})]}),(0,b.jsxs)(j.Card,{children:[(0,b.jsx)(j.CardHeader,{children:(0,b.jsx)(j.CardTitle,{children:"Risk Indicators"})}),(0,b.jsx)(j.CardContent,{children:(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.TrendingUp,{className:"h-4 w-4 text-green-600"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Largest Win"})]}),(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"+$10,500.00"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Based on today's trades"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(l.TrendingDown,{className:"h-4 w-4 text-red-600"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Largest Loss"})]}),(0,b.jsx)("div",{className:"text-2xl font-bold text-red-600",children:"-$3,250.00"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Based on today's trades"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(C.Activity,{className:"h-4 w-4 text-blue-600"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Win Rate"})]}),(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"68.5%"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.day_trades_count," trades today"]})]})]})})]})]})}var F=a.i(22253),G=a.i(87897),H=a.i(57917);function I({open:a,onOpenChange:c,orderData:d,estimatedCost:e,fees:g,totalValue:h,onConfirm:i,loading:j=!1}){if(!d)return null;let k="market"===d.order_type,l="buy"===d.side?"text-green-600":"text-red-600";return(0,b.jsx)(F.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(F.DialogContent,{className:"border-2 border-foreground",children:[(0,b.jsxs)(F.DialogHeader,{children:[(0,b.jsxs)(F.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(H.CheckCircle,{className:"h-5 w-5 text-green-600"}),"Confirm Order"]}),(0,b.jsx)(F.DialogDescription,{children:"Please review your order details before submitting"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Order Type"}),(0,b.jsx)("p",{className:"font-semibold",children:{market:"Market Order",limit:"Limit Order",stop:"Stop Order",stop_limit:"Stop-Limit Order",oco:"OCO Order"}[d.order_type]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Side"}),(0,b.jsx)(q.Badge,{className:l,children:d.side.toUpperCase()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),(0,b.jsx)("p",{className:"font-semibold font-mono",children:d.quantity})]}),d.time_in_force&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Time in Force"}),(0,b.jsx)("p",{className:"font-semibold",children:d.time_in_force.toUpperCase()})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Limit Price"}),(0,b.jsxs)("p",{className:"font-semibold font-mono",children:["$",d.price?.toFixed(2)||"Market"]})]}),d.stop_price&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Stop Price"}),(0,b.jsxs)("p",{className:"font-semibold font-mono",children:["$",d.stop_price.toFixed(2)]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Order Notes"}),(0,b.jsx)("p",{className:"font-semibold text-sm",children:d.notes||"None"})]}),k&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Estimated Fill Price"}),(0,b.jsxs)("p",{className:"font-semibold font-mono",children:["$",e.toFixed(2)]})]})]})]}),(0,b.jsx)("div",{className:"bg-muted/30 border border-foreground/20 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Estimated Cost"}),(0,b.jsxs)("span",{className:"font-mono font-semibold",children:["$",e.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Estimated Fees (0.1%)"}),(0,b.jsxs)("span",{className:"font-mono",children:["$",g.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"border-t border-foreground/20 pt-2 flex justify-between",children:[(0,b.jsx)("span",{className:"font-bold",children:"Total"}),(0,b.jsxs)("span",{className:"font-mono font-bold text-lg",children:["$",h.toFixed(2)]})]})]})}),k&&(0,b.jsxs)(G.Alert,{variant:"destructive",children:[(0,b.jsx)(D.AlertTriangle,{className:"h-4 w-4"}),(0,b.jsxs)(G.AlertDescription,{children:[(0,b.jsx)("strong",{children:"Market Order Risk:"})," Your order will execute at the best available price in the market. Slippage may occur during periods of high volatility or low liquidity."]})]}),(0,b.jsxs)(G.Alert,{children:[(0,b.jsx)(D.AlertTriangle,{className:"h-4 w-4"}),(0,b.jsxs)(G.AlertDescription,{children:[(0,b.jsx)("strong",{children:"Paper Trading Disclaimer:"})," This is a simulated trading environment. No real money is at risk. All orders are executed using paper trading rules for demonstration purposes."]})]})]}),(0,b.jsxs)(F.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>c(!1),disabled:j,children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:()=>{i(),c(!1)},disabled:j,className:"buy"===d.side?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700",children:j?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Submitting..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(H.CheckCircle,{className:"h-4 w-4 mr-2"}),"buy"===d.side?"Buy":"Sell"," ",d.quantity," @"," ",d.price?`$${d.price.toFixed(2)}`:"MARKET"]})})]})]})})}var J=a.i(61254),K=a.i(28858),L=a.i(85100),M=a.i(27306),N=a.i(63073),O=a.i(1581),P=a.i(2605),Q=a.i(12582),R=a.i(12685),S=a.i(77750);let T=(0,n.default)("chart-area",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]]),U=[{value:"1m",label:"1m"},{value:"5m",label:"5m"},{value:"15m",label:"15m"},{value:"30m",label:"30m"},{value:"1h",label:"1H"},{value:"4h",label:"4H"},{value:"1d",label:"1D"},{value:"1w",label:"1W"}],V=[{value:"candlestick",label:"Candlestick",icon:(0,b.jsx)(S.CandlestickChart,{className:"h-4 w-4"})},{value:"line",label:"Line",icon:(0,b.jsx)(Q.LineChart,{className:"h-4 w-4"})},{value:"area",label:"Area",icon:(0,b.jsx)(T,{className:"h-4 w-4"})},{value:"bar",label:"Bar",icon:(0,b.jsx)(R.BarChart3,{className:"h-4 w-4"})}];function W({symbol:a,initialTimeframe:d="1h",initialChartType:e="candlestick",indicators:g=[],onIndicatorsChange:h,height:j=500}){let l,{prices:m,charts:n,setChartTimeframe:o}=(0,O.useRealtimeStore)(),[p,r]=(0,c.useState)(e),[s,t]=(0,c.useState)(d),[u,v]=(0,c.useState)(!0),[w,y]=(0,c.useState)(g.length>0),[z,A]=(0,c.useState)(g),[B,D]=(0,c.useState)([]),[E,F]=(0,c.useState)(!1),G=(0,c.useRef)(null),H=(0,c.useRef)(null),I=(0,c.useRef)(null),J=(0,c.useRef)(null),K=(0,c.useRef)(null);return((0,c.useEffect)(()=>{o(a,s)},[a,s,o]),(0,c.useEffect)(()=>{g.length>0&&(A(g),y(!0))},[g]),(0,c.useEffect)(()=>{let b=m[a];if(b){let a={time:b.timestamp,price:b.price,volume:b.volume};D(b=>[...b,a].slice(-P.CHART_CONFIG.BUFFER_SIZES[s]))}},[m,a,s]),(0,c.useEffect)(()=>{if(!G.current)return;let a=(0,M.createChart)(G.current,{width:G.current.clientWidth,height:j,layout:{background:{type:M.ColorType.Solid,color:"#0a0a0a"},textColor:"#a0a0a0"},grid:{vertLines:{color:"#1a1a1a"},horzLines:{color:"#1a1a1a"}},crosshair:{mode:M.CrosshairMode.Normal},rightPriceScale:{borderColor:"#1a1a1a"},timeScale:{borderColor:"#1a1a1a",timeVisible:!0,secondsVisible:!1}});H.current=a;let b=null,c=null;switch(p){case"candlestick":b=a.addCandlestickSeries({upColor:"#22C55E",downColor:"#EF4444",borderDownColor:"#EF4444",borderUpColor:"#22C55E",wickDownColor:"#EF4444",wickUpColor:"#22C55E"});break;case"line":b=a.addLineSeries({color:"#3B82F6",lineWidth:2});break;case"area":b=a.addAreaSeries({topColor:"rgba(59, 130, 246, 0.4)",bottomColor:"rgba(59, 130, 246, 0.0)",lineColor:"#3B82F6",lineWidth:2});break;case"bar":b=a.addHistogramSeries({color:"#6B7280"})}return I.current=b,u&&((c=a.addHistogramSeries({color:"rgba(148, 163, 184, 0.3)",priceFormat:{type:"volume"},priceScaleId:""}))&&c.priceScale().applyOptions({scaleMargins:{top:.8,bottom:0}}),J.current=c),K.current=new ResizeObserver(()=>{G.current&&a.applyOptions({width:G.current.clientWidth,height:j})}),K.current.observe(G.current),()=>{K.current?.disconnect(),a.remove()}},[p,u,j]),(0,c.useEffect)(()=>{if(!I.current||0===B.length)return;let a=B.map(a=>({time:Number(a.time)/1e3,open:a.price,high:a.price*(1+.002*Math.random()),low:a.price*(1-.002*Math.random()),close:a.price})),b=B[B.length-1],c={...a[a.length-1],high:Math.max(b.price,a[a.length-1].high),low:Math.min(b.price,a[a.length-1].low),close:b.price};a[a.length-1]=c,"candlestick"===p?I.current.setData(a):"line"===p||"area"===p?I.current.setData(B.map(a=>({time:Number(a.time)/1e3,value:a.price}))):"bar"===p&&I.current.setData(B.map(a=>({time:Number(a.time)/1e3,value:a.volume,color:a.price>=(B[B.indexOf(a)-1]?.price||a.price)?"#22C55E":"#EF4444"}))),J.current&&u&&J.current.setData(B.map(a=>({time:a.time/1e3,value:a.volume,color:a.price>=(B[Math.max(0,B.indexOf(a)-1)]?.price||a.price)?"rgba(34, 197, 94, 0.3)":"rgba(239, 68, 68, 0.3)"}))),H.current?.timeScale().fitContent()},[B,p,u]),0===B.length)?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:a}),(0,b.jsx)(q.Badge,{variant:E?"default":"destructive",children:E?"Connected":"Disconnected"})]})}),(0,b.jsx)("div",{className:"flex items-center justify-center border rounded-lg bg-background",style:{height:j},children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(C.Activity,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2 animate-pulse"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:E?"Waiting for data...":"Connect to see real-time data"})]})})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:a}),(0,b.jsx)(q.Badge,{variant:E?"default":"destructive",children:E?"Live":"Offline"}),B.length>0&&(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:(l=B[B.length-1]?.price||0,(0,x.formatCurrency)(l))})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsxs)(i.Select,{value:s,onValueChange:a=>t(a),children:[(0,b.jsx)(i.SelectTrigger,{className:"w-20",children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsx)(i.SelectContent,{children:U.map(a=>(0,b.jsx)(i.SelectItem,{value:a.value,children:a.label},a.value))})]}),(0,b.jsxs)(N.DropdownMenu,{children:[(0,b.jsx)(N.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",children:[V.find(a=>a.value===p)?.icon,(0,b.jsx)("span",{className:"ml-2 hidden sm:inline",children:V.find(a=>a.value===p)?.label})]})}),(0,b.jsxs)(N.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(N.DropdownMenuLabel,{children:"Chart Type"}),(0,b.jsx)(N.DropdownMenuSeparator,{}),V.map(a=>(0,b.jsxs)(N.DropdownMenuCheckboxItem,{checked:p===a.value,onCheckedChange:()=>r(a.value),children:[a.icon,(0,b.jsx)("span",{className:"ml-2",children:a.label})]},a.value))]})]}),(0,b.jsx)(f.Button,{variant:u?"default":"outline",size:"sm",onClick:()=>v(!u),children:(0,b.jsx)(C.Activity,{className:"h-4 w-4"})}),(0,b.jsx)(f.Button,{variant:w?"default":"outline",size:"sm",onClick:()=>y(!w),children:(0,b.jsx)(k.TrendingUp,{className:"h-4 w-4"})})]})]}),(0,b.jsx)("div",{ref:G,className:"border rounded-lg bg-background",style:{height:j}}),w&&z.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:z.map(a=>(0,b.jsxs)(q.Badge,{variant:"outline",className:"px-3 py-1",style:{borderColor:a.color,color:a.color},children:[a.type.toUpperCase(),(0,b.jsx)("button",{onClick:()=>{let b=z.filter(b=>b.type!==a.type);A(b),h?.(b)},className:"ml-2 hover:text-destructive",children:"×"})]},a.type))}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,b.jsxs)("span",{children:["Last update: ",new Date().toLocaleTimeString()]}),(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Real-time data"]})]})]})}var X=a.i(4631),Y=a.i(74473),Z=a.i(34168),$=a.i(49313),_=a.i(7807),aa=a.i(92780);function ab(){let a=(0,d.useRouter)(),{orders:g,loading:h,createOrder:i,fetchOrders:k,clearError:l,error:m}=e(),[n,o]=(0,c.useState)("AAPL"),[r,s]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(0);(0,c.useEffect)(()=>(k(),()=>l()),[k,l]);let y=async a=>{try{let b=await aa.assetsApi.get(a.asset_id),c=a.quantity*(b.metrics?.close||0);x(c),v({...a,portfolio_id:"default-portfolio"}),s(!0)}catch(a){console.error("Failed to fetch asset:",a)}},A=async()=>{if(u)try{await i(u),s(!1),v(null),await k()}catch(a){console.error("Failed to create order:",a)}},B=g.filter(a=>a.is_active).slice(0,10);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Trading"}),(0,b.jsx)(J.ConnectionStatus,{})]}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"Execute trades and manage positions"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Button,{variant:"outline",onClick:()=>a.push("/dashboard"),children:[(0,b.jsx)(Z.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),(0,b.jsxs)(f.Button,{variant:"outline",children:[(0,b.jsx)($.Settings,{className:"h-4 w-4 mr-2"}),"Trading Settings"]})]})]}),m&&(0,b.jsx)(G.Alert,{variant:"destructive",children:(0,b.jsx)(G.AlertDescription,{children:m})}),(0,b.jsx)(E,{}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,b.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,b.jsx)(p,{onSubmit:y,defaultSymbol:n}),(0,b.jsxs)(j.Card,{children:[(0,b.jsxs)(j.CardHeader,{children:[(0,b.jsxs)(j.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(Y.LayoutGrid,{className:"h-5 w-5"}),"Recent Orders",(0,b.jsxs)(q.Badge,{variant:"secondary",children:[B.length," active"]})]}),(0,b.jsx)(j.CardDescription,{children:"Latest order activity"})]}),(0,b.jsx)(j.CardContent,{children:h.orders?(0,b.jsx)("div",{className:"py-4 text-center text-muted-foreground",children:(0,b.jsx)(t.RefreshCw,{className:"h-6 w-6 mx-auto animate-spin"})}):0===B.length?(0,b.jsx)("div",{className:"py-8 text-center text-muted-foreground",children:"No active orders"}):(0,b.jsx)("div",{className:"space-y-3",children:B.map(a=>(0,b.jsxs)("div",{className:"border rounded-lg p-3 hover:bg-muted/50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:a.asset_symbol}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.order_type.toUpperCase()," • ",a.side.toUpperCase()]})]}),(0,b.jsx)(q.Badge,{variant:"pending"===a.status?"default":"secondary",children:a.status.toUpperCase()})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:"Quantity"}),(0,b.jsx)("p",{className:"font-mono font-semibold",children:a.quantity})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:"Price"}),(0,b.jsxs)("p",{className:"font-mono font-semibold",children:["$",a.price||"MKT"]})]})]}),(0,b.jsxs)("div",{className:"mt-2 text-sm text-muted-foreground",children:[a.filled_quantity>0&&(0,b.jsxs)("p",{children:["Filled: ",a.filled_quantity," / ",a.quantity]}),(0,b.jsx)("p",{className:"text-xs",children:new Date(a.created_at).toLocaleString()})]})]},a.id))})})]})]}),(0,b.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,b.jsxs)(X.Tabs,{defaultValue:"positions",className:"w-full",children:[(0,b.jsxs)(X.TabsList,{className:"grid w-full grid-cols-3",children:[(0,b.jsx)(X.TabsTrigger,{value:"positions",children:"Positions"}),(0,b.jsx)(X.TabsTrigger,{value:"chart",children:"Chart"}),(0,b.jsx)(X.TabsTrigger,{value:"orderbook",children:"Order Book"})]}),(0,b.jsx)(X.TabsContent,{value:"positions",className:"space-y-4",children:(0,b.jsx)(z,{})}),(0,b.jsxs)(X.TabsContent,{value:"chart",className:"space-y-4",children:[(0,b.jsxs)(j.Card,{children:[(0,b.jsx)(j.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(j.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(R.BarChart3,{className:"h-5 w-5"}),n," Chart"]}),(0,b.jsx)(j.CardDescription,{children:"Real-time price and volume"})]}),(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(t.RefreshCw,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),(0,b.jsx)(j.CardContent,{children:(0,b.jsx)(W,{symbol:n})})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsx)(L.TradeFeed,{symbol:n,limit:10}),(0,b.jsx)(K.OrderBook,{symbol:n,depth:10})]})]}),(0,b.jsxs)(X.TabsContent,{value:"orderbook",className:"space-y-4",children:[(0,b.jsx)(K.OrderBook,{symbol:n,depth:20}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)(j.Card,{children:[(0,b.jsx)(j.CardHeader,{children:(0,b.jsx)(j.CardTitle,{children:"Recent Trades"})}),(0,b.jsx)(j.CardContent,{children:(0,b.jsx)(L.TradeFeed,{symbol:n,limit:20})})]}),(0,b.jsxs)(j.Card,{children:[(0,b.jsx)(j.CardHeader,{children:(0,b.jsx)(j.CardTitle,{children:"Order Statistics"})}),(0,b.jsx)(j.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Volume (24h)"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:"45.2M"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Trades (24h)"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:"284,392"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Trade Size"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:"159"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Spread"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"$0.01"})]})]})})]})]})]})]})})]}),(0,b.jsx)(I,{open:r,onOpenChange:s,orderData:u,estimatedCost:w,fees:.001*w,totalValue:1.001*w,onConfirm:A,loading:h.orders})]})}a.i(66567),a.i(66149),a.i(53671),a.i(29488),a.i(65366),a.i(79759),a.i(65234),a.i(35629),a.i(19711),new class{async getHistoricalData(a,b="1h",c=100){let d=new URLSearchParams;return d.append("timeframe",b),d.append("limit",c.toString()),await _.apiClient.get(`/charts/historical/${a}?${d.toString()}`)}async listDrawings(a,b){let c=new URLSearchParams;return b&&c.append("timeframe",b),await _.apiClient.get(`/charts/drawings/${a}?${c.toString()}`)}async getDrawing(a){return _.apiClient.get(`/charts/drawings/by-id/${a}`)}async createDrawing(a){return _.apiClient.post(`/charts/drawings/${a.symbol}`,a)}async updateDrawing(a,b){return _.apiClient.put(`/charts/drawings/by-id/${a}`,b)}async deleteDrawing(a){return _.apiClient.delete(`/charts/drawings/by-id/${a}`)}async getIndicatorValues(a,b,c,d){let e=new URLSearchParams;return c&&e.append("timeframe",c),d&&e.append("limit",d.toString()),await _.apiClient.get(`/charts/indicators/${a}/${b}?${e.toString()}`)}async listLayouts(){return _.apiClient.get("/charts/layouts")}async getLayout(a){return _.apiClient.get(`/charts/layouts/${a}`)}async createLayout(a){return _.apiClient.post("/charts/layouts",a)}async updateLayout(a,b){return _.apiClient.put(`/charts/layouts/${a}`,b)}async deleteLayout(a){return _.apiClient.delete(`/charts/layouts/${a}`)}},a.i(57697),a.s(["default",()=>ab],33757)}];

//# sourceMappingURL=apps_frontend_src_app_%28dashboard%29_trading_page_tsx_de4136cc._.js.map